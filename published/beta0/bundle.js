// ==UserScript==
// @name        ganbarometer-svelte
// @description Svelte version of the GanbarOmeter for Wanikani
// @namespace   https://github.com/wrex/
// @version     0.1.3
// @homepage    https://github.com/wrex/ganbarometer-svelte#readme
// @author      Rex Walters -- rw [at] pobox.com
// @license     MIT-0
// @resource    css https://raw.githubusercontent.com/wrex/ganbarometer-svelte/main/published/beta0/bundle.css
// @include     /^https://(www|preview).wanikani.com/(dashboard)?$/
// @connect     github.com
// @run-at      document-idle
// @downloadURL https://raw.githubusercontent.com/wrex/ganbarometer-svelte/main/published/beta0/bundle.js
// @updateURL   https://raw.githubusercontent.com/wrex/ganbarometer-svelte/main/published/beta0/bundle.js
// @grant       GM_addStyle
// @grant       GM_getResourceText
// @grant       GM_xmlhttpRequest
// ==/UserScript==
GM_addStyle(GM_getResourceText("css"));var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function s(){return Object.create(null)}function l(e){e.forEach(n)}function a(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,...n){if(null==t)return e;const s=t.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function o(e,t,n){e.$$.on_destroy.push(i(t,n))}function c(e,t,n,s){return e[1]&&s?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](s(t))):n.ctx}function u(e,t,n){return e.set(n),t}const d="undefined"!=typeof window;let p=d?()=>window.performance.now():()=>Date.now(),f=d?e=>requestAnimationFrame(e):e;const g=new Set;function m(e){g.forEach((t=>{t.c(e)||(g.delete(t),t.f())})),0!==g.size&&f(m)}function h(e){let t;return 0===g.size&&f(m),{promise:new Promise((n=>{g.add(t={c:e,f:n})})),abort(){g.delete(t)}}}function v(e,t){e.appendChild(t)}function b(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function $(e){const t=z("style");return function(e,t){v(e.head||e,t)}(b(e),t),t}function y(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function z(e){return document.createElement(e)}function C(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function _(e){return document.createTextNode(e)}function k(){return _(" ")}function M(){return _("")}function T(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function S(e){return function(t){return t.preventDefault(),e.call(this,t)}}function W(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function q(e){return""===e?null:+e}function F(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function j(e,t){e.value=null==t?"":t}function A(e,t,n,s){e.style.setProperty(t,n,s?"important":"")}function O(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}e.selectedIndex=-1}function R(e,t,n){e.classList[n?"add":"remove"](t)}function D(e,t,n=!1){const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,n,!1,t),s}const E=new Set;let I,L=0;function B(e,t,n,s,l,a,r,i=0){const o=16.666/s;let c="{\n";for(let e=0;e<=1;e+=o){const s=t+(n-t)*a(e);c+=100*e+`%{${r(s,1-s)}}\n`}const u=c+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${i}`,p=b(e);E.add(p);const f=p.__svelte_stylesheet||(p.__svelte_stylesheet=$(e).sheet),g=p.__svelte_rules||(p.__svelte_rules={});g[d]||(g[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${s}ms linear ${l}ms 1 both`,L+=1,d}function V(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),l=n.length-s.length;l&&(e.style.animation=s.join(", "),L-=l,L||f((()=>{L||(E.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),E.clear())})))}function H(e){I=e}function N(){if(!I)throw new Error("Function called outside component initialization");return I}function Z(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const G=[],P=[],K=[],Q=[],J=Promise.resolve();let U=!1;function Y(e){K.push(e)}let X=!1;const ee=new Set;function te(){if(!X){X=!0;do{for(let e=0;e<G.length;e+=1){const t=G[e];H(t),ne(t.$$)}for(H(null),G.length=0;P.length;)P.pop()();for(let e=0;e<K.length;e+=1){const t=K[e];ee.has(t)||(ee.add(t),t())}K.length=0}while(G.length);for(;Q.length;)Q.pop()();U=!1,X=!1,ee.clear()}}function ne(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}let se;function le(){return se||(se=Promise.resolve(),se.then((()=>{se=null}))),se}function ae(e,t,n){e.dispatchEvent(D(`${t?"intro":"outro"}${n}`))}const re=new Set;let ie;function oe(){ie={r:0,c:[],p:ie}}function ce(){ie.r||l(ie.c),ie=ie.p}function ue(e,t){e&&e.i&&(re.delete(e),e.i(t))}function de(e,t,n,s){if(e&&e.o){if(re.has(e))return;re.add(e),ie.c.push((()=>{re.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}}const pe={duration:0};function fe(n,s,l){let r,i,o=s(n,l),c=!1,u=0;function d(){r&&V(n,r)}function f(){const{delay:s=0,duration:l=300,easing:a=t,tick:f=e,css:g}=o||pe;g&&(r=B(n,0,1,l,s,a,g,u++)),f(0,1);const m=p()+s,v=m+l;i&&i.abort(),c=!0,Y((()=>ae(n,!0,"start"))),i=h((e=>{if(c){if(e>=v)return f(1,0),ae(n,!0,"end"),d(),c=!1;if(e>=m){const t=a((e-m)/l);f(t,1-t)}}return c}))}let g=!1;return{start(){g||(g=!0,V(n),a(o)?(o=o(),le().then(f)):f())},invalidate(){g=!1},end(){c&&(d(),c=!1)}}}function ge(n,s,r,i){let o=s(n,r),c=i?0:1,u=null,d=null,f=null;function g(){f&&V(n,f)}function m(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function v(s){const{delay:a=0,duration:r=300,easing:i=t,tick:v=e,css:b}=o||pe,$={start:p()+a,b:s};s||($.group=ie,ie.r+=1),u||d?d=$:(b&&(g(),f=B(n,c,s,r,a,i,b)),s&&v(0,1),u=m($,r),Y((()=>ae(n,s,"start"))),h((e=>{if(d&&e>d.start&&(u=m(d,r),d=null,ae(n,u.b,"start"),b&&(g(),f=B(n,c,u.b,u.duration,0,i,o.css))),u)if(e>=u.end)v(c=u.b,1-c),ae(n,u.b,"end"),d||(u.b?g():--u.group.r||l(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;c=u.a+u.d*i(t/u.duration),v(c,1-c)}return!(!u&&!d)})))}return{run(e){a(o)?le().then((()=>{o=o(),v(e)})):v(e)},end(){g(),u=d=null}}}function me(e){e&&e.c()}function he(e,t,s,r){const{fragment:i,on_mount:o,on_destroy:c,after_update:u}=e.$$;i&&i.m(t,s),r||Y((()=>{const t=o.map(n).filter(a);c?c.push(...t):l(t),e.$$.on_mount=[]})),u.forEach(Y)}function ve(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function be(e,t){-1===e.$$.dirty[0]&&(G.push(e),U||(U=!0,J.then(te)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function $e(t,n,a,r,i,o,c,u=[-1]){const d=I;H(t);const p=t.$$={fragment:null,ctx:null,props:o,update:e,not_equal:i,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(p.root);let f=!1;if(p.ctx=a?a(t,n.props||{},((e,n,...s)=>{const l=s.length?s[0]:n;return p.ctx&&i(p.ctx[e],p.ctx[e]=l)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](l),f&&be(t,e)),n})):[],p.update(),f=!0,l(p.before_update),p.fragment=!!r&&r(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(x)}else p.fragment&&p.fragment.c();n.intro&&ue(t.$$.fragment),he(t,n.target,n.anchor,n.customElement),te()}H(d)}class ye{$destroy(){ve(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const xe=[];function we(t,n=e){let s;const l=new Set;function a(e){if(r(t,e)&&(t=e,s)){const e=!xe.length;for(const e of l)e[1](),xe.push(e,t);if(e){for(let e=0;e<xe.length;e+=2)xe[e][0](xe[e+1]);xe.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(r,i=e){const o=[r,i];return l.add(o),1===l.size&&(s=n(a)||e),r(t),()=>{l.delete(o),0===l.size&&(s(),s=null)}}}}function ze(e){return"[object Date]"===Object.prototype.toString.call(e)}function Ce(e,t,n,s){if("number"==typeof n||ze(n)){const l=s-n,a=(n-t)/(e.dt||1/60),r=(a+(e.opts.stiffness*l-e.opts.damping*a)*e.inv_mass)*e.dt;return Math.abs(r)<e.opts.precision&&Math.abs(l)<e.opts.precision?s:(e.settled=!1,ze(n)?new Date(n.getTime()+r):n+r)}if(Array.isArray(n))return n.map(((l,a)=>Ce(e,t[a],n[a],s[a])));if("object"==typeof n){const l={};for(const a in n)l[a]=Ce(e,t[a],n[a],s[a]);return l}throw new Error(`Cannot spring ${typeof n} values`)}function _e(e,t={}){const n=we(e),{stiffness:s=.15,damping:l=.8,precision:a=.01}=t;let r,i,o,c=e,u=e,d=1,f=0,g=!1;function m(t,s={}){u=t;const l=o={};if(null==e||s.hard||v.stiffness>=1&&v.damping>=1)return g=!0,r=p(),c=t,n.set(e=u),Promise.resolve();if(s.soft){const e=!0===s.soft?.5:+s.soft;f=1/(60*e),d=0}return i||(r=p(),g=!1,i=h((t=>{if(g)return g=!1,i=null,!1;d=Math.min(d+f,1);const s={inv_mass:d,opts:v,settled:!0,dt:60*(t-r)/1e3},l=Ce(s,c,e,u);return r=t,c=e,n.set(e=l),s.settled&&(i=null),!s.settled}))),new Promise((e=>{i.promise.then((()=>{l===o&&e()}))}))}const v={set:m,update:(t,n)=>m(t(u,e),n),subscribe:n.subscribe,stiffness:s,damping:l,precision:a};return v}function ke(e,t,n){const s=e.slice();return s[27]=t[n],s[29]=n,s}function Me(e){let t,n,s,r,i=("label"===e[6]||"label"===e[7])&&Te(e);return{c(){t=z("span"),i&&i.c(),W(t,"class","pip first"),W(t,"style",n=e[14]+": 0%;"),R(t,"selected",e[17](e[0])),R(t,"in-range",e[16](e[0]))},m(n,l){y(n,t,l),i&&i.m(t,null),s||(r=[T(t,"click",(function(){a(e[20](e[0]))&&e[20](e[0]).apply(this,arguments)})),T(t,"touchend",S((function(){a(e[20](e[0]))&&e[20](e[0]).apply(this,arguments)})))],s=!0)},p(s,l){"label"===(e=s)[6]||"label"===e[7]?i?i.p(e,l):(i=Te(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null),16384&l&&n!==(n=e[14]+": 0%;")&&W(t,"style",n),131073&l&&R(t,"selected",e[17](e[0])),65537&l&&R(t,"in-range",e[16](e[0]))},d(e){e&&x(t),i&&i.d(),s=!1,l(r)}}}function Te(e){let t,n,s=e[12](e[0],0,0)+"",l=e[10]&&Se(e),a=e[11]&&We(e);return{c(){t=z("span"),l&&l.c(),n=_(s),a&&a.c(),W(t,"class","pipVal")},m(e,s){y(e,t,s),l&&l.m(t,null),v(t,n),a&&a.m(t,null)},p(e,r){e[10]?l?l.p(e,r):(l=Se(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),4097&r&&s!==(s=e[12](e[0],0,0)+"")&&F(n,s),e[11]?a?a.p(e,r):(a=We(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(e){e&&x(t),l&&l.d(),a&&a.d()}}}function Se(e){let t,n;return{c(){t=z("span"),n=_(e[10]),W(t,"class","pipVal-prefix")},m(e,s){y(e,t,s),v(t,n)},p(e,t){1024&t&&F(n,e[10])},d(e){e&&x(t)}}}function We(e){let t,n;return{c(){t=z("span"),n=_(e[11]),W(t,"class","pipVal-suffix")},m(e,s){y(e,t,s),v(t,n)},p(e,t){2048&t&&F(n,e[11])},d(e){e&&x(t)}}}function qe(e){let t,n=Array(e[19]+1),s=[];for(let t=0;t<n.length;t+=1)s[t]=Re(ke(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=M()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);y(e,t,n)},p(e,l){if(2088515&l){let a;for(n=Array(e[19]+1),a=0;a<n.length;a+=1){const r=ke(e,n,a);s[a]?s[a].p(r,l):(s[a]=Re(r),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){w(s,e),e&&x(t)}}}function Fe(e){let t,n,s,r,i,o=("label"===e[6]||"label"===e[9])&&je(e);return{c(){t=z("span"),o&&o.c(),n=k(),W(t,"class","pip"),W(t,"style",s=e[14]+": "+e[15](e[18](e[29]))+"%;"),R(t,"selected",e[17](e[18](e[29]))),R(t,"in-range",e[16](e[18](e[29])))},m(s,l){y(s,t,l),o&&o.m(t,null),v(t,n),r||(i=[T(t,"click",(function(){a(e[20](e[18](e[29])))&&e[20](e[18](e[29])).apply(this,arguments)})),T(t,"touchend",S((function(){a(e[20](e[18](e[29])))&&e[20](e[18](e[29])).apply(this,arguments)})))],r=!0)},p(l,a){"label"===(e=l)[6]||"label"===e[9]?o?o.p(e,a):(o=je(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),311296&a&&s!==(s=e[14]+": "+e[15](e[18](e[29]))+"%;")&&W(t,"style",s),393216&a&&R(t,"selected",e[17](e[18](e[29]))),327680&a&&R(t,"in-range",e[16](e[18](e[29])))},d(e){e&&x(t),o&&o.d(),r=!1,l(i)}}}function je(e){let t,n,s=e[12](e[18](e[29]),e[29],e[15](e[18](e[29])))+"",l=e[10]&&Ae(e),a=e[11]&&Oe(e);return{c(){t=z("span"),l&&l.c(),n=_(s),a&&a.c(),W(t,"class","pipVal")},m(e,s){y(e,t,s),l&&l.m(t,null),v(t,n),a&&a.m(t,null)},p(e,r){e[10]?l?l.p(e,r):(l=Ae(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),299008&r&&s!==(s=e[12](e[18](e[29]),e[29],e[15](e[18](e[29])))+"")&&F(n,s),e[11]?a?a.p(e,r):(a=Oe(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(e){e&&x(t),l&&l.d(),a&&a.d()}}}function Ae(e){let t,n;return{c(){t=z("span"),n=_(e[10]),W(t,"class","pipVal-prefix")},m(e,s){y(e,t,s),v(t,n)},p(e,t){1024&t&&F(n,e[10])},d(e){e&&x(t)}}}function Oe(e){let t,n;return{c(){t=z("span"),n=_(e[11]),W(t,"class","pipVal-suffix")},m(e,s){y(e,t,s),v(t,n)},p(e,t){2048&t&&F(n,e[11])},d(e){e&&x(t)}}}function Re(e){let t,n=e[18](e[29])!==e[0]&&e[18](e[29])!==e[1],s=n&&Fe(e);return{c(){s&&s.c(),t=M()},m(e,n){s&&s.m(e,n),y(e,t,n)},p(e,l){262147&l&&(n=e[18](e[29])!==e[0]&&e[18](e[29])!==e[1]),n?s?s.p(e,l):(s=Fe(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(e){s&&s.d(e),e&&x(t)}}}function De(e){let t,n,s,r,i=("label"===e[6]||"label"===e[8])&&Ee(e);return{c(){t=z("span"),i&&i.c(),W(t,"class","pip last"),W(t,"style",n=e[14]+": 100%;"),R(t,"selected",e[17](e[1])),R(t,"in-range",e[16](e[1]))},m(n,l){y(n,t,l),i&&i.m(t,null),s||(r=[T(t,"click",(function(){a(e[20](e[1]))&&e[20](e[1]).apply(this,arguments)})),T(t,"touchend",S((function(){a(e[20](e[1]))&&e[20](e[1]).apply(this,arguments)})))],s=!0)},p(s,l){"label"===(e=s)[6]||"label"===e[8]?i?i.p(e,l):(i=Ee(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null),16384&l&&n!==(n=e[14]+": 100%;")&&W(t,"style",n),131074&l&&R(t,"selected",e[17](e[1])),65538&l&&R(t,"in-range",e[16](e[1]))},d(e){e&&x(t),i&&i.d(),s=!1,l(r)}}}function Ee(e){let t,n,s=e[12](e[1],e[19],100)+"",l=e[10]&&Ie(e),a=e[11]&&Le(e);return{c(){t=z("span"),l&&l.c(),n=_(s),a&&a.c(),W(t,"class","pipVal")},m(e,s){y(e,t,s),l&&l.m(t,null),v(t,n),a&&a.m(t,null)},p(e,r){e[10]?l?l.p(e,r):(l=Ie(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),528386&r&&s!==(s=e[12](e[1],e[19],100)+"")&&F(n,s),e[11]?a?a.p(e,r):(a=Le(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(e){e&&x(t),l&&l.d(),a&&a.d()}}}function Ie(e){let t,n;return{c(){t=z("span"),n=_(e[10]),W(t,"class","pipVal-prefix")},m(e,s){y(e,t,s),v(t,n)},p(e,t){1024&t&&F(n,e[10])},d(e){e&&x(t)}}}function Le(e){let t,n;return{c(){t=z("span"),n=_(e[11]),W(t,"class","pipVal-suffix")},m(e,s){y(e,t,s),v(t,n)},p(e,t){2048&t&&F(n,e[11])},d(e){e&&x(t)}}}function Be(t){let n,s,l,a=(t[6]&&!1!==t[7]||t[7])&&Me(t),r=(t[6]&&!1!==t[9]||t[9])&&qe(t),i=(t[6]&&!1!==t[8]||t[8])&&De(t);return{c(){n=z("div"),a&&a.c(),s=k(),r&&r.c(),l=k(),i&&i.c(),W(n,"class","rangePips"),R(n,"disabled",t[5]),R(n,"hoverable",t[4]),R(n,"vertical",t[2]),R(n,"reversed",t[3]),R(n,"focus",t[13])},m(e,t){y(e,n,t),a&&a.m(n,null),v(n,s),r&&r.m(n,null),v(n,l),i&&i.m(n,null)},p(e,[t]){e[6]&&!1!==e[7]||e[7]?a?a.p(e,t):(a=Me(e),a.c(),a.m(n,s)):a&&(a.d(1),a=null),e[6]&&!1!==e[9]||e[9]?r?r.p(e,t):(r=qe(e),r.c(),r.m(n,l)):r&&(r.d(1),r=null),e[6]&&!1!==e[8]||e[8]?i?i.p(e,t):(i=De(e),i.c(),i.m(n,null)):i&&(i.d(1),i=null),32&t&&R(n,"disabled",e[5]),16&t&&R(n,"hoverable",e[4]),4&t&&R(n,"vertical",e[2]),8&t&&R(n,"reversed",e[3]),8192&t&&R(n,"focus",e[13])},i:e,o:e,d(e){e&&x(n),a&&a.d(),r&&r.d(),i&&i.d()}}}function Ve(e,t,n){let s,l,a,r,i,{range:o=!1}=t,{min:c=0}=t,{max:u=100}=t,{step:d=1}=t,{values:p=[(u+c)/2]}=t,{vertical:f=!1}=t,{reversed:g=!1}=t,{hoverable:m=!0}=t,{disabled:h=!1}=t,{pipstep:v}=t,{all:b=!0}=t,{first:$}=t,{last:y}=t,{rest:x}=t,{prefix:w=""}=t,{suffix:z=""}=t,{formatter:C=((e,t)=>e)}=t,{focus:_}=t,{orientationStart:k}=t,{percentOf:M}=t,{moveHandle:T}=t;return e.$$set=e=>{"range"in e&&n(21,o=e.range),"min"in e&&n(0,c=e.min),"max"in e&&n(1,u=e.max),"step"in e&&n(22,d=e.step),"values"in e&&n(23,p=e.values),"vertical"in e&&n(2,f=e.vertical),"reversed"in e&&n(3,g=e.reversed),"hoverable"in e&&n(4,m=e.hoverable),"disabled"in e&&n(5,h=e.disabled),"pipstep"in e&&n(24,v=e.pipstep),"all"in e&&n(6,b=e.all),"first"in e&&n(7,$=e.first),"last"in e&&n(8,y=e.last),"rest"in e&&n(9,x=e.rest),"prefix"in e&&n(10,w=e.prefix),"suffix"in e&&n(11,z=e.suffix),"formatter"in e&&n(12,C=e.formatter),"focus"in e&&n(13,_=e.focus),"orientationStart"in e&&n(14,k=e.orientationStart),"percentOf"in e&&n(15,M=e.percentOf),"moveHandle"in e&&n(25,T=e.moveHandle)},e.$$.update=()=>{20971527&e.$$.dirty&&n(26,s=v||((u-c)/d>=(f?50:100)?(u-c)/(f?10:20):1)),71303171&e.$$.dirty&&n(19,l=parseInt((u-c)/(d*s),10)),71303169&e.$$.dirty&&n(18,a=function(e){return c+e*d*s}),8388608&e.$$.dirty&&n(17,r=function(e){return p.some((t=>t===e))}),10485760&e.$$.dirty&&n(16,i=function(e){return"min"===o?p[0]>e:"max"===o?p[0]<e:o?p[0]<e&&p[1]>e:void 0})},[c,u,f,g,m,h,b,$,y,x,w,z,C,_,k,M,i,r,a,l,function(e){T(void 0,e)},o,d,p,v,T,s]}class He extends ye{constructor(e){super(),$e(this,e,Ve,Be,r,{range:21,min:0,max:1,step:22,values:23,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:24,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:25})}}function Ne(e,t,n){const s=e.slice();return s[63]=t[n],s[65]=n,s}function Ze(e){let t,n,s=e[20](e[63],e[65],e[22](e[63]))+"",l=e[17]&&Ge(e),a=e[18]&&Pe(e);return{c(){t=z("span"),l&&l.c(),n=_(s),a&&a.c(),W(t,"class","rangeFloat")},m(e,s){y(e,t,s),l&&l.m(t,null),v(t,n),a&&a.m(t,null)},p(e,r){e[17]?l?l.p(e,r):(l=Ge(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),5242881&r[0]&&s!==(s=e[20](e[63],e[65],e[22](e[63]))+"")&&F(n,s),e[18]?a?a.p(e,r):(a=Pe(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(e){e&&x(t),l&&l.d(),a&&a.d()}}}function Ge(e){let t,n;return{c(){t=z("span"),n=_(e[17]),W(t,"class","rangeFloat-prefix")},m(e,s){y(e,t,s),v(t,n)},p(e,t){131072&t[0]&&F(n,e[17])},d(e){e&&x(t)}}}function Pe(e){let t,n;return{c(){t=z("span"),n=_(e[18]),W(t,"class","rangeFloat-suffix")},m(e,s){y(e,t,s),v(t,n)},p(e,t){262144&t[0]&&F(n,e[18])},d(e){e&&x(t)}}}function Ke(e){let t,n,s,a,r,i,o,c,u,d,p,f,g,m=e[6]&&Ze(e);return{c(){t=z("span"),n=z("span"),s=k(),m&&m.c(),W(n,"class","rangeNub"),W(t,"role","slider"),W(t,"class","rangeHandle"),W(t,"data-handle",a=e[65]),W(t,"style",r=e[28]+": "+e[29][e[65]]+"%; z-index: "+(e[26]===e[65]?3:2)+";"),W(t,"aria-valuemin",i=!0===e[1]&&1===e[65]?e[0][0]:e[2]),W(t,"aria-valuemax",o=!0===e[1]&&0===e[65]?e[0][1]:e[3]),W(t,"aria-valuenow",c=e[63]),W(t,"aria-valuetext",u=""+(e[17]+e[20](e[63],e[65],e[22](e[63]))+e[18])),W(t,"aria-orientation",d=e[5]?"vertical":"horizontal"),W(t,"aria-disabled",e[9]),W(t,"disabled",e[9]),W(t,"tabindex",p=e[9]?-1:0),R(t,"active",e[24]&&e[26]===e[65]),R(t,"press",e[25]&&e[26]===e[65])},m(l,a){y(l,t,a),v(t,n),v(t,s),m&&m.m(t,null),f||(g=[T(t,"blur",e[33]),T(t,"focus",e[34]),T(t,"keydown",e[35])],f=!0)},p(e,n){e[6]?m?m.p(e,n):(m=Ze(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),872415232&n[0]&&r!==(r=e[28]+": "+e[29][e[65]]+"%; z-index: "+(e[26]===e[65]?3:2)+";")&&W(t,"style",r),7&n[0]&&i!==(i=!0===e[1]&&1===e[65]?e[0][0]:e[2])&&W(t,"aria-valuemin",i),11&n[0]&&o!==(o=!0===e[1]&&0===e[65]?e[0][1]:e[3])&&W(t,"aria-valuemax",o),1&n[0]&&c!==(c=e[63])&&W(t,"aria-valuenow",c),5636097&n[0]&&u!==(u=""+(e[17]+e[20](e[63],e[65],e[22](e[63]))+e[18]))&&W(t,"aria-valuetext",u),32&n[0]&&d!==(d=e[5]?"vertical":"horizontal")&&W(t,"aria-orientation",d),512&n[0]&&W(t,"aria-disabled",e[9]),512&n[0]&&W(t,"disabled",e[9]),512&n[0]&&p!==(p=e[9]?-1:0)&&W(t,"tabindex",p),83886080&n[0]&&R(t,"active",e[24]&&e[26]===e[65]),100663296&n[0]&&R(t,"press",e[25]&&e[26]===e[65])},d(e){e&&x(t),m&&m.d(),f=!1,l(g)}}}function Qe(e){let t,n;return{c(){t=z("span"),W(t,"class","rangeBar"),W(t,"style",n=e[28]+": "+e[31](e[29])+"%; "+e[27]+": "+e[32](e[29])+"%;")},m(e,n){y(e,t,n)},p(e,s){939524096&s[0]&&n!==(n=e[28]+": "+e[31](e[29])+"%; "+e[27]+": "+e[32](e[29])+"%;")&&W(t,"style",n)},d(e){e&&x(t)}}}function Je(e){let t,n;return t=new He({props:{values:e[0],min:e[2],max:e[3],step:e[4],range:e[1],vertical:e[5],reversed:e[7],orientationStart:e[28],hoverable:e[8],disabled:e[9],all:e[12],first:e[13],last:e[14],rest:e[15],pipstep:e[11],prefix:e[17],suffix:e[18],formatter:e[19],focus:e[24],percentOf:e[22],moveHandle:e[30]}}),{c(){me(t.$$.fragment)},m(e,s){he(t,e,s),n=!0},p(e,n){const s={};1&n[0]&&(s.values=e[0]),4&n[0]&&(s.min=e[2]),8&n[0]&&(s.max=e[3]),16&n[0]&&(s.step=e[4]),2&n[0]&&(s.range=e[1]),32&n[0]&&(s.vertical=e[5]),128&n[0]&&(s.reversed=e[7]),268435456&n[0]&&(s.orientationStart=e[28]),256&n[0]&&(s.hoverable=e[8]),512&n[0]&&(s.disabled=e[9]),4096&n[0]&&(s.all=e[12]),8192&n[0]&&(s.first=e[13]),16384&n[0]&&(s.last=e[14]),32768&n[0]&&(s.rest=e[15]),2048&n[0]&&(s.pipstep=e[11]),131072&n[0]&&(s.prefix=e[17]),262144&n[0]&&(s.suffix=e[18]),524288&n[0]&&(s.formatter=e[19]),16777216&n[0]&&(s.focus=e[24]),4194304&n[0]&&(s.percentOf=e[22]),t.$set(s)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function Ue(e){let t,n,s,a,r,i,o=e[0],c=[];for(let t=0;t<o.length;t+=1)c[t]=Ke(Ne(e,o,t));let u=e[1]&&Qe(e),d=e[10]&&Je(e);return{c(){t=z("div");for(let e=0;e<c.length;e+=1)c[e].c();n=k(),u&&u.c(),s=k(),d&&d.c(),W(t,"id",e[16]),W(t,"class","rangeSlider"),R(t,"range",e[1]),R(t,"disabled",e[9]),R(t,"hoverable",e[8]),R(t,"vertical",e[5]),R(t,"reversed",e[7]),R(t,"focus",e[24]),R(t,"min","min"===e[1]),R(t,"max","max"===e[1]),R(t,"pips",e[10]),R(t,"pip-labels","label"===e[12]||"label"===e[13]||"label"===e[14]||"label"===e[15])},m(l,o){y(l,t,o);for(let e=0;e<c.length;e+=1)c[e].m(t,null);v(t,n),u&&u.m(t,null),v(t,s),d&&d.m(t,null),e[49](t),a=!0,r||(i=[T(window,"mousedown",e[38]),T(window,"touchstart",e[38]),T(window,"mousemove",e[39]),T(window,"touchmove",e[39]),T(window,"mouseup",e[40]),T(window,"touchend",e[41]),T(window,"keydown",e[42]),T(t,"mousedown",e[36]),T(t,"mouseup",e[37]),T(t,"touchstart",S(e[36])),T(t,"touchend",S(e[37]))],r=!0)},p(e,l){if(928383599&l[0]|28&l[1]){let s;for(o=e[0],s=0;s<o.length;s+=1){const a=Ne(e,o,s);c[s]?c[s].p(a,l):(c[s]=Ke(a),c[s].c(),c[s].m(t,n))}for(;s<c.length;s+=1)c[s].d(1);c.length=o.length}e[1]?u?u.p(e,l):(u=Qe(e),u.c(),u.m(t,s)):u&&(u.d(1),u=null),e[10]?d?(d.p(e,l),1024&l[0]&&ue(d,1)):(d=Je(e),d.c(),ue(d,1),d.m(t,null)):d&&(oe(),de(d,1,1,(()=>{d=null})),ce()),(!a||65536&l[0])&&W(t,"id",e[16]),2&l[0]&&R(t,"range",e[1]),512&l[0]&&R(t,"disabled",e[9]),256&l[0]&&R(t,"hoverable",e[8]),32&l[0]&&R(t,"vertical",e[5]),128&l[0]&&R(t,"reversed",e[7]),16777216&l[0]&&R(t,"focus",e[24]),2&l[0]&&R(t,"min","min"===e[1]),2&l[0]&&R(t,"max","max"===e[1]),1024&l[0]&&R(t,"pips",e[10]),61440&l[0]&&R(t,"pip-labels","label"===e[12]||"label"===e[13]||"label"===e[14]||"label"===e[15])},i(e){a||(ue(d),a=!0)},o(e){de(d),a=!1},d(n){n&&x(t),w(c,n),u&&u.d(),d&&d.d(),e[49](null),r=!1,l(i)}}}function Ye(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function Xe(e){return e.type.includes("touch")?e.touches[0]:e}function et(t,n,s){let l,a,r,o,c,u,d=e;t.$$.on_destroy.push((()=>d()));let{range:p=!1}=n,{pushy:f=!1}=n,{min:g=0}=n,{max:m=100}=n,{step:h=1}=n,{values:v=[(m+g)/2]}=n,{vertical:b=!1}=n,{float:$=!1}=n,{reversed:y=!1}=n,{hoverable:x=!0}=n,{disabled:w=!1}=n,{pips:z=!1}=n,{pipstep:C}=n,{all:_}=n,{first:k}=n,{last:M}=n,{rest:T}=n,{id:S}=n,{prefix:W=""}=n,{suffix:q=""}=n,{formatter:F=((e,t,n)=>e)}=n,{handleFormatter:j=F}=n,{precision:A=2}=n,{springValues:O={stiffness:.15,damping:.4}}=n;const R=function(){const e=N();return(t,n)=>{const s=e.$$.callbacks[t];if(s){const l=D(t,n);s.slice().forEach((t=>{t.call(e,l)}))}}}();let E,I,L,B,V=0,H=!1,Z=!1,G=!1,K=!1,Q=v.length-1;function J(){return E.getBoundingClientRect()}function U(e){const t=J();let n=0,s=0,l=0;b?(n=e.clientY-t.top,s=n/t.height*100,s=y?s:100-s):(n=e.clientX-t.left,s=n/t.width*100,s=y?100-s:s),l=(m-g)/100*s+g,Y(Q,l)}function Y(e,t){return t=r(t),void 0===e&&(e=Q),p&&(0===e&&t>v[1]?f?s(0,v[1]=t,v):t=v[1]:1===e&&t<v[0]&&(f?s(0,v[0]=t,v):t=v[0])),v[e]!==t&&s(0,v[e]=t,v),L!==t&&(!w&&R("change",{activeHandle:Q,startValue:I,previousValue:void 0===L?I:L,value:v[Q],values:v.map((e=>r(e)))}),L=t),t}function X(){!w&&R("stop",{activeHandle:Q,startValue:I,value:v[Q],values:v.map((e=>r(e)))})}return t.$$set=e=>{"range"in e&&s(1,p=e.range),"pushy"in e&&s(43,f=e.pushy),"min"in e&&s(2,g=e.min),"max"in e&&s(3,m=e.max),"step"in e&&s(4,h=e.step),"values"in e&&s(0,v=e.values),"vertical"in e&&s(5,b=e.vertical),"float"in e&&s(6,$=e.float),"reversed"in e&&s(7,y=e.reversed),"hoverable"in e&&s(8,x=e.hoverable),"disabled"in e&&s(9,w=e.disabled),"pips"in e&&s(10,z=e.pips),"pipstep"in e&&s(11,C=e.pipstep),"all"in e&&s(12,_=e.all),"first"in e&&s(13,k=e.first),"last"in e&&s(14,M=e.last),"rest"in e&&s(15,T=e.rest),"id"in e&&s(16,S=e.id),"prefix"in e&&s(17,W=e.prefix),"suffix"in e&&s(18,q=e.suffix),"formatter"in e&&s(19,F=e.formatter),"handleFormatter"in e&&s(20,j=e.handleFormatter),"precision"in e&&s(44,A=e.precision),"springValues"in e&&s(45,O=e.springValues)},t.$$.update=()=>{12&t.$$.dirty[0]&&s(48,a=function(e){return e<=g?g:e>=m?m:e}),28&t.$$.dirty[0]|139264&t.$$.dirty[1]&&s(47,r=function(e){if(e<=g)return g;if(e>=m)return m;let t=(e-g)%h,n=e-t;return 2*Math.abs(t)>=h&&(n+=t>0?h:-h),n=a(n),parseFloat(n.toFixed(A))}),12&t.$$.dirty[0]|8192&t.$$.dirty[1]&&s(22,l=function(e){let t=(e-g)/(m-g)*100;return isNaN(t)||t<=0?0:t>=100?100:parseFloat(t.toFixed(A))}),6291469&t.$$.dirty[0]|114688&t.$$.dirty[1]&&(Array.isArray(v)||(s(0,v=[(m+g)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),s(0,v=function(e){return"min"===p||"max"===p?e.slice(0,1):p?e.slice(0,2):e}(v.map((e=>r(e))))),V!==v.length?(s(21,B=_e(v.map((e=>l(e))),O)),d(),d=i(B,(e=>s(29,u=e)))):B.set(v.map((e=>l(e)))),s(46,V=v.length)),160&t.$$.dirty[0]&&s(28,o=b?y?"top":"bottom":y?"right":"left"),160&t.$$.dirty[0]&&s(27,c=b?y?"bottom":"top":y?"left":"right")},[v,p,g,m,h,b,$,y,x,w,z,C,_,k,M,T,S,W,q,F,j,B,l,E,H,G,Q,c,o,u,Y,function(e){return"min"===p?0:e[0]},function(e){return"max"===p?0:"min"===p?100-e[0]:100-e[1]},function(e){K&&(s(24,H=!1),Z=!1,s(25,G=!1))},function(e){w||(s(26,Q=Ye(e.target)),s(24,H=!0))},function(e){if(!w){const t=Ye(e.target);let n=e.ctrlKey||e.metaKey||e.shiftKey?10*h:h,s=!1;switch(e.key){case"PageDown":n*=10;case"ArrowRight":case"ArrowUp":Y(t,v[t]+n),s=!0;break;case"PageUp":n*=10;case"ArrowLeft":case"ArrowDown":Y(t,v[t]-n),s=!0;break;case"Home":Y(t,g),s=!0;break;case"End":Y(t,m),s=!0}s&&(e.preventDefault(),e.stopPropagation())}},function(e){if(!w){const t=e.target,n=Xe(e);s(24,H=!0),Z=!0,s(25,G=!0),s(26,Q=function(e){const t=J();let n,s=0,l=0,a=0;return b?(s=e.clientY-t.top,l=s/t.height*100,l=y?l:100-l):(s=e.clientX-t.left,l=s/t.width*100,l=y?100-l:l),a=(m-g)/100*l+g,!0===p&&v[0]===v[1]?a>v[1]?1:0:(n=v.indexOf([...v].sort(((e,t)=>Math.abs(a-e)-Math.abs(a-t)))[0]),n)}(n)),I=L=r(v[Q]),!w&&R("start",{activeHandle:Q,value:I,values:v.map((e=>r(e)))}),"touchstart"!==e.type||t.matches(".pipVal")||U(n)}},function(e){"touchend"===e.type&&X(),s(25,G=!1)},function(e){K=!1,H&&e.target!==E&&!E.contains(e.target)&&s(24,H=!1)},function(e){w||Z&&U(Xe(e))},function(e){if(!w){const t=e.target;Z&&((t===E||E.contains(t))&&(s(24,H=!0),function(e){const t=E.querySelectorAll(".handle"),n=Array.prototype.includes.call(t,e),s=Array.prototype.some.call(t,(t=>t.contains(e)));return n||s}(t)||t.matches(".pipVal")||U(Xe(e))),X())}Z=!1,s(25,G=!1)},function(e){Z=!1,s(25,G=!1)},function(e){w||(e.target===E||E.contains(e.target))&&(K=!0)},f,A,O,V,r,a,function(e){P[e?"unshift":"push"]((()=>{E=e,s(23,E)}))}]}class tt extends ye{constructor(e){super(),$e(this,e,et,Ue,r,{range:1,pushy:43,min:2,max:3,step:4,values:0,vertical:5,float:6,reversed:7,hoverable:8,disabled:9,pips:10,pipstep:11,all:12,first:13,last:14,rest:15,id:16,prefix:17,suffix:18,formatter:19,handleFormatter:20,precision:44,springValues:45},null,[-1,-1,-1])}}function nt(e){let t;return{c(){t=z("div"),W(t,"class","gauge__fill centerMark svelte-1ucj7ag")},m(e,n){y(e,t,n)},d(e){e&&x(t)}}}function st(e){let t;return{c(){t=z("div"),W(t,"class","gauge__fill lowZone svelte-1ucj7ag")},m(e,n){y(e,t,n)},d(e){e&&x(t)}}}function lt(e){let t;return{c(){t=z("div"),W(t,"class","gauge__fill hiZone svelte-1ucj7ag")},m(e,n){y(e,t,n)},d(e){e&&x(t)}}}function at(e){let t,n,s,l=(100*e[0]).toFixed()+"";return{c(){t=z("div"),n=_(l),s=_("%"),W(t,"class","gauge__cover svelte-1ucj7ag")},m(e,l){y(e,t,l),v(t,n),v(t,s)},p(e,t){1&t&&l!==(l=(100*e[0]).toFixed()+"")&&F(n,l)},d(e){e&&x(t)}}}function rt(e){let t,n;return{c(){t=z("div"),n=_(e[1]),W(t,"class","gauge__cover svelte-1ucj7ag")},m(e,s){y(e,t,s),v(t,n)},p(e,t){2&t&&F(n,e[1])},d(e){e&&x(t)}}}function it(t){let n,s,l,a,r,i,o,c=t[2]&&nt(),u=t[3]&&st(),d=t[4]&&lt();function p(e,t){return null!==e[1]?rt:at}let f=p(t),g=f(t);return{c(){n=z("div"),s=z("div"),l=z("div"),a=k(),c&&c.c(),r=k(),u&&u.c(),i=k(),d&&d.c(),o=k(),g.c(),W(l,"class","gauge__fill svelte-1ucj7ag"),W(l,"style",t[5]),R(l,"needle",t[2]),W(s,"class","gauge__body svelte-1ucj7ag"),W(n,"class","gauge svelte-1ucj7ag"),W(n,"data-testid","gauge")},m(e,t){y(e,n,t),v(n,s),v(s,l),v(s,a),c&&c.m(s,null),v(s,r),u&&u.m(s,null),v(s,i),d&&d.m(s,null),v(s,o),g.m(s,null)},p(e,[t]){32&t&&W(l,"style",e[5]),4&t&&R(l,"needle",e[2]),e[2]?c||(c=nt(),c.c(),c.m(s,r)):c&&(c.d(1),c=null),e[3]?u||(u=st(),u.c(),u.m(s,i)):u&&(u.d(1),u=null),e[4]?d||(d=lt(),d.c(),d.m(s,o)):d&&(d.d(1),d=null),f===(f=p(e))&&g?g.p(e,t):(g.d(1),g=f(e),g&&(g.c(),g.m(s,null)))},i:e,o:e,d(e){e&&x(n),c&&c.d(),u&&u.d(),d&&d.d(),g.d()}}}function ot(e,t,n){let s,{value:l=.5}=t,{label:a=null}=t,{needle:r=!1}=t,{lowZone:i=!1}=t,{hiZone:o=0}=t;return e.$$set=e=>{"value"in e&&n(0,l=e.value),"label"in e&&n(1,a=e.label),"needle"in e&&n(2,r=e.needle),"lowZone"in e&&n(3,i=e.lowZone),"hiZone"in e&&n(4,o=e.hiZone)},e.$$.update=()=>{1&e.$$.dirty&&n(5,s=`transform: rotate(${l/2}turn)`)},[l,a,r,i,o,s]}class ct extends ye{constructor(e){super(),$e(this,e,ot,it,r,{value:0,label:1,needle:2,lowZone:3,hiZone:4})}}function ut(e,{delay:n=0,duration:s=400,easing:l=t}={}){const a=+getComputedStyle(e).opacity;return{delay:n,duration:s,easing:l,css:e=>"opacity: "+e*a}}var dt;const pt="gbSettings",ft=we("chart"),gt=localStorage.getItem("daysToReview"),mt=we(gt?JSON.parse(gt):[4]);mt.subscribe((e=>{localStorage.setItem("daysToReview",JSON.stringify(e))}));const ht=e=>JSON.parse(e).map((e=>Object.assign(Object.assign({},e),{start:new Date(e.start),end:new Date(e.end)}))),vt=localStorage.getItem("srsCounts"),bt=we(vt?JSON.parse(vt):{expectedDaily:0,new:{radicals:0,kanji:0,vocabulary:0,total:0},apprentice:{early:0,late:0,total:0},lesson:0,guru:0,master:0,enlightened:0,burned:0});bt.subscribe((e=>{localStorage.setItem("srsCounts",JSON.stringify(e))}));const $t=localStorage.getItem("sessionSummaries"),yt=we($t?ht($t):[]);yt.subscribe((e=>{localStorage.setItem("sessionSummaries",JSON.stringify(e))}));const xt=localStorage.getItem("reviewCounts"),wt=we(xt?ht(xt):[]);wt.subscribe((e=>{localStorage.setItem("reviewCounts",JSON.stringify(e))}));const zt={position:"Top",textColor:"#333333",bgColor:"#f4f4f4",fillColor:"#b4c0be",altColor:"#489c5c",goodColor:"#59c273",warnColor:"#fbb623",alertColor:"#ff00aa",gbMinTarget:130,gbMaxTarget:170,aboveTerm:"休",belowTerm:"努力",inRangeTerm:"良",newRWeight:.6,newKWeight:3,newVWeight:1,apprWeight:1,guruWeight:.1,masterWeight:0,enlightenedWeight:0,targetSpeed:7,speedMin:.2,speedMax:.8,madCutoff:10,rpdMin:120,rpdMax:180,tzOffset:0,rQuiz:!1,kQuiz:!0,vQuiz:!1},Ct=we(null!==(dt=JSON.parse(localStorage.getItem(pt)))&&void 0!==dt?dt:zt);Ct.subscribe((e=>localStorage.setItem(pt,JSON.stringify(e))));function _t(t){let n,s,l,a,r,i,o,c,u,d,p,f,g,m,h,b,$,w,C,M,T,S,q,j,A,O,R,D,E,I,L,B,V,H,N,Z,G,P,K,Q,J,U,X,ee,te,ne,se,le,ae,re,ie,oe,ce,ue,de=t[3].new.radicals+"",pe=t[3].new.kanji+"",ge=t[3].new.vocabulary+"",me=t[3].apprentice.late+"",he=t[3].guru+"",ve=t[3].master+"",be=t[3].enlightened+"",$e=t[0].toFixed()+"",ye=t[2].gbMinTarget+"",xe=t[2].gbMaxTarget+"";return{c(){n=z("h1"),s=_("GanbarOmeter: "),l=_(t[5]),r=k(),i=z("div"),o=z("table"),c=z("tr"),u=z("th"),u.textContent="Early Apprentice",d=k(),p=z("td"),f=_(de),g=z("span"),g.textContent="r",m=k(),h=_(pe),b=z("span"),b.textContent="k",$=k(),w=_(ge),C=z("span"),C.textContent="v",M=k(),T=z("tr"),S=z("th"),S.textContent="Late Apprentice",q=k(),j=z("td"),A=_(me),O=k(),R=z("span"),R.textContent="items",D=k(),E=z("tr"),I=z("th"),I.textContent="Guru'd",L=k(),B=z("td"),V=_(he),H=z("span"),H.textContent="g",N=k(),Z=_(ve),G=z("span"),G.textContent="m",P=k(),K=_(be),Q=z("span"),Q.textContent="e",J=k(),U=z("tr"),X=z("th"),X.textContent="Weighted count",ee=k(),te=z("td"),ne=_($e),se=k(),le=z("span"),ae=_("(target "),re=_(ye),ie=_("–"),oe=_(xe),ce=_(")"),W(n,"class","gbHeader"),W(g,"class","secondary"),W(b,"class","secondary"),W(C,"class","secondary"),W(R,"class","secondary"),W(H,"class","secondary"),W(G,"class","secondary"),W(Q,"class","secondary"),W(le,"class","secondary"),W(o,"class","gbContent"),W(i,"data-testid","ganbarometer-table")},m(e,t){y(e,n,t),v(n,s),v(n,l),y(e,r,t),y(e,i,t),v(i,o),v(o,c),v(c,u),v(c,d),v(c,p),v(p,f),v(p,g),v(p,m),v(p,h),v(p,b),v(p,$),v(p,w),v(p,C),v(o,M),v(o,T),v(T,S),v(T,q),v(T,j),v(j,A),v(j,O),v(j,R),v(o,D),v(o,E),v(E,I),v(E,L),v(E,B),v(B,V),v(B,H),v(B,N),v(B,Z),v(B,G),v(B,P),v(B,K),v(B,Q),v(o,J),v(o,U),v(U,X),v(U,ee),v(U,te),v(te,ne),v(te,se),v(te,le),v(le,ae),v(le,re),v(le,ie),v(le,oe),v(le,ce)},p(e,t){32&t&&F(l,e[5]),8&t&&de!==(de=e[3].new.radicals+"")&&F(f,de),8&t&&pe!==(pe=e[3].new.kanji+"")&&F(h,pe),8&t&&ge!==(ge=e[3].new.vocabulary+"")&&F(w,ge),8&t&&me!==(me=e[3].apprentice.late+"")&&F(A,me),8&t&&he!==(he=e[3].guru+"")&&F(V,he),8&t&&ve!==(ve=e[3].master+"")&&F(Z,ve),8&t&&be!==(be=e[3].enlightened+"")&&F(K,be),1&t&&$e!==($e=e[0].toFixed()+"")&&F(ne,$e),4&t&&ye!==(ye=e[2].gbMinTarget+"")&&F(re,ye),4&t&&xe!==(xe=e[2].gbMaxTarget+"")&&F(oe,xe)},i(e){a||Y((()=>{a=fe(n,ut,{}),a.start()})),ue||Y((()=>{ue=fe(i,ut,{}),ue.start()}))},o:e,d(e){e&&x(n),e&&x(r),e&&x(i)}}}function kt(e){let t,n,s,l,a,r;return s=new ct({props:{value:e[1],label:e[4],needle:!0,lowZone:!0,hiZone:!0}}),{c(){t=z("h1"),t.textContent="GanbarOmeter",n=k(),me(s.$$.fragment),l=k(),a=z("div"),a.innerHTML='<span class="left-aligned svelte-4clmia">遅</span><span class="right-aligned svelte-4clmia">早</span>',W(t,"class","gbHeader"),W(a,"class","units svelte-4clmia")},m(e,i){y(e,t,i),y(e,n,i),he(s,e,i),y(e,l,i),y(e,a,i),r=!0},p(e,t){const n={};2&t&&(n.value=e[1]),16&t&&(n.label=e[4]),s.$set(n)},i(e){r||(ue(s.$$.fragment,e),r=!0)},o(e){de(s.$$.fragment,e),r=!1},d(e){e&&x(t),e&&x(n),ve(s,e),e&&x(l),e&&x(a)}}}function Mt(e){let t,n,s,l;const a=[kt,_t],r=[];function i(e,t){return"chart"===e[6]?0:1}return n=i(e),s=r[n]=a[n](e),{c(){t=z("div"),s.c(),W(t,"class","gbWidget")},m(e,s){y(e,t,s),r[n].m(t,null),l=!0},p(e,[l]){let o=n;n=i(e),n===o?r[n].p(e,l):(oe(),de(r[o],1,1,(()=>{r[o]=null})),ce(),s=r[n],s?s.p(e,l):(s=r[n]=a[n](e),s.c()),ue(s,1),s.m(t,null))},i(e){l||(ue(s),l=!0)},o(e){de(s),l=!1},d(e){e&&x(t),r[n].d()}}}function Tt(e,t,n){let s,l,a,r,i,c,u,d,p,f;o(e,Ct,(e=>n(2,d=e))),o(e,bt,(e=>n(3,p=e))),o(e,ft,(e=>n(6,f=e)));const g=2/3*.5;return e.$$.update=()=>{12&e.$$.dirty&&n(0,s=p.new.radicals*d.newRWeight+p.new.kanji*d.newKWeight+p.new.vocabulary*d.newVWeight+p.apprentice.late*d.apprWeight+p.guru*d.guruWeight+p.master*d.masterWeight+p.enlightened*d.enlightenedWeight),4&e.$$.dirty&&n(9,l=g/(d.gbMaxTarget-d.gbMinTarget)),517&e.$$.dirty&&n(8,a=g+(s-d.gbMinTarget)*l),256&e.$$.dirty&&n(1,r=a<0?0:a>1?1:a),2&e.$$.dirty&&n(7,i=(r-.5).toFixed(2)),130&e.$$.dirty&&n(5,c=r>.5?"+"+i:i),5&e.$$.dirty&&n(4,u=s<d.gbMinTarget?d.belowTerm:s>d.gbMaxTarget?d.aboveTerm:d.inRangeTerm)},(async()=>{wkof.include("ItemData"),await wkof.ready("ItemData");const e=await wkof.ItemData.get_items("subjects,assignments"),t=await wkof.ItemData.get_index(e,"srs_stage");let n;t[1]&&t[2]?n=[...t[1],...t[2]]:t[1]&&(n=[...t[1]]);const s=n.filter((e=>"radicals"==e.object)),l=n.filter((e=>"kanji"==e.object)),a=n.filter((e=>"vocabulary"==e.object)),r=[0,.5,1,1,2,7,14,30,120,0];let i=[];return[0,1,2,3,4,5,6,7,8,9].forEach((e=>{var n,s;i[e]=null!==(s=null===(n=t[e])||void 0===n?void 0:n.length)&&void 0!==s?s:0})),{expectedDaily:[1,2,3,4,5,6,7,8].map((e=>i[e]/r[e])).reduce(((e,t)=>e+t)),new:{radicals:s.length,kanji:l.length,vocabulary:a.length,total:n.length},apprentice:{early:i[1]+i[2],late:i[3]+i[4],total:i[1]+i[2]+i[3]+i[4]},lesson:i[0],guru:i[5]+i[6],master:i[7],enlightened:i[8],burned:i[9]}})().then((e=>bt.set(e))),[s,r,d,p,u,c,f,i,a,l]}class St extends ye{constructor(e){super(),$e(this,e,Tt,Mt,r,{})}}function Wt(e,t,n){const s=e.slice();return s[13]=t[n],s[15]=n,s}function qt(t){let n,s,l,a,r,i,o,c,u,d,p,f,g,m,h,b,$,C=t[1].length+"",M=t[1],T=[];for(let e=0;e<M.length;e+=1)T[e]=jt(Wt(t,M,e));return{c(){n=z("h1"),s=_("Speed: "),l=_(t[3]),a=_(" s/q"),i=k(),o=z("div"),c=z("div"),u=z("h4"),d=_(C),p=_(" sessions • "),f=_(t[4]),g=_(" items • "),m=_(t[0]),h=_(" questions"),b=k();for(let e=0;e<T.length;e+=1)T[e].c();W(n,"class","gbHeader"),W(u,"class","svelte-1y71fgx"),W(c,"class","gbContent scrollbox svelte-1y71fgx"),W(o,"data-testid","speed-table")},m(e,t){y(e,n,t),v(n,s),v(n,l),v(n,a),y(e,i,t),y(e,o,t),v(o,c),v(c,u),v(u,d),v(u,p),v(u,f),v(u,g),v(u,m),v(u,h),v(c,b);for(let e=0;e<T.length;e+=1)T[e].m(c,null)},p(e,t){if(8&t&&F(l,e[3]),2&t&&C!==(C=e[1].length+"")&&F(d,C),16&t&&F(f,e[4]),1&t&&F(m,e[0]),962&t){let n;for(M=e[1],n=0;n<M.length;n+=1){const s=Wt(e,M,n);T[n]?T[n].p(s,t):(T[n]=jt(s),T[n].c(),T[n].m(c,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=M.length}},i(e){r||Y((()=>{r=fe(n,ut,{}),r.start()})),$||Y((()=>{$=fe(o,ut,{}),$.start()}))},o:e,d(e){e&&x(n),e&&x(i),e&&x(o),w(T,e)}}}function Ft(e){let t,n,s,l,a,r;return s=new ct({props:{value:e[2],label:e[3]}}),{c(){t=z("h1"),t.textContent="Speed",n=k(),me(s.$$.fragment),l=k(),a=z("div"),a.textContent="seconds/question",W(t,"class","gbHeader"),W(a,"class","units")},m(e,i){y(e,t,i),y(e,n,i),he(s,e,i),y(e,l,i),y(e,a,i),r=!0},p(e,t){const n={};4&t&&(n.value=e[2]),8&t&&(n.label=e[3]),s.$set(n)},i(e){r||(ue(s.$$.fragment,e),r=!0)},o(e){de(s.$$.fragment,e),r=!1},d(e){e&&x(t),e&&x(n),ve(s,e),e&&x(l),e&&x(a)}}}function jt(e){let t,n,s,l,a,r,i,o,c,u,d,p,f,g,m,h,b,$,w,C,M,T,S,q,j,A,O,R=e[15]+1+"",D=e[7](e[13].start)+"",E=e[8](e[13].end)+"",I=(e[6](e[13])/60).toFixed()+"",L=e[13].reviewCount+"",B=e[13].questionCount+"",V=(e[6](e[13])/e[13].questionCount).toFixed(1)+"",H=e[13].correctAnswerCount+"",N=e[13].questionCount+"",Z=e[9](e[13])+"";return{c(){t=z("article"),n=z("h5"),s=_(R),l=_(": "),a=_(D),r=_(" – "),i=_(E),o=_("\n            ("),c=_(I),u=_("m)"),d=k(),p=z("p"),f=_(L),g=_(" items • "),m=_(B),h=_(" questions •\n            "),b=_(V),$=_(" s/q "),w=z("br"),C=k(),M=_(H),T=_("/"),S=_(N),q=_(" =\n            "),j=_(Z),A=_("% correct"),O=k(),W(n,"class","svelte-1y71fgx"),W(p,"class","svelte-1y71fgx"),W(t,"class","svelte-1y71fgx")},m(e,x){y(e,t,x),v(t,n),v(n,s),v(n,l),v(n,a),v(n,r),v(n,i),v(n,o),v(n,c),v(n,u),v(t,d),v(t,p),v(p,f),v(p,g),v(p,m),v(p,h),v(p,b),v(p,$),v(p,w),v(p,C),v(p,M),v(p,T),v(p,S),v(p,q),v(p,j),v(p,A),v(t,O)},p(e,t){2&t&&D!==(D=e[7](e[13].start)+"")&&F(a,D),2&t&&E!==(E=e[8](e[13].end)+"")&&F(i,E),2&t&&I!==(I=(e[6](e[13])/60).toFixed()+"")&&F(c,I),2&t&&L!==(L=e[13].reviewCount+"")&&F(f,L),2&t&&B!==(B=e[13].questionCount+"")&&F(m,B),2&t&&V!==(V=(e[6](e[13])/e[13].questionCount).toFixed(1)+"")&&F(b,V),2&t&&H!==(H=e[13].correctAnswerCount+"")&&F(M,H),2&t&&N!==(N=e[13].questionCount+"")&&F(S,N),2&t&&Z!==(Z=e[9](e[13])+"")&&F(j,Z)},d(e){e&&x(t)}}}function At(e){let t,n,s,l;const a=[Ft,qt],r=[];function i(e,t){return"chart"===e[5]?0:1}return n=i(e),s=r[n]=a[n](e),{c(){t=z("div"),s.c(),W(t,"class","gbWidget svelte-1y71fgx"),W(t,"data-testid","speedWidget")},m(e,s){y(e,t,s),r[n].m(t,null),l=!0},p(e,[l]){let o=n;n=i(e),n===o?r[n].p(e,l):(oe(),de(r[o],1,1,(()=>{r[o]=null})),ce(),s=r[n],s?s.p(e,l):(s=r[n]=a[n](e),s.c()),ue(s,1),s.m(t,null))},i(e){l||(ue(s),l=!0)},o(e){de(s),l=!1},d(e){e&&x(t),r[n].d()}}}function Ot(e,t,n){let s,l,a,r,i,c,u,d;o(e,Ct,(e=>n(12,c=e))),o(e,yt,(e=>n(1,u=e))),o(e,ft,(e=>n(5,d=e)));const p=e=>(e.end-e.start)/1e3;let f;return e.$$.update=()=>{2&e.$$.dirty&&n(4,s=u.reduce(((e,t)=>e+ +t.reviewCount),0)),2&e.$$.dirty&&n(0,l=u.reduce(((e,t)=>e+ +t.questionCount),0)),2&e.$$.dirty&&n(10,f=u.reduce(((e,t)=>e+p(t)),0)),1025&e.$$.dirty&&n(11,a=l>0?f/l:0),2048&e.$$.dirty&&n(3,r=`${a.toFixed(1)}`),6144&e.$$.dirty&&n(2,i=a/(2*c.targetSpeed))},[l,u,i,r,s,d,p,e=>Intl.DateTimeFormat("en-US",{dateStyle:"short",timeStyle:"short"}).format(e),e=>Intl.DateTimeFormat("en-US",{timeStyle:"short"}).format(e),e=>(100*e.correctAnswerCount/e.questionCount).toFixed(1),f,a,c]}class Rt extends ye{constructor(e){super(),$e(this,e,Ot,At,r,{})}}function Dt(e,t,n){const s=e.slice();return s[11]=t[n],s[13]=n,s}function Et(e){let t;return{c(){t=z("td"),W(t,"aria-label","percents"),W(t,"class","percents svelte-176eiqn"),A(t,"height",(100*e[1][e[13]]).toFixed(1)+"%")},m(e,n){y(e,t,n)},p(e,n){2&n&&A(t,"height",(100*e[1][e[13]]).toFixed(1)+"%")},d(e){e&&x(t)}}}function It(e){let t,n,s,l=(100*e[1][e[13]]).toFixed()+"";return{c(){t=z("br"),n=_(l),s=_("%")},m(e,l){y(e,t,l),y(e,n,l),y(e,s,l)},p(e,t){2&t&&l!==(l=(100*e[1][e[13]]).toFixed()+"")&&F(n,l)},d(e){e&&x(t),e&&x(n),e&&x(s)}}}function Lt(e){let t,n,s,l,a,r,i,o,c,u=(e[2][e[13]]?e[2][e[13]]:"")+"",d=e[11]+"",p=e[1].length&&Et(e),f=e[1].length&&It(e);return{c(){t=z("tr"),n=z("th"),s=_(u),l=k(),a=z("td"),r=k(),p&&p.c(),i=k(),o=z("span"),c=_(d),f&&f.c(),W(n,"scope","row"),W(n,"aria-label","label"),W(n,"class","svelte-176eiqn"),W(a,"aria-label","value"),W(a,"class","svelte-176eiqn"),W(o,"class","displayBox svelte-176eiqn"),W(o,"data-testid","displayBox"),W(t,"aria-label","values"),A(t,"height",e[10][e[13]]+"%"),W(t,"class","svelte-176eiqn")},m(e,u){y(e,t,u),v(t,n),v(n,s),v(t,l),v(t,a),v(t,r),p&&p.m(t,null),v(t,i),v(t,o),v(o,c),f&&f.m(o,null)},p(e,n){4&n&&u!==(u=(e[2][e[13]]?e[2][e[13]]:"")+"")&&F(s,u),e[1].length?p?p.p(e,n):(p=Et(e),p.c(),p.m(t,i)):p&&(p.d(1),p=null),1&n&&d!==(d=e[11]+"")&&F(c,d),e[1].length?f?f.p(e,n):(f=It(e),f.c(),f.m(o,null)):f&&(f.d(1),f=null),1024&n&&A(t,"height",e[10][e[13]]+"%")},d(e){e&&x(t),p&&p.d(),f&&f.d()}}}function Bt(t){let n,s,l,a,r,i,o,c,u,d,p,f,g,m,h,b,$,C=t[0],M=[];for(let e=0;e<C.length;e+=1)M[e]=Lt(Dt(t,C,e));return{c(){n=z("table"),s=z("thead"),s.innerHTML='<tr class="svelte-176eiqn"><th scope="col" class="svelte-176eiqn">Item</th> \n      <th scope="col" class="svelte-176eiqn">Value</th></tr>',l=k(),a=z("tbody");for(let e=0;e<M.length;e+=1)M[e].c();r=k(),i=z("div"),c=k(),u=z("div"),p=k(),f=z("p"),g=_(t[4]),m=k(),h=_(t[5]),b=k(),$=_(t[3]),W(s,"class","svelte-176eiqn"),W(i,"class","minmax svelte-176eiqn"),i.hidden=o=t[4]+t[5]===0,A(i,"bottom",t[8]+"%"),A(i,"height",t[6]+"%"),u.hidden=d=0===t[9],W(u,"class","expected svelte-176eiqn"),A(u,"height",t[9]+"%"),W(a,"class","svelte-176eiqn"),W(n,"class","graph svelte-176eiqn"),W(n,"aria-label","bar-chart"),A(n,"--max-label",t[7]),f.hidden=!0},m(e,t){y(e,n,t),v(n,s),v(n,l),v(n,a);for(let e=0;e<M.length;e+=1)M[e].m(a,null);v(a,r),v(a,i),v(a,c),v(a,u),y(e,p,t),y(e,f,t),v(f,g),v(f,m),v(f,h),v(f,b),v(f,$)},p(e,[t]){if(1031&t){let n;for(C=e[0],n=0;n<C.length;n+=1){const s=Dt(e,C,n);M[n]?M[n].p(s,t):(M[n]=Lt(s),M[n].c(),M[n].m(a,r))}for(;n<M.length;n+=1)M[n].d(1);M.length=C.length}48&t&&o!==(o=e[4]+e[5]===0)&&(i.hidden=o),256&t&&A(i,"bottom",e[8]+"%"),64&t&&A(i,"height",e[6]+"%"),512&t&&d!==(d=0===e[9])&&(u.hidden=d),512&t&&A(u,"height",e[9]+"%"),128&t&&A(n,"--max-label",e[7]),16&t&&F(g,e[4]),32&t&&F(h,e[5]),8&t&&F($,e[3])},i:e,o:e,d(e){e&&x(n),w(M,e),e&&x(p),e&&x(f)}}}function Vt(e,t,n){let s,l,a,r,i,{values:o}=t,{percents:c=[]}=t,{labels:u=[]}=t,{expected:d=0}=t,{minTarget:p=0}=t,{maxTarget:f=0}=t;return e.$$set=e=>{"values"in e&&n(0,o=e.values),"percents"in e&&n(1,c=e.percents),"labels"in e&&n(2,u=e.labels),"expected"in e&&n(3,d=e.expected),"minTarget"in e&&n(4,p=e.minTarget),"maxTarget"in e&&n(5,f=e.maxTarget)},e.$$.update=()=>{41&e.$$.dirty&&n(7,s=Math.max(...o,d,f)),129&e.$$.dirty&&n(10,l=o.map((e=>Math.round(e/s*100)))),136&e.$$.dirty&&n(9,a=Math.round(d/s*100)),176&e.$$.dirty&&n(6,r=Math.round((f-p)/s*100)),64&e.$$.dirty&&n(8,i=100-r)},[o,c,u,d,p,f,r,s,i,a,l]}class Ht extends ye{constructor(e){super(),$e(this,e,Vt,Bt,r,{values:0,percents:1,labels:2,expected:3,minTarget:4,maxTarget:5})}}function Nt(t){let n,s,l,a,r,i,o,c,u,d,p,f,g,m,h,b,$,w,C,M,T,S,q,j,A,O,R,D,E,I,L,B,V,H,N,Z,G,P,K,Q=t[3].toFixed()+"",J=t[8].expectedDaily.toFixed()+"",U=t[9].rpdMin+"",X=t[9].rpdMax+"",ee=t[10](t[2][t[2].length-1]?.start)+"",te=t[2][t[2].length-1]?.review_count+"",ne=(100*t[0][t[0].length-1]).toFixed()+"";function se(e,t){return e[2].length>2?Pt:2===e[2].length?Gt:void 0}let le=se(t),ae=le&&le(t);return{c(){n=z("h1"),s=_(t[1]),l=_(" Reviews @"),a=_(Q),r=_("%"),o=k(),c=z("div"),u=z("table"),d=z("tr"),p=z("th"),p.textContent="Expected Daily:",f=k(),g=z("td"),m=_(J),h=k(),b=z("span"),$=_("(avg.: "),w=_(t[5]),C=_(", target: "),M=_(U),T=_("–"),S=_(X),q=_(")"),j=k(),A=z("tr"),O=z("th"),R=_("Latest ("),D=_(ee),E=_("):"),I=k(),L=z("td"),B=_(te),V=k(),H=z("span"),N=_("reviews @ "),Z=_(ne),G=_("%"),P=k(),ae&&ae.c(),W(n,"class","gbHeader"),W(b,"class","secondary"),W(H,"class","secondary"),W(u,"class","gbContent"),W(c,"data-testid","reviews-per-day-table")},m(e,t){y(e,n,t),v(n,s),v(n,l),v(n,a),v(n,r),y(e,o,t),y(e,c,t),v(c,u),v(u,d),v(d,p),v(d,f),v(d,g),v(g,m),v(g,h),v(g,b),v(b,$),v(b,w),v(b,C),v(b,M),v(b,T),v(b,S),v(b,q),v(u,j),v(u,A),v(A,O),v(O,R),v(O,D),v(O,E),v(A,I),v(A,L),v(L,B),v(L,V),v(L,H),v(H,N),v(H,Z),v(H,G),v(u,P),ae&&ae.m(u,null)},p(e,t){2&t&&F(s,e[1]),8&t&&Q!==(Q=e[3].toFixed()+"")&&F(a,Q),256&t&&J!==(J=e[8].expectedDaily.toFixed()+"")&&F(m,J),32&t&&F(w,e[5]),512&t&&U!==(U=e[9].rpdMin+"")&&F(M,U),512&t&&X!==(X=e[9].rpdMax+"")&&F(S,X),4&t&&ee!==(ee=e[10](e[2][e[2].length-1]?.start)+"")&&F(D,ee),4&t&&te!==(te=e[2][e[2].length-1]?.review_count+"")&&F(B,te),1&t&&ne!==(ne=(100*e[0][e[0].length-1]).toFixed()+"")&&F(Z,ne),le===(le=se(e))&&ae?ae.p(e,t):(ae&&ae.d(1),ae=le&&le(e),ae&&(ae.c(),ae.m(u,null)))},i(e){i||Y((()=>{i=fe(n,ut,{}),i.start()})),K||Y((()=>{K=fe(c,ut,{}),K.start()}))},o:e,d(e){e&&x(n),e&&x(o),e&&x(c),ae&&ae.d()}}}function Zt(e){let t,n,s,l;return s=new Ht({props:{values:e[4],labels:e[6],expected:e[8].expectedDaily,minTarget:e[9].rpdMin,maxTarget:e[9].rpdMax,percents:e[0]}}),{c(){t=z("h1"),t.textContent="Reviews",n=k(),me(s.$$.fragment),W(t,"class","gbHeader")},m(e,a){y(e,t,a),y(e,n,a),he(s,e,a),l=!0},p(e,t){const n={};16&t&&(n.values=e[4]),64&t&&(n.labels=e[6]),256&t&&(n.expected=e[8].expectedDaily),512&t&&(n.minTarget=e[9].rpdMin),512&t&&(n.maxTarget=e[9].rpdMax),1&t&&(n.percents=e[0]),s.$set(n)},i(e){l||(ue(s.$$.fragment,e),l=!0)},o(e){de(s.$$.fragment,e),l=!1},d(e){e&&x(t),e&&x(n),ve(s,e)}}}function Gt(e){let t,n,s,l,a,r,i,o,c,u=e[10](e[2][0].start)+"",d=e[2][0].review_count+"";return{c(){t=z("tr"),n=z("th"),s=_(u),l=_(":"),a=k(),r=z("td"),i=_(d),o=k(),c=z("span"),c.textContent="reviews",W(c,"class","secondary")},m(e,u){y(e,t,u),v(t,n),v(n,s),v(n,l),v(t,a),v(t,r),v(r,i),v(r,o),v(r,c)},p(e,t){4&t&&u!==(u=e[10](e[2][0].start)+"")&&F(s,u),4&t&&d!==(d=e[2][0].review_count+"")&&F(i,d)},d(e){e&&x(t)}}}function Pt(e){let t,n,s,l,a,r,i,o,c,u,d,p,f,g,m,h,b,$,w,C=e[10](e[2][0].start)+"",M=e[10](e[2][e[2].length-2].start)+"",T=e[2].slice(0,-1).map(Qt).join(" • ")+"",S=e[0].slice(0,-1).map(Jt).join("% • ")+"";return{c(){t=z("tr"),n=z("th"),s=_(C),l=_(" – "),a=_(M),r=_(":"),i=k(),o=z("td"),c=_(T),u=k(),d=z("span"),d.textContent="reviews",p=k(),f=z("tr"),g=z("th"),m=k(),h=z("td"),b=_(S),$=_("% "),w=z("span"),w.textContent="accuracy",W(d,"class","secondary"),W(w,"class","secondary")},m(e,x){y(e,t,x),v(t,n),v(n,s),v(n,l),v(n,a),v(n,r),v(t,i),v(t,o),v(o,c),v(o,u),v(o,d),y(e,p,x),y(e,f,x),v(f,g),v(f,m),v(f,h),v(h,b),v(h,$),v(h,w)},p(e,t){4&t&&C!==(C=e[10](e[2][0].start)+"")&&F(s,C),4&t&&M!==(M=e[10](e[2][e[2].length-2].start)+"")&&F(a,M),4&t&&T!==(T=e[2].slice(0,-1).map(Qt).join(" • ")+"")&&F(c,T),1&t&&S!==(S=e[0].slice(0,-1).map(Jt).join("% • ")+"")&&F(b,S)},d(e){e&&x(t),e&&x(p),e&&x(f)}}}function Kt(e){let t,n,s,l;const a=[Zt,Nt],r=[];function i(e,t){return"chart"===e[7]?0:1}return n=i(e),s=r[n]=a[n](e),{c(){t=z("div"),s.c(),W(t,"class","gbWidget"),W(t,"data-testid","reviews-per-day-gauge")},m(e,s){y(e,t,s),r[n].m(t,null),l=!0},p(e,[l]){let o=n;n=i(e),n===o?r[n].p(e,l):(oe(),de(r[o],1,1,(()=>{r[o]=null})),ce(),s=r[n],s?s.p(e,l):(s=r[n]=a[n](e),s.c()),ue(s,1),s.m(t,null))},i(e){l||(ue(s),l=!0)},o(e){de(s),l=!1},d(e){e&&x(t),r[n].d()}}}const Qt=e=>e.review_count,Jt=e=>(100*e).toFixed();function Ut(e,t,n){let s,l,a,r,i,c,u,d,p,f,g;o(e,wt,(e=>n(2,u=e))),o(e,mt,(e=>n(11,d=e))),o(e,ft,(e=>n(7,p=e))),o(e,bt,(e=>n(8,f=e))),o(e,Ct,(e=>n(9,g=e)));const m=e=>new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(e);return e.$$.update=()=>{4&e.$$.dirty&&n(6,s=u.map((e=>m(e.start)))),4&e.$$.dirty&&n(1,l=u.reduce(((e,t)=>e+t.review_count),0)),2050&e.$$.dirty&&n(5,a=(l/d[0]).toFixed()),4&e.$$.dirty&&n(4,r=u.map((e=>e.review_count))),4&e.$$.dirty&&n(0,i=u.map((e=>e.accuracy))),1&e.$$.dirty&&n(3,c=100*i.reduce(((e,t)=>e+t),0)/i.length)},[i,l,u,c,r,a,s,p,f,g,m,d]}class Yt extends ye{constructor(e){super(),$e(this,e,Ut,Kt,r,{})}}function Xt(e){let t,n,s,a,r,i,o,u,d,p,f;const g=e[5].default,m=function(e,t,n,s){if(e){const l=c(e,t,n,s);return e[0](l)}}(g,e,e[4],null);return{c(){t=z("div"),n=z("div"),s=C("svg"),a=C("circle"),r=C("line"),i=C("line"),o=k(),u=z("div"),m&&m.c(),W(a,"cx","6"),W(a,"cy","6"),W(a,"r","6"),W(r,"x1","3"),W(r,"y1","3"),W(r,"x2","9"),W(r,"y2","9"),W(r,"class","svelte-1lylrca"),W(i,"x1","9"),W(i,"y1","3"),W(i,"x2","3"),W(i,"y2","9"),W(i,"class","svelte-1lylrca"),W(s,"id","close"),W(s,"viewBox","0 0 12 12"),W(s,"class","svelte-1lylrca"),W(u,"id","modal-content"),W(u,"class","svelte-1lylrca"),W(n,"id","modal"),W(n,"class","svelte-1lylrca"),W(t,"id","topModal"),W(t,"class","svelte-1lylrca"),R(t,"visible",e[1])},m(l,c){var g;y(l,t,c),v(t,n),v(n,s),v(s,a),v(s,r),v(s,i),v(n,o),v(n,u),m&&m.m(u,null),e[7](t),d=!0,p||(f=[T(s,"click",e[6]),T(n,"click",(g=nn,function(e){return e.stopPropagation(),g.call(this,e)})),T(t,"click",e[8])],p=!0)},p(e,[n]){m&&m.p&&(!d||16&n)&&function(e,t,n,s,l,a){if(l){const r=c(t,n,s,a);e.p(r,l)}}(m,g,e,e[4],d?function(e,t,n,s){if(e[2]&&s){const l=e[2](s(n));if(void 0===t.dirty)return l;if("object"==typeof l){const e=[],n=Math.max(t.dirty.length,l.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|l[s];return e}return t.dirty|l}return t.dirty}(g,e[4],n,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[4]),null),2&n&&R(t,"visible",e[1])},i(e){d||(ue(m,e),d=!0)},o(e){de(m,e),d=!1},d(n){n&&x(t),m&&m.d(n),e[7](null),p=!1,l(f)}}}let en;const tn={};const nn=()=>{};function sn(e,t,n){let s,l,a,{$$slots:r={},$$scope:i}=t,o=!1,{id:c=""}=t;function u(e){"Escape"==e.key&&en==s&&d(null)}function d(e){o&&(window.removeEventListener("keydown",u),en=l,null==en&&(document.body.style.overflow=""),n(1,o=!1),a&&a(e))}var p;tn[c]={open:function(e){a=e,o||(l=en,en=s,window.addEventListener("keydown",u),document.body.style.overflow="hidden",n(1,o=!0),document.body.appendChild(s))},close:d},p=()=>{delete tn[c],window.removeEventListener("keydown",u)},N().$$.on_destroy.push(p);return e.$$set=e=>{"id"in e&&n(3,c=e.id),"$$scope"in e&&n(4,i=e.$$scope)},[s,o,d,c,i,r,()=>d(null),function(e){P[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},()=>d(null)]}class ln extends ye{constructor(e){super(),$e(this,e,sn,Xt,r,{id:3})}}function an(t){let n,s,a,r,i,o,c,u,d,p,f,g,m,h,b,$,w,C,M,S,A,O,R,D,E,I,L,B,V,H,N,Z,G,P,K,Q,J,U,Y,X,ee,te,ne,se,le,ae,re,ie,oe,ce,ue,de,pe,fe,ge,me,he,ve,be,$e,ye,xe,we,ze,Ce,_e,ke,Me,Te,Se,We,qe,Fe,je,Ae,Oe,Re,De,Ee,Ie,Le,Be,Ve,He,Ne,Ze,Ge,Pe,Ke,Qe,Je,Ue,Ye,Xe,et,tt,nt,st,lt,at,rt,it=t[0].gbMinTarget+"",ot=t[0].gbMaxTarget+"";return{c(){n=z("div"),s=z("h4"),s.textContent="Target minimum",a=k(),r=z("input"),i=k(),o=z("label"),c=_(it),u=k(),d=z("h4"),d.textContent="Target maximum",p=k(),f=z("input"),g=k(),m=z("label"),h=_(ot),b=k(),$=z("hr"),w=k(),C=z("table"),M=z("tbody"),S=z("tr"),A=z("th"),A.textContent="Labels",O=k(),R=z("td"),D=z("input"),E=k(),I=z("td"),L=z("input"),B=k(),V=z("td"),H=z("input"),N=k(),Z=z("thead"),Z.innerHTML='<tr class="svelte-sctz41"><td class="svelte-sctz41"></td> \n        <th class="secondary center col3 svelte-sctz41">Below</th> \n        <th class="secondary center svelte-sctz41">In range</th> \n        <th class="secondary center svelte-sctz41">Above</th></tr>',G=k(),P=z("hr"),K=k(),Q=z("table"),J=z("thead"),J.innerHTML='<tr class="svelte-sctz41"><th></th> \n        <th class="col3 svelte-sctz41">Weight</th> \n        <th></th> \n        <th class="col5 svelte-sctz41">Weight</th></tr>',U=k(),Y=z("tbody"),X=z("tr"),ee=z("th"),ee.textContent="Radicals12",te=k(),ne=z("td"),se=z("input"),le=k(),ae=z("th"),ae.textContent="Appr34",re=k(),ie=z("td"),oe=z("input"),ce=k(),ue=z("tr"),de=z("th"),de.textContent="Kanji12",pe=k(),fe=z("td"),ge=z("input"),me=k(),he=z("th"),he.textContent="Guru",ve=k(),be=z("td"),$e=z("input"),ye=k(),xe=z("tr"),we=z("th"),we.textContent="Vocabulary12",ze=k(),Ce=z("td"),_e=z("input"),ke=k(),Me=z("th"),Me.textContent="Master",Te=k(),Se=z("td"),We=z("input"),qe=k(),Fe=z("tr"),je=z("td"),Ae=k(),Oe=z("td"),Re=k(),De=z("th"),De.textContent="Enlightened",Ee=k(),Ie=z("td"),Le=z("input"),Be=k(),Ve=z("hr"),He=k(),Ne=z("table"),Ze=z("thead"),Ze.innerHTML='<tr class="svelte-sctz41"><td class="svelte-sctz41"></td> \n        <th class="secondary center col3 svelte-sctz41">Radicals12</th> \n        <th class="secondary center svelte-sctz41">Kanji12</th> \n        <th class="secondary center svelte-sctz41">Vocabulary12</th></tr>',Ge=k(),Pe=z("tbody"),Ke=z("tr"),Qe=z("th"),Qe.textContent="Quiz?",Je=k(),Ue=z("td"),Ye=z("input"),Xe=k(),et=z("td"),tt=z("input"),nt=k(),st=z("td"),lt=z("input"),W(s,"class","svelte-sctz41"),W(r,"id","targetMin"),W(r,"type","range"),W(r,"min",10),W(r,"max",300),W(r,"step",10),W(r,"class","svelte-sctz41"),W(o,"for","targetMin"),W(o,"class","svelte-sctz41"),W(d,"class","svelte-sctz41"),W(f,"id","targetMax"),W(f,"type","range"),W(f,"min",10),W(f,"max",300),W(f,"step",10),W(f,"class","svelte-sctz41"),W(m,"for","targetMax"),W(m,"class","svelte-sctz41"),W($,"class","svelte-sctz41"),W(A,"class","col2 svelte-sctz41"),W(D,"type","text"),W(D,"class","svelte-sctz41"),W(R,"class","svelte-sctz41"),W(L,"type","text"),W(L,"class","svelte-sctz41"),W(I,"class","svelte-sctz41"),W(H,"type","text"),W(H,"class","svelte-sctz41"),W(V,"class","svelte-sctz41"),W(S,"class","svelte-sctz41"),W(M,"class","svelte-sctz41"),W(Z,"class","svelte-sctz41"),W(C,"class","svelte-sctz41"),W(P,"class","svelte-sctz41"),W(J,"class","svelte-sctz41"),W(ee,"class","secondary right-align col2 svelte-sctz41"),W(se,"class","col3 svelte-sctz41"),W(se,"type","number"),W(se,"min",0),W(se,"max",5),W(se,"step",.1),W(ne,"class","svelte-sctz41"),W(ae,"class","secondary right-align col4 svelte-sctz41"),W(oe,"class","col5 svelte-sctz41"),W(oe,"type","number"),W(oe,"min",0),W(oe,"max",5),W(oe,"step",.1),W(ie,"class","svelte-sctz41"),W(X,"class","svelte-sctz41"),W(de,"class","secondary right-align col2 svelte-sctz41"),W(ge,"class","col3 svelte-sctz41"),W(ge,"type","number"),W(ge,"min",0),W(ge,"max",5),W(ge,"step",.1),W(fe,"class","svelte-sctz41"),W(he,"class","secondary right-align col4 svelte-sctz41"),W($e,"class","col5 svelte-sctz41"),W($e,"type","number"),W($e,"min",0),W($e,"max",5),W($e,"step",.1),W(be,"class","svelte-sctz41"),W(ue,"class","svelte-sctz41"),W(we,"class","secondary right-align col2 svelte-sctz41"),W(_e,"class","col3 svelte-sctz41"),W(_e,"type","number"),W(_e,"min",0),W(_e,"max",5),W(_e,"step",.1),W(Ce,"class","svelte-sctz41"),W(Me,"class","secondary right-align col4 svelte-sctz41"),W(We,"class","col4 svelte-sctz41"),W(We,"type","number"),W(We,"min",0),W(We,"max",5),W(We,"step",.1),W(Se,"class","svelte-sctz41"),W(xe,"class","svelte-sctz41"),W(je,"class","svelte-sctz41"),W(Oe,"class","svelte-sctz41"),W(De,"class","secondary right-align col4 svelte-sctz41"),W(Le,"class","col5 svelte-sctz41"),W(Le,"type","number"),W(Le,"min",0),W(Le,"max",5),W(Le,"step",.1),W(Ie,"class","svelte-sctz41"),W(Fe,"class","svelte-sctz41"),W(Y,"class","svelte-sctz41"),W(Q,"class","svelte-sctz41"),W(Ve,"class","svelte-sctz41"),W(Ze,"class","svelte-sctz41"),W(Qe,"class","col2 svelte-sctz41"),W(Ye,"type","checkbox"),W(Ye,"name","quizTypes"),W(Ue,"class","svelte-sctz41"),W(tt,"type","checkbox"),W(tt,"name","quizTypes"),W(et,"class","svelte-sctz41"),W(lt,"type","checkbox"),W(lt,"name","quizTypes"),W(st,"class","svelte-sctz41"),W(Ke,"class","svelte-sctz41"),W(Pe,"class","svelte-sctz41"),W(Ne,"class","svelte-sctz41"),W(n,"class","settingsComp")},m(e,l){y(e,n,l),v(n,s),v(n,a),v(n,r),j(r,t[0].gbMinTarget),v(n,i),v(n,o),v(o,c),v(n,u),v(n,d),v(n,p),v(n,f),j(f,t[0].gbMaxTarget),v(n,g),v(n,m),v(m,h),v(n,b),v(n,$),v(n,w),v(n,C),v(C,M),v(M,S),v(S,A),v(S,O),v(S,R),v(R,D),j(D,t[0].belowTerm),v(S,E),v(S,I),v(I,L),j(L,t[0].inRangeTerm),v(S,B),v(S,V),v(V,H),j(H,t[0].aboveTerm),v(C,N),v(C,Z),v(n,G),v(n,P),v(n,K),v(n,Q),v(Q,J),v(Q,U),v(Q,Y),v(Y,X),v(X,ee),v(X,te),v(X,ne),v(ne,se),j(se,t[0].newRWeight),v(X,le),v(X,ae),v(X,re),v(X,ie),v(ie,oe),j(oe,t[0].apprWeight),v(Y,ce),v(Y,ue),v(ue,de),v(ue,pe),v(ue,fe),v(fe,ge),j(ge,t[0].newKWeight),v(ue,me),v(ue,he),v(ue,ve),v(ue,be),v(be,$e),j($e,t[0].guruWeight),v(Y,ye),v(Y,xe),v(xe,we),v(xe,ze),v(xe,Ce),v(Ce,_e),j(_e,t[0].newVWeight),v(xe,ke),v(xe,Me),v(xe,Te),v(xe,Se),v(Se,We),j(We,t[0].masterWeight),v(Y,qe),v(Y,Fe),v(Fe,je),v(Fe,Ae),v(Fe,Oe),v(Fe,Re),v(Fe,De),v(Fe,Ee),v(Fe,Ie),v(Ie,Le),j(Le,t[0].enlightenedWeight),v(n,Be),v(n,Ve),v(n,He),v(n,Ne),v(Ne,Ze),v(Ne,Ge),v(Ne,Pe),v(Pe,Ke),v(Ke,Qe),v(Ke,Je),v(Ke,Ue),v(Ue,Ye),Ye.checked=t[0].rQuiz,v(Ke,Xe),v(Ke,et),v(et,tt),tt.checked=t[0].kQuiz,v(Ke,nt),v(Ke,st),v(st,lt),lt.checked=t[0].vQuiz,at||(rt=[T(r,"change",t[1]),T(r,"input",t[1]),T(f,"change",t[2]),T(f,"input",t[2]),T(D,"input",t[3]),T(L,"input",t[4]),T(H,"input",t[5]),T(se,"input",t[6]),T(oe,"input",t[7]),T(ge,"input",t[8]),T($e,"input",t[9]),T(_e,"input",t[10]),T(We,"input",t[11]),T(Le,"input",t[12]),T(Ye,"change",t[13]),T(tt,"change",t[14]),T(lt,"change",t[15])],at=!0)},p(e,[t]){1&t&&j(r,e[0].gbMinTarget),1&t&&it!==(it=e[0].gbMinTarget+"")&&F(c,it),1&t&&j(f,e[0].gbMaxTarget),1&t&&ot!==(ot=e[0].gbMaxTarget+"")&&F(h,ot),1&t&&D.value!==e[0].belowTerm&&j(D,e[0].belowTerm),1&t&&L.value!==e[0].inRangeTerm&&j(L,e[0].inRangeTerm),1&t&&H.value!==e[0].aboveTerm&&j(H,e[0].aboveTerm),1&t&&q(se.value)!==e[0].newRWeight&&j(se,e[0].newRWeight),1&t&&q(oe.value)!==e[0].apprWeight&&j(oe,e[0].apprWeight),1&t&&q(ge.value)!==e[0].newKWeight&&j(ge,e[0].newKWeight),1&t&&q($e.value)!==e[0].guruWeight&&j($e,e[0].guruWeight),1&t&&q(_e.value)!==e[0].newVWeight&&j(_e,e[0].newVWeight),1&t&&q(We.value)!==e[0].masterWeight&&j(We,e[0].masterWeight),1&t&&q(Le.value)!==e[0].enlightenedWeight&&j(Le,e[0].enlightenedWeight),1&t&&(Ye.checked=e[0].rQuiz),1&t&&(tt.checked=e[0].kQuiz),1&t&&(lt.checked=e[0].vQuiz)},i:e,o:e,d(e){e&&x(n),at=!1,l(rt)}}}function rn(e,t,n){let{values:s}=t;return e.$$set=e=>{"values"in e&&n(0,s=e.values)},[s,function(){s.gbMinTarget=q(this.value),n(0,s)},function(){s.gbMaxTarget=q(this.value),n(0,s)},function(){s.belowTerm=this.value,n(0,s)},function(){s.inRangeTerm=this.value,n(0,s)},function(){s.aboveTerm=this.value,n(0,s)},function(){s.newRWeight=q(this.value),n(0,s)},function(){s.apprWeight=q(this.value),n(0,s)},function(){s.newKWeight=q(this.value),n(0,s)},function(){s.guruWeight=q(this.value),n(0,s)},function(){s.newVWeight=q(this.value),n(0,s)},function(){s.masterWeight=q(this.value),n(0,s)},function(){s.enlightenedWeight=q(this.value),n(0,s)},function(){s.rQuiz=this.checked,n(0,s)},function(){s.kQuiz=this.checked,n(0,s)},function(){s.vQuiz=this.checked,n(0,s)}]}class on extends ye{constructor(e){super(),$e(this,e,rn,an,r,{values:0})}}function cn(t){let n,s,a,r,i,o,c,u,d,p,f,g,m,h,b,$,w,C,M,S,q,A,O,R,D,E,I=t[0].targetSpeed+"",L=100*t[0].speedMin+"",B=100*t[0].speedMax+"";return{c(){n=z("div"),s=z("h4"),s.textContent="Speed Target",a=k(),r=z("input"),i=k(),o=z("label"),c=_(I),u=_(" seconds"),d=k(),p=z("hr"),f=k(),g=z("h4"),g.textContent="Warning Levels",m=k(),h=z("input"),b=k(),$=z("label"),w=_(L),C=_("% minimum"),M=k(),S=z("input"),q=k(),A=z("label"),O=_(B),R=_("% maximum"),W(s,"class","svelte-62sb6n"),W(r,"id","speedTarget"),W(r,"type","range"),W(r,"min","1"),W(r,"max","15"),W(r,"step","0.2"),W(r,"class","svelte-62sb6n"),W(o,"for","speedTarget"),W(o,"class","svelte-62sb6n"),W(p,"class","svelte-62sb6n"),W(g,"class","svelte-62sb6n"),W(h,"id","minWarning"),W(h,"type","range"),W(h,"min",0),W(h,"max",1),W(h,"step",.1),W(h,"class","svelte-62sb6n"),W($,"for","minWarning"),W($,"class","svelte-62sb6n"),W(S,"id","maxWarning"),W(S,"type","range"),W(S,"min",0),W(S,"max",1),W(S,"step",.1),W(S,"class","svelte-62sb6n"),W(A,"for","maxWarning"),W(A,"class","svelte-62sb6n"),W(n,"class","settingsComp")},m(e,l){y(e,n,l),v(n,s),v(n,a),v(n,r),j(r,t[0].targetSpeed),v(n,i),v(n,o),v(o,c),v(o,u),v(n,d),v(n,p),v(n,f),v(n,g),v(n,m),v(n,h),j(h,t[0].speedMin),v(n,b),v(n,$),v($,w),v($,C),v(n,M),v(n,S),j(S,t[0].speedMax),v(n,q),v(n,A),v(A,O),v(A,R),D||(E=[T(r,"change",t[1]),T(r,"input",t[1]),T(h,"change",t[2]),T(h,"input",t[2]),T(S,"change",t[3]),T(S,"input",t[3])],D=!0)},p(e,[t]){1&t&&j(r,e[0].targetSpeed),1&t&&I!==(I=e[0].targetSpeed+"")&&F(c,I),1&t&&j(h,e[0].speedMin),1&t&&L!==(L=100*e[0].speedMin+"")&&F(w,L),1&t&&j(S,e[0].speedMax),1&t&&B!==(B=100*e[0].speedMax+"")&&F(O,B)},i:e,o:e,d(e){e&&x(n),D=!1,l(E)}}}function un(e,t,n){let{values:s}=t;return e.$$set=e=>{"values"in e&&n(0,s=e.values)},[s,function(){s.targetSpeed=q(this.value),n(0,s)},function(){s.speedMin=q(this.value),n(0,s)},function(){s.speedMax=q(this.value),n(0,s)}]}class dn extends ye{constructor(e){super(),$e(this,e,un,cn,r,{values:0})}}function pn(t){let n,s,a,r,i,o,c,u,d,p,f,g,m,h,b,$,w=t[0].rpdMin+"",C=t[0].rpdMax+"";return{c(){n=z("div"),s=z("h4"),s.textContent="Target Reviews-per-day",a=k(),r=z("input"),i=k(),o=z("label"),c=_(w),u=_(" reviews min"),d=k(),p=z("input"),f=k(),g=z("label"),m=_(C),h=_(" reviews max"),W(s,"class","svelte-62sb6n"),W(r,"id","rpdMin"),W(r,"type","range"),W(r,"min",10),W(r,"max",290),W(r,"step",10),W(r,"class","svelte-62sb6n"),W(o,"for","rpdTarget"),W(o,"class","svelte-62sb6n"),W(p,"id","rpdMax"),W(p,"type","range"),W(p,"min",20),W(p,"max",300),W(p,"step",10),W(p,"class","svelte-62sb6n"),W(g,"for","rpdTarget"),W(g,"class","svelte-62sb6n"),W(n,"class","settingsComp")},m(e,l){y(e,n,l),v(n,s),v(n,a),v(n,r),j(r,t[0].rpdMin),v(n,i),v(n,o),v(o,c),v(o,u),v(n,d),v(n,p),j(p,t[0].rpdMax),v(n,f),v(n,g),v(g,m),v(g,h),b||($=[T(r,"change",t[1]),T(r,"input",t[1]),T(p,"change",t[2]),T(p,"input",t[2])],b=!0)},p(e,[t]){1&t&&j(r,e[0].rpdMin),1&t&&w!==(w=e[0].rpdMin+"")&&F(c,w),1&t&&j(p,e[0].rpdMax),1&t&&C!==(C=e[0].rpdMax+"")&&F(m,C)},i:e,o:e,d(e){e&&x(n),b=!1,l($)}}}function fn(e,t,n){let{values:s}=t;return e.$$set=e=>{"values"in e&&n(0,s=e.values)},[s,function(){s.rpdMin=q(this.value),n(0,s)},function(){s.rpdMax=q(this.value),n(0,s)}]}class gn extends ye{constructor(e){super(),$e(this,e,fn,pn,r,{values:0})}}function mn(t){let n,s,a,r,i,o,c,u,d,p,f,g,m,h,b,$,w,C,M,S,q,F,R,D,E,I,L,B,V,H,N,Z,G,P,K,Q,J,U,X,ee,te,ne,se,le,ae,re,ie,oe,ce,ue,de,pe,fe,ge,me,he,ve,be,$e,ye,xe;return{c(){n=z("div"),s=z("div"),a=z("h3"),r=_("Sample Text "),i=z("small"),i.textContent="small",o=_(" and "),c=z("strong"),c.textContent="STRONG",u=k(),d=z("div"),p=z("div"),f=z("div"),g=z("div"),m=z("div"),h=k(),b=z("div"),$=z("label"),w=_("Background\n      "),C=z("input"),M=k(),S=z("label"),q=_("Fill\n      "),F=z("input"),R=k(),D=z("label"),E=_("Text\n      "),I=z("input"),L=k(),B=z("div"),V=z("label"),H=_("Alt\n      "),N=z("input"),Z=k(),G=z("label"),P=_("Good\n      "),K=z("input"),Q=k(),J=z("label"),U=_("Warn\n      "),X=z("input"),ee=k(),te=z("div"),ne=z("label"),se=_("Alert\n      "),le=z("input"),ae=k(),re=z("button"),re.textContent="Set light",ie=k(),oe=z("button"),oe.textContent="Set dark",ce=k(),ue=z("hr"),de=k(),pe=z("label"),pe.textContent="Position",fe=k(),ge=z("select"),me=z("option"),me.textContent="Top",he=z("option"),he.textContent="Below Forecast",ve=z("option"),ve.textContent="Below SRS",be=z("option"),be.textContent="Below Panels",$e=z("option"),$e.textContent="Bottom",A(a,"color",t[0].textColor),W(p,"class","altBar svelte-1hzp20w"),A(p,"background-color",t[0].altColor),W(f,"class","goodBar svelte-1hzp20w"),A(f,"background-color",t[0].goodColor),W(g,"class","warnBar svelte-1hzp20w"),A(g,"background-color",t[0].warnColor),W(m,"class","errorBar svelte-1hzp20w"),A(m,"background-color",t[0].alertColor),W(d,"class","gaugeBar svelte-1hzp20w"),A(d,"background-color",t[0].fillColor),W(s,"class","colorSample svelte-1hzp20w"),A(s,"background-color",t[0].bgColor),W(C,"type","color"),W(C,"class","svelte-1hzp20w"),W($,"class","svelte-1hzp20w"),W(F,"type","color"),W(F,"class","svelte-1hzp20w"),W(S,"class","svelte-1hzp20w"),W(I,"type","color"),W(I,"class","svelte-1hzp20w"),W(D,"class","svelte-1hzp20w"),W(b,"class","colorInputs svelte-1hzp20w"),W(N,"type","color"),W(N,"class","svelte-1hzp20w"),W(V,"class","svelte-1hzp20w"),W(K,"type","color"),W(K,"class","svelte-1hzp20w"),W(G,"class","svelte-1hzp20w"),W(X,"type","color"),W(X,"class","svelte-1hzp20w"),W(J,"class","svelte-1hzp20w"),W(B,"class","colorInputs svelte-1hzp20w"),W(le,"type","color"),W(le,"class","svelte-1hzp20w"),W(ne,"class","svelte-1hzp20w"),W(te,"class","colorInputs svelte-1hzp20w"),W(re,"class","light svelte-1hzp20w"),W(oe,"class","dark svelte-1hzp20w"),W(ue,"class","svelte-1hzp20w"),W(pe,"for","position-select"),W(pe,"class","col2 svelte-1hzp20w"),me.__value="Top",me.value=me.__value,he.__value="Below Forecast",he.value=he.__value,ve.__value="Below SRS",ve.value=ve.__value,be.__value="Below Panels",be.value=be.__value,$e.__value="Bottom",$e.value=$e.__value,W(ge,"name","positions"),W(ge,"id","position-select"),W(ge,"class","position svelte-1hzp20w"),void 0===t[0].position&&Y((()=>t[10].call(ge))),W(n,"class","settingsComp")},m(e,l){y(e,n,l),v(n,s),v(s,a),v(a,r),v(a,i),v(a,o),v(a,c),v(s,u),v(s,d),v(d,p),v(d,f),v(d,g),v(d,m),v(n,h),v(n,b),v(b,$),v($,w),v($,C),j(C,t[0].bgColor),v(b,M),v(b,S),v(S,q),v(S,F),j(F,t[0].fillColor),v(b,R),v(b,D),v(D,E),v(D,I),j(I,t[0].textColor),v(n,L),v(n,B),v(B,V),v(V,H),v(V,N),j(N,t[0].altColor),v(B,Z),v(B,G),v(G,P),v(G,K),j(K,t[0].goodColor),v(B,Q),v(B,J),v(J,U),v(J,X),j(X,t[0].warnColor),v(n,ee),v(n,te),v(te,ne),v(ne,se),v(ne,le),j(le,t[0].alertColor),v(n,ae),v(n,re),v(n,ie),v(n,oe),v(n,ce),v(n,ue),v(n,de),v(n,pe),v(n,fe),v(n,ge),v(ge,me),v(ge,he),v(ge,ve),v(ge,be),v(ge,$e),O(ge,t[0].position),ye||(xe=[T(C,"input",t[3]),T(F,"input",t[4]),T(I,"input",t[5]),T(N,"input",t[6]),T(K,"input",t[7]),T(X,"input",t[8]),T(le,"input",t[9]),T(re,"click",t[1]),T(oe,"click",t[2]),T(ge,"change",t[10])],ye=!0)},p(e,[t]){1&t&&A(a,"color",e[0].textColor),1&t&&A(p,"background-color",e[0].altColor),1&t&&A(f,"background-color",e[0].goodColor),1&t&&A(g,"background-color",e[0].warnColor),1&t&&A(m,"background-color",e[0].alertColor),1&t&&A(d,"background-color",e[0].fillColor),1&t&&A(s,"background-color",e[0].bgColor),1&t&&j(C,e[0].bgColor),1&t&&j(F,e[0].fillColor),1&t&&j(I,e[0].textColor),1&t&&j(N,e[0].altColor),1&t&&j(K,e[0].goodColor),1&t&&j(X,e[0].warnColor),1&t&&j(le,e[0].alertColor),1&t&&O(ge,e[0].position)},i:e,o:e,d(e){e&&x(n),ye=!1,l(xe)}}}function hn(e,t,n){let{values:s}=t;return e.$$set=e=>{"values"in e&&n(0,s=e.values)},[s,()=>{n(0,s.textColor="#333333",s),n(0,s.bgColor="#f4f4f4",s),n(0,s.fillColor="#b4c0be",s),n(0,s.altColor="#489c5c",s),n(0,s.goodColor="#59c273",s),n(0,s.warnColor="#fbb623",s),n(0,s.alertColor="#ff00aa",s)},()=>{n(0,s.textColor="#ffffff",s),n(0,s.bgColor="#232629",s),n(0,s.altColor="#489c5c",s),n(0,s.fillColor="#747474",s),n(0,s.goodColor="#59c273",s),n(0,s.warnColor="#fcbd4b",s),n(0,s.alertColor="#d94353",s)},function(){s.bgColor=this.value,n(0,s)},function(){s.fillColor=this.value,n(0,s)},function(){s.textColor=this.value,n(0,s)},function(){s.altColor=this.value,n(0,s)},function(){s.goodColor=this.value,n(0,s)},function(){s.warnColor=this.value,n(0,s)},function(){s.alertColor=this.value,n(0,s)},function(){s.position=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,s)}]}class vn extends ye{constructor(e){super(),$e(this,e,hn,mn,r,{values:0})}}function bn(t){let n,s,a,r,i,o,c,u,d,p,f,g,m,h,b,$,w,C,M,S=t[0].madCutoff+"",q=t[0].tzOffset+"";return{c(){n=z("div"),s=z("h4"),s.textContent="MAD cutoff",a=k(),r=z("input"),i=k(),o=z("label"),c=_(S),u=k(),d=z("hr"),p=k(),f=z("h4"),f.textContent="Timezone Offset",g=k(),m=z("input"),h=k(),b=z("label"),$=_(q),w=_(" hours"),W(s,"class","svelte-62sb6n"),W(r,"id","madCutoff"),W(r,"type","range"),W(r,"min","2"),W(r,"max","15"),W(r,"class","svelte-62sb6n"),W(o,"for","madCutoff"),W(o,"class","svelte-62sb6n"),W(d,"class","svelte-62sb6n"),W(f,"class","svelte-62sb6n"),W(m,"id","tzOffset"),W(m,"type","range"),W(m,"min","-23"),W(m,"max","23"),W(m,"class","svelte-62sb6n"),W(b,"for","tzOffset"),W(b,"class","svelte-62sb6n"),W(n,"class","settingsComp")},m(e,l){y(e,n,l),v(n,s),v(n,a),v(n,r),j(r,t[0].madCutoff),v(n,i),v(n,o),v(o,c),v(n,u),v(n,d),v(n,p),v(n,f),v(n,g),v(n,m),j(m,t[0].tzOffset),v(n,h),v(n,b),v(b,$),v(b,w),C||(M=[T(r,"change",t[1]),T(r,"input",t[1]),T(m,"change",t[2]),T(m,"input",t[2])],C=!0)},p(e,[t]){1&t&&j(r,e[0].madCutoff),1&t&&S!==(S=e[0].madCutoff+"")&&F(c,S),1&t&&j(m,e[0].tzOffset),1&t&&q!==(q=e[0].tzOffset+"")&&F($,q)},i:e,o:e,d(e){e&&x(n),C=!1,l(M)}}}function $n(e,t,n){let{values:s}=t;return e.$$set=e=>{"values"in e&&n(0,s=e.values)},[s,function(){s.madCutoff=q(this.value),n(0,s)},function(){s.tzOffset=q(this.value),n(0,s)}]}class yn extends ye{constructor(e){super(),$e(this,e,$n,bn,r,{values:0})}}function xn(e){let t,n;return t=new yn({props:{values:e[0]}}),{c(){me(t.$$.fragment)},m(e,s){he(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.values=e[0]),t.$set(s)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function wn(e){let t,n;return t=new vn({props:{values:e[0]}}),{c(){me(t.$$.fragment)},m(e,s){he(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.values=e[0]),t.$set(s)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function zn(e){let t,n;return t=new gn({props:{values:e[0]}}),{c(){me(t.$$.fragment)},m(e,s){he(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.values=e[0]),t.$set(s)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function Cn(e){let t,n;return t=new dn({props:{values:e[0]}}),{c(){me(t.$$.fragment)},m(e,s){he(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.values=e[0]),t.$set(s)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function _n(e){let t,n;return t=new on({props:{values:e[0]}}),{c(){me(t.$$.fragment)},m(e,s){he(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.values=e[0]),t.$set(s)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function kn(e){let t,n,s,a,r,i,o,c,u,d,p,f,g,m,h,b,$,w,C,_,M,q,F,j,A,O;const D=[_n,Cn,zn,wn,xn],E=[];function I(e,t){return"Ganbarometer"==e[1]?0:"Speed"==e[1]?1:"Reviews"==e[1]?2:"Appearance"==e[1]?3:"Advanced"==e[1]?4:-1}return~(q=I(e))&&(F=E[q]=D[q](e)),{c(){t=z("form"),n=z("h1"),n.textContent="Ganbarometer Settings",s=k(),a=z("div"),r=z("nav"),i=z("li"),i.textContent="Ganbarometer",o=k(),c=z("li"),c.textContent="Speed",u=k(),d=z("li"),d.textContent="Reviews",p=k(),f=z("li"),f.textContent="Appearance",g=k(),m=z("li"),m.textContent="Advanced",h=k(),b=z("div"),$=z("button"),$.textContent="Defaults",w=k(),C=z("button"),C.textContent="Save",_=k(),M=z("div"),F&&F.c(),W(n,"class","title svelte-zs7nf6"),W(i,"class","svelte-zs7nf6"),R(i,"active","Ganbarometer"===e[1]),W(c,"class","svelte-zs7nf6"),R(c,"active","Speed"===e[1]),W(d,"class","svelte-zs7nf6"),R(d,"active","Reviews"===e[1]),W(f,"class","svelte-zs7nf6"),R(f,"active","Appearance"===e[1]),W(m,"class","svelte-zs7nf6"),R(m,"active","Advanced"===e[1]),W(r,"class","nav svelte-zs7nf6"),W($,"class","defaultButton svelte-zs7nf6"),W(C,"type","submit"),W(C,"class","svelte-zs7nf6"),W(b,"class","actions"),W(a,"class","menu svelte-zs7nf6"),W(M,"class","formInputs svelte-zs7nf6"),W(t,"aria-label","Settings Form"),W(t,"class","settingsForm svelte-zs7nf6")},m(l,x){y(l,t,x),v(t,n),v(t,s),v(t,a),v(a,r),v(r,i),v(r,o),v(r,c),v(r,u),v(r,d),v(r,p),v(r,f),v(r,g),v(r,m),v(a,h),v(a,b),v(b,$),v(b,w),v(b,C),v(t,_),v(t,M),~q&&E[q].m(M,null),j=!0,A||(O=[T(i,"click",e[4]("Ganbarometer")),T(c,"click",e[4]("Speed")),T(d,"click",e[4]("Reviews")),T(f,"click",e[4]("Appearance")),T(m,"click",e[4]("Advanced")),T($,"click",e[3]),T(t,"submit",S(e[2]))],A=!0)},p(e,[t]){2&t&&R(i,"active","Ganbarometer"===e[1]),2&t&&R(c,"active","Speed"===e[1]),2&t&&R(d,"active","Reviews"===e[1]),2&t&&R(f,"active","Appearance"===e[1]),2&t&&R(m,"active","Advanced"===e[1]);let n=q;q=I(e),q===n?~q&&E[q].p(e,t):(F&&(oe(),de(E[n],1,1,(()=>{E[n]=null})),ce()),~q?(F=E[q],F?F.p(e,t):(F=E[q]=D[q](e),F.c()),ue(F,1),F.m(M,null)):F=null)},i(e){j||(ue(F),j=!0)},o(e){de(F),j=!1},d(e){e&&x(t),~q&&E[q].d(),A=!1,l(O)}}}function Mn(e,t,n){let s;o(e,Ct,(e=>n(5,s=e)));let l=Object.assign({},s);let a="Ganbarometer";return[l,a,()=>{u(Ct,s=Object.assign(Object.assign({},s),l),s)},()=>{n(0,l=Object.assign({},zt))},e=>()=>n(1,a=e)]}class Tn extends ye{constructor(e){super(),$e(this,e,Mn,kn,r,{})}}function Sn(t){let n,s,l;return{c(){n=z("button"),n.innerHTML='<svg id="b76ee484-33fd-42f4-92f5-780eb817404e" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 344.6 297.7"><path d="M200.9,314.2l-43.7,27.5a15.4,15.4,0,0,1-21.2-4.8L31,169.9a15.4,15.4,0,0,1,4.8-21.2l57.1-35.9L144,80.7" transform="translate(-23.6 -51.3)" style="fill: none;stroke: #000;stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path d="M197.2,286.8,147.9,284a15.4,15.4,0,0,1-14.5-16.2l9.9-170.3.9-16.3.6-10.4a15.4,15.4,0,0,1,16.3-14.4l132,7.6a15.4,15.4,0,0,1,14.5,16.2l-.6,10" transform="translate(-23.6 -51.3)" style="fill: none;stroke: #000;stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path d="M200.9,314.2l.7,5.1a15.3,15.3,0,0,0,17.3,13.1L350,314.5a15.3,15.3,0,0,0,13.1-17.3L336.4,101.7a15.3,15.3,0,0,0-17.3-13.1L307,90.2,188,106.5a15.3,15.3,0,0,0-13.1,17.3l22.3,163Z" transform="translate(-23.6 -51.3)" style="fill: none;stroke: #000;stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path d="M306.6,155.8c7.9-1.8,12.3.4,14.1,7.8l3.8,16.2c.6,2.5-.8,4.5-4.2,5.2s-5.3-.3-5.9-2.8L311,167.9c-.7-3.1-2.1-3.5-5.1-2.7l-90.6,21.4c-2.8.6-4,1.6-3.3,4.7l3.4,14.3c.6,2.5-1.1,4.5-4.1,5.2s-5.4-.3-5.9-2.8l-3.9-16.3c-1.7-7.3,1.1-11.3,9.1-13.2l14.6-3.5a151.7,151.7,0,0,0-11.7-10.7,3.8,3.8,0,0,1-1.3-1.9c-.4-1.5.4-3.2,2.2-4.3a10,10,0,0,1,2.5-1,5.2,5.2,0,0,1,4.6.8,144.6,144.6,0,0,1,14.9,14.5l19.7-4.7a110.2,110.2,0,0,0-10.9-12.4,3.6,3.6,0,0,1-1.2-1.7c-.4-1.7.6-3.4,2.6-4.6l2.1-.9a5,5,0,0,1,5,1.6,87.1,87.1,0,0,1,12.9,15.6l14.6-3.5a80.5,80.5,0,0,0,6.4-19.3,4.7,4.7,0,0,1,3.6-3.6,8.6,8.6,0,0,1,2.8-.1c2.5.2,3.9,1.3,4.3,3a2.8,2.8,0,0,1-.1,2,71.7,71.7,0,0,1-5.8,15.4Zm-60.2,94.6c-7.4,1.8-11.6-.4-13.2-7.3l-9.1-38.5c-1.7-7.2,1.2-10.8,9.2-12.7L292,178c8-1.9,12.3.1,14,7.2l9.1,38.5c1.6,6.9-1.1,10.7-8.6,12.5l-12.7,3,4,16.7c.7,3,2.1,3.9,4.2,3.7s6.5-1,13.1-2.6,9.9-2.3,12.1-3.5a6,6,0,0,0,3.7-4.1c.5-2.2.2-6-.6-11.4-.5-2.3.7-4.2,3.6-4.9l1.1-.3c3.4-.5,5.3,1.1,6,3.7v.3c1,6.2,1.2,13.7,0,17s-4,5.9-8,7.7-7.9,2.9-16.1,4.9-15.1,3.4-18.6,3.5c-5.1,0-8.9-2.1-10.4-8.3l-4.7-19.9-17.5,4.2c.3,19.7-14,33.8-37.1,43.2a3.1,3.1,0,0,1-1.2.5,5.2,5.2,0,0,1-6.4-3.2,3.5,3.5,0,0,1-.5-1.3c-.6-2.6.7-4.7,3.2-5.7,20-7.7,30.7-17.5,31.1-31Zm51.5-56.1-1.3-5.8c-.6-2.5-2-2.9-4.5-2.3l-55.2,13c-2.5.6-3.5,1.6-3,4.1l1.4,5.8Zm3.9,16.5-2.1-8.9-62.6,14.8,2.1,8.9ZM241,233.2l1.6,6.6c.6,2.5,2,2.9,4.5,2.3l55.1-13c2.5-.6,3.6-1.6,3-4.1l-1.6-6.6Z" transform="translate(-23.6 -51.3)"></path></svg>',W(n,"class","quiz-button svelte-o42zy6")},m(e,a){y(e,n,a),s||(l=T(n,"click",t[0]),s=!0)},p:e,i:e,o:e,d(e){e&&x(n),s=!1,l()}}}function Wn(e){return[function(t){Z.call(this,e,t)}]}class qn extends ye{constructor(e){super(),$e(this,e,Wn,Sn,r,{})}}function Fn(t){let n,s,l;return{c(){n=z("button"),n.innerHTML='<svg id="edd52277-873a-4c78-9f5a-11032a27aff1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 297 292"><path d="M163.5,98h180m-287,0h30m226,102h31m-287,0h179m-72,102h180m-287,0h30m77-204.5A38.5,38.5,0,1,0,125,136,38.5,38.5,0,0,0,163.5,97.5ZM125,264a38.5,38.5,0,1,0,38.5,38.5A38.5,38.5,0,0,0,125,264ZM274,161a38.5,38.5,0,1,0,38.5,38.5A38.5,38.5,0,0,0,274,161Z" transform="translate(-51.5 -54)" style="fill: none;stroke: #000;stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path></svg>',W(n,"aria-label","settings"),W(n,"class","settings svelte-1gfktvr")},m(e,a){y(e,n,a),s||(l=T(n,"click",t[0]),s=!0)},p:e,i:e,o:e,d(e){e&&x(n),s=!1,l()}}}function jn(e){return[function(t){Z.call(this,e,t)}]}class An extends ye{constructor(e){super(),$e(this,e,jn,Fn,r,{})}}const On=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),Rn=e=>{if(0===e.length)return 0;const t=e.slice().sort(((e,t)=>e-t)),n=Math.floor(t.length/2);return t.length%2?t[n]:(t[n-1]+t[n])/2},Dn=e=>{if(0===e.length)return[];const t=(e=>{const t=e.map((e=>e.duration)),n=Math.min(...t);if(Math.max(...t),n>6e5)return t.map(((e,t)=>t));{const n=Rn(t),s=e.map((e=>Math.abs(e.duration-n))),l=1.4826,a=Rn(s)*l,r=s.map((e=>a>0?Math.abs(e-n)/a:Math.abs(e-n)/n)),i=10,o=r[r.length-1]>i?r:[...r.slice(0,-1),999999];return e.map(((e,t)=>t)).filter(((e,t)=>o[t]>i))}})(e),n=[0,...t.map((e=>e+1))].slice(0,-1);return t.map(((t,s)=>({reviews:e.slice(n[s],t+1)}))).map((e=>({questions:e.reviews.reduce(((e,t)=>e+t.questions),0),reading_incorrect:e.reviews.reduce(((e,t)=>e+t.reading_incorrect),0),meaning_incorrect:e.reviews.reduce(((e,t)=>e+t.meaning_incorrect),0),startTime:e.reviews[0].started,endTime:e.reviews[e.reviews.length-1].started,reviews:e.reviews})))};let En;const In=async e=>{if(!En||!En[e]){wkof.include("ItemData"),await wkof.ready("ItemData");let e=await wkof.ItemData.get_items();En=await wkof.ItemData.get_index(e,"subject_id")}return En[e]},Ln=e=>({subject_id:e.data.subject_id,started:new Date(e.data.created_at),duration:0,reading_incorrect:+e.data.incorrect_reading_answers,meaning_incorrect:+e.data.incorrect_meaning_answers,questions:0}),Bn=(e,t,n)=>{if(n[t+1]){const s=n[t+1].started.getTime(),l=e.started.getTime();if(s<l)throw"Reviews not in sequential creation order!";return Object.assign(Object.assign({},e),{duration:s-l})}return e},Vn=async e=>{if(!(null==e?void 0:e.length))return[];const t=e.map(Ln).map(Bn),n=await(async e=>{let t=e.slice();for(let e of t){const t=await In(+e.subject_id);e.questions="radical"===t.object?1:2,e.questions+=e.meaning_incorrect+e.reading_incorrect}return t})(t);let s=n.slice(0,-1).map((e=>e.duration)),l=Rn(s);return n.length&&(n[n.length-1].duration=l),n},Hn=async e=>{const t=((e=0)=>{const t=new Date;let n,s=t.getTime()-3600*t.getHours()*1e3-60*t.getMinutes()*1e3-1e3*t.getSeconds()-t.getMilliseconds();return n=e>1?new Date(s-24*(e-1)*3600*1e3):new Date(s),n})(e);wkof.include("Apiv2"),await wkof.ready("Apiv2");const n=await wkof.Apiv2.fetch_endpoint("reviews",{last_update:t.toISOString()});return Vn(null==n?void 0:n.data)},Nn=/[a-zA-Z]/,Zn=(e,t=0)=>[...Array(e).keys()].map((e=>e+t));function Gn(e,t,n){const s=e.slice();return s[6]=t[n],s}function Pn(e){let t;return{c(){t=z("div"),W(t,"class","dot svelte-14w6xk7"),A(t,"--dotSize",.25*+e[3]+e[1]),A(t,"--color",e[0]),A(t,"animation-delay",e[6]*(+e[5]/10)+e[4])},m(e,n){y(e,t,n)},p(e,n){10&n&&A(t,"--dotSize",.25*+e[3]+e[1]),1&n&&A(t,"--color",e[0])},d(e){e&&x(t)}}}function Kn(t){let n,s=Zn(3,1),l=[];for(let e=0;e<s.length;e+=1)l[e]=Pn(Gn(t,s,e));return{c(){n=z("div");for(let e=0;e<l.length;e+=1)l[e].c();W(n,"class","wrapper svelte-14w6xk7"),A(n,"--size",t[3]+t[1]),A(n,"--duration",t[2])},m(e,t){y(e,n,t);for(let e=0;e<l.length;e+=1)l[e].m(n,null)},p(e,[t]){if(59&t){let a;for(s=Zn(3,1),a=0;a<s.length;a+=1){const r=Gn(e,s,a);l[a]?l[a].p(r,t):(l[a]=Pn(r),l[a].c(),l[a].m(n,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=s.length}10&t&&A(n,"--size",e[3]+e[1]),4&t&&A(n,"--duration",e[2])},i:e,o:e,d(e){e&&x(n),w(l,e)}}}function Qn(e,t,n){let{color:s="#FF3E00"}=t,{unit:l="px"}=t,{duration:a="0.6s"}=t,{size:r="60"}=t,i=a.match(Nn)[0],o=a.replace(Nn,"");return e.$$set=e=>{"color"in e&&n(0,s=e.color),"unit"in e&&n(1,l=e.unit),"duration"in e&&n(2,a=e.duration),"size"in e&&n(3,r=e.size)},[s,l,a,r,i,o]}class Jn extends ye{constructor(e){super(),$e(this,e,Qn,Kn,r,{color:0,unit:1,duration:2,size:3})}}function Un(e){let t,n,s,l;return n=new Jn({props:{size:"25",unit:"px"}}),{c(){t=z("div"),me(n.$$.fragment),W(t,"class","spinner svelte-yh41hm")},m(e,s){y(e,t,s),he(n,t,null),l=!0},i(e){l||(ue(n.$$.fragment,e),Y((()=>{s||(s=ge(t,ut,{},!0)),s.run(1)})),l=!0)},o(e){de(n.$$.fragment,e),s||(s=ge(t,ut,{},!1)),s.run(0),l=!1},d(e){e&&x(t),ve(n),e&&s&&s.end()}}}function Yn(t){let n,s;return n=new qn({}),n.$on("click",t[5]),{c(){me(n.$$.fragment)},m(e,t){he(n,e,t),s=!0},p:e,i(e){s||(ue(n.$$.fragment,e),s=!0)},o(e){de(n.$$.fragment,e),s=!1},d(e){ve(n,e)}}}function Xn(e){let t,n;return t=new Tn({}),{c(){me(t.$$.fragment)},m(e,s){he(t,e,s),n=!0},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function es(e){let t,n,s,a,r,i,o,c,u,d,p,f,g,m,h,b,$,w,C,_,M,q,F,j,A,O,D=e[1]&&Un();function E(t){e[8](t)}let I={float:!0,pips:!0,suffix:e[3],min:1,max:7};void 0!==e[0]&&(I.values=e[0]),u=new tt({props:I}),P.push((()=>function(e,t,n){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}(u,"values",E)));let L=e[2]&&Yn(e);return m=new An({}),m.$on("click",e[9]),$=new St({}),C=new Rt({}),M=new Yt({}),F=new ln({props:{$$slots:{default:[Xn]},$$scope:{ctx:e}}}),{c(){t=z("div"),n=z("nav"),s=z("li"),s.textContent="Graphs",a=k(),r=z("li"),r.textContent="Data",i=k(),D&&D.c(),o=k(),c=z("div"),me(u.$$.fragment),p=k(),f=z("div"),L&&L.c(),g=k(),me(m.$$.fragment),h=k(),b=z("div"),me($.$$.fragment),w=k(),me(C.$$.fragment),_=k(),me(M.$$.fragment),q=k(),me(F.$$.fragment),W(s,"class","svelte-yh41hm"),R(s,"active","chart"===e[4]),W(r,"class","svelte-yh41hm"),R(r,"active","data"===e[4]),W(n,"class","chart-data-nav svelte-yh41hm"),W(c,"class","dayRange svelte-yh41hm"),W(c,"data-testid","daySlider"),W(f,"class","action-buttons svelte-yh41hm"),W(t,"class","controls svelte-yh41hm"),W(b,"data-testid","gbwidgets"),W(b,"class","gbwidgets svelte-yh41hm")},m(l,d){y(l,t,d),v(t,n),v(n,s),v(n,a),v(n,r),v(t,i),D&&D.m(t,null),v(t,o),v(t,c),he(u,c,null),v(t,p),v(t,f),L&&L.m(f,null),v(f,g),he(m,f,null),y(l,h,d),y(l,b,d),he($,b,null),v(b,w),he(C,b,null),v(b,_),he(M,b,null),y(l,q,d),he(F,l,d),j=!0,A||(O=[T(s,"click",S(e[6])),T(r,"click",S(e[7]))],A=!0)},p(e,[n]){16&n&&R(s,"active","chart"===e[4]),16&n&&R(r,"active","data"===e[4]),e[1]?D?2&n&&ue(D,1):(D=Un(),D.c(),ue(D,1),D.m(t,o)):D&&(oe(),de(D,1,1,(()=>{D=null})),ce());const l={};var a;8&n&&(l.suffix=e[3]),!d&&1&n&&(d=!0,l.values=e[0],a=()=>d=!1,Q.push(a)),u.$set(l),e[2]?L?(L.p(e,n),4&n&&ue(L,1)):(L=Yn(e),L.c(),ue(L,1),L.m(f,g)):L&&(oe(),de(L,1,1,(()=>{L=null})),ce());const i={};8192&n&&(i.$$scope={dirty:n,ctx:e}),F.$set(i)},i(e){j||(ue(D),ue(u.$$.fragment,e),ue(L),ue(m.$$.fragment,e),ue($.$$.fragment,e),ue(C.$$.fragment,e),ue(M.$$.fragment,e),ue(F.$$.fragment,e),j=!0)},o(e){de(D),de(u.$$.fragment,e),de(L),de(m.$$.fragment,e),de($.$$.fragment,e),de(C.$$.fragment,e),de(M.$$.fragment,e),de(F.$$.fragment,e),j=!1},d(e){e&&x(t),D&&D.d(),ve(u),L&&L.d(),ve(m),e&&x(h),e&&x(b),ve($),ve(C),ve(M),e&&x(q),ve(F,e),A=!1,l(O)}}}function ts(e,t,n){let s,l,a,r,i;o(e,mt,(e=>n(0,l=e))),o(e,yt,(e=>n(10,a=e))),o(e,wt,(e=>n(11,r=e))),o(e,ft,(e=>n(4,i=e)));let c=!1;const d=async e=>{let t;n(1,c=!0);try{t=await Hn(e)}catch(e){console.warn(e)}u(wt,r=(e=>{const t=e.filter(((t,n)=>!(n>0&&On(t.started,e[n-1].started)))).map((e=>e.started)).map((t=>e.filter((e=>On(e.started,t)))));let n=[];return t.forEach(((e,t)=>{const s=e.filter((e=>0===e.reading_incorrect)).reduce(((e,t)=>e+1),0),l=e.filter((e=>0===e.meaning_incorrect)).reduce(((e,t)=>e+1),0),a=e.filter((e=>e.meaning_incorrect+e.reading_incorrect===0)).reduce(((e,t)=>e+1),0),r=e.reduce(((e,t)=>e+t.questions),0),i=e.length,o={start:e[0].started,end:e[e.length-1].started,review_count:e.length,question_count:r,accuracy:a/i,reading_accuracy:s/i,meaning_accuracy:l/i};n.push(o)})),n})(t),r),u(yt,a=(e=>{const t=Dn(e);let n=[];return t.forEach((e=>{const t=e.reviews.reduce(((e,t)=>e+t.questions),0),s=t-e.reviews.reduce(((e,t)=>e+(t.meaning_incorrect+t.reading_incorrect)),0),l={start:e.startTime,end:e.endTime,reviewCount:e.reviews.length,questionCount:t,correctAnswerCount:s};n.push(l)})),n})(t),a),n(1,c=!1)};let p=!1;wkof.wait_state("ss_quiz","ready").then((()=>{"function"==typeof(null===ss_quiz||void 0===ss_quiz?void 0:ss_quiz.open)&&n(2,p=!0)}));return e.$$.update=()=>{1&e.$$.dirty&&d(l[0]),1&e.$$.dirty&&n(3,s=l[0]>1?" days":" day")},[l,c,p,s,i,async()=>{await wkof.wait_state("ss_quiz","ready"),ss_quiz.open({ipreset:{name:"New Kanji",content:{wk_items:{enabled:!0,filters:{srs:{enabled:!0,value:{appr1:!0,appr2:!0}},item_type:{enabled:!0,value:"kan"}}}}}})},()=>u(ft,i="chart",i),()=>u(ft,i="data",i),function(e){l=e,mt.set(l)},()=>function(e=""){return tn[e]}().open()]}class ns extends ye{constructor(e){super(),$e(this,e,ts,es,r,{})}}function ss(t){let n;return{c(){n=z("div"),n.innerHTML='<h2>GanbarOmeter</h2>   \n    <p>The GanbarOmeter needs the Wankani Open Framework to be installed prior to use.</p>  \n    \n    <p>Please refer to the <a href="http://community.wanikani.com/t/instructions-installing-wanikani-open-framework/28549">WKOF\n    installation instructions.</a></p>',W(n,"class","placeholder svelte-1xrt8d7")},m(e,t){y(e,n,t)},i:e,o:e,d(e){e&&x(n)}}}function ls(e){let t,n;return t=new ns({}),{c(){me(t.$$.fragment)},m(e,s){he(t,e,s),n=!0},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){ve(t,e)}}}function as(t){let n,s,l,a;const r=[ls,ss],i=[];return s=function(e,t){return e[0]?0:1}(t),l=i[s]=r[s](t),{c(){n=z("section"),l.c(),W(n,"data-testid","ganbarometer"),W(n,"class","svelte-1xrt8d7")},m(e,t){y(e,n,t),i[s].m(n,null),a=!0},p:e,i(e){a||(ue(l),a=!0)},o(e){de(l),a=!1},d(e){e&&x(n),i[s].d()}}}function rs(e){return[!!wkof]}let is;Ct.subscribe((e=>is=e.position));const os=document.querySelector(".dashboard .span12");let cs={target:os,anchor:null};switch(is){case"Top":cs.anchor=os.querySelector(".progress-and-forecast");break;case"Below Forecast":cs.anchor=os.querySelector(".srs-progress");break;case"Below SRS":cs.anchor=os.querySelector(".row");break;case"Below Panels":cs.anchor=os.querySelector(".row:last-of-type");break;default:cs.anchor=null}const us=new class extends ye{constructor(e){super(),$e(this,e,rs,as,r,{})}}(cs);return us}();
//# sourceMappingURL=bundle.js.map
