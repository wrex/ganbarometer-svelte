// ==UserScript==
// @name        ganbarometer-svelte
// @description Svelte version of the GanbarOmeter for Wanikani
// @namespace   https://github.com/wrex/
// @version     0.1.4
// @homepage    https://github.com/wrex/ganbarometer-svelte#readme
// @author      Rex Walters -- rw [at] pobox.com
// @license     MIT-0
// @resource    css https://raw.githubusercontent.com/wrex/ganbarometer-svelte/main/published/beta0/bundle.css
// @include     /^https://(www|preview).wanikani.com/(dashboard)?$/
// @connect     github.com
// @run-at      document-idle
// @downloadURL https://raw.githubusercontent.com/wrex/ganbarometer-svelte/main/published/beta0/bundle.js
// @updateURL   https://raw.githubusercontent.com/wrex/ganbarometer-svelte/main/published/beta0/bundle.js
// @grant       GM_addStyle
// @grant       GM_getResourceText
// @grant       GM_xmlhttpRequest
// ==/UserScript==
GM_addStyle(GM_getResourceText("css"));var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function l(){return Object.create(null)}function s(e){e.forEach(n)}function r(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function i(e,t,n){e.$$.on_destroy.push(o(t,n))}function c(e,t,n,l){return e[1]&&l?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](l(t))):n.ctx}function u(e,t,n){return e.set(n),t}const d="undefined"!=typeof window;let p=d?()=>window.performance.now():()=>Date.now(),m=d?e=>requestAnimationFrame(e):e;const f=new Set;function g(e){f.forEach((t=>{t.c(e)||(f.delete(t),t.f())})),0!==f.size&&m(g)}function v(e){let t;return 0===f.size&&m(g),{promise:new Promise((n=>{f.add(t={c:e,f:n})})),abort(){f.delete(t)}}}function h(e,t){e.appendChild(t)}function b(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function $(e){const t=C("style");return function(e,t){h(e.head||e,t)}(b(e),t),t}function x(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function k(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function z(e){return document.createTextNode(e)}function _(){return z(" ")}function T(){return z("")}function M(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function S(e){return function(t){return t.preventDefault(),e.call(this,t)}}function q(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function j(e){return""===e?null:+e}function W(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function F(e,t){e.value=null==t?"":t}function A(e,t,n,l){e.style.setProperty(t,n,l?"important":"")}function O(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}e.selectedIndex=-1}function D(e,t,n){e.classList[n?"add":"remove"](t)}function R(e,t,n=!1){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,n,!1,t),l}const E=new Set;let I,L=0;function V(e,t,n,l,s,r,a,o=0){const i=16.666/l;let c="{\n";for(let e=0;e<=1;e+=i){const l=t+(n-t)*r(e);c+=100*e+`%{${a(l,1-l)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${o}`,p=b(e);E.add(p);const m=p.__svelte_stylesheet||(p.__svelte_stylesheet=$(e).sheet),f=p.__svelte_rules||(p.__svelte_rules={});f[d]||(f[d]=!0,m.insertRule(`@keyframes ${d} ${u}`,m.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${l}ms linear ${s}ms 1 both`,L+=1,d}function H(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),s=n.length-l.length;s&&(e.style.animation=l.join(", "),L-=s,L||m((()=>{L||(E.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),E.clear())})))}function Z(e){I=e}function B(){if(!I)throw new Error("Function called outside component initialization");return I}function N(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const G=[],P=[],K=[],Q=[],J=Promise.resolve();let U=!1;function Y(e){K.push(e)}let X=!1;const ee=new Set;function te(){if(!X){X=!0;do{for(let e=0;e<G.length;e+=1){const t=G[e];Z(t),ne(t.$$)}for(Z(null),G.length=0;P.length;)P.pop()();for(let e=0;e<K.length;e+=1){const t=K[e];ee.has(t)||(ee.add(t),t())}K.length=0}while(G.length);for(;Q.length;)Q.pop()();U=!1,X=!1,ee.clear()}}function ne(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y)}}let le;function se(){return le||(le=Promise.resolve(),le.then((()=>{le=null}))),le}function re(e,t,n){e.dispatchEvent(R(`${t?"intro":"outro"}${n}`))}const ae=new Set;let oe;function ie(){oe={r:0,c:[],p:oe}}function ce(){oe.r||s(oe.c),oe=oe.p}function ue(e,t){e&&e.i&&(ae.delete(e),e.i(t))}function de(e,t,n,l){if(e&&e.o){if(ae.has(e))return;ae.add(e),oe.c.push((()=>{ae.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}}const pe={duration:0};function me(n,l,s){let a,o,i=l(n,s),c=!1,u=0;function d(){a&&H(n,a)}function m(){const{delay:l=0,duration:s=300,easing:r=t,tick:m=e,css:f}=i||pe;f&&(a=V(n,0,1,s,l,r,f,u++)),m(0,1);const g=p()+l,h=g+s;o&&o.abort(),c=!0,Y((()=>re(n,!0,"start"))),o=v((e=>{if(c){if(e>=h)return m(1,0),re(n,!0,"end"),d(),c=!1;if(e>=g){const t=r((e-g)/s);m(t,1-t)}}return c}))}let f=!1;return{start(){f||(f=!0,H(n),r(i)?(i=i(),se().then(m)):m())},invalidate(){f=!1},end(){c&&(d(),c=!1)}}}function fe(n,l,a,o){let i=l(n,a),c=o?0:1,u=null,d=null,m=null;function f(){m&&H(n,m)}function g(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function h(l){const{delay:r=0,duration:a=300,easing:o=t,tick:h=e,css:b}=i||pe,$={start:p()+r,b:l};l||($.group=oe,oe.r+=1),u||d?d=$:(b&&(f(),m=V(n,c,l,a,r,o,b)),l&&h(0,1),u=g($,a),Y((()=>re(n,l,"start"))),v((e=>{if(d&&e>d.start&&(u=g(d,a),d=null,re(n,u.b,"start"),b&&(f(),m=V(n,c,u.b,u.duration,0,o,i.css))),u)if(e>=u.end)h(c=u.b,1-c),re(n,u.b,"end"),d||(u.b?f():--u.group.r||s(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;c=u.a+u.d*o(t/u.duration),h(c,1-c)}return!(!u&&!d)})))}return{run(e){r(i)?se().then((()=>{i=i(),h(e)})):h(e)},end(){f(),u=d=null}}}function ge(e){e&&e.c()}function ve(e,t,l,a){const{fragment:o,on_mount:i,on_destroy:c,after_update:u}=e.$$;o&&o.m(t,l),a||Y((()=>{const t=i.map(n).filter(r);c?c.push(...t):s(t),e.$$.on_mount=[]})),u.forEach(Y)}function he(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function be(e,t){-1===e.$$.dirty[0]&&(G.push(e),U||(U=!0,J.then(te)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function $e(t,n,r,a,o,i,c,u=[-1]){const d=I;Z(t);const p=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:o,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:l(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(p.root);let m=!1;if(p.ctx=r?r(t,n.props||{},((e,n,...l)=>{const s=l.length?l[0]:n;return p.ctx&&o(p.ctx[e],p.ctx[e]=s)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](s),m&&be(t,e)),n})):[],p.update(),m=!0,s(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(y)}else p.fragment&&p.fragment.c();n.intro&&ue(t.$$.fragment),ve(t,n.target,n.anchor,n.customElement),te()}Z(d)}class xe{$destroy(){he(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ye=[];function we(t,n=e){let l;const s=new Set;function r(e){if(a(t,e)&&(t=e,l)){const e=!ye.length;for(const e of s)e[1](),ye.push(e,t);if(e){for(let e=0;e<ye.length;e+=2)ye[e][0](ye[e+1]);ye.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(a,o=e){const i=[a,o];return s.add(i),1===s.size&&(l=n(r)||e),a(t),()=>{s.delete(i),0===s.size&&(l(),l=null)}}}}function Ce(e){return"[object Date]"===Object.prototype.toString.call(e)}function ke(e,t,n,l){if("number"==typeof n||Ce(n)){const s=l-n,r=(n-t)/(e.dt||1/60),a=(r+(e.opts.stiffness*s-e.opts.damping*r)*e.inv_mass)*e.dt;return Math.abs(a)<e.opts.precision&&Math.abs(s)<e.opts.precision?l:(e.settled=!1,Ce(n)?new Date(n.getTime()+a):n+a)}if(Array.isArray(n))return n.map(((s,r)=>ke(e,t[r],n[r],l[r])));if("object"==typeof n){const s={};for(const r in n)s[r]=ke(e,t[r],n[r],l[r]);return s}throw new Error(`Cannot spring ${typeof n} values`)}function ze(e,t={}){const n=we(e),{stiffness:l=.15,damping:s=.8,precision:r=.01}=t;let a,o,i,c=e,u=e,d=1,m=0,f=!1;function g(t,l={}){u=t;const s=i={};if(null==e||l.hard||h.stiffness>=1&&h.damping>=1)return f=!0,a=p(),c=t,n.set(e=u),Promise.resolve();if(l.soft){const e=!0===l.soft?.5:+l.soft;m=1/(60*e),d=0}return o||(a=p(),f=!1,o=v((t=>{if(f)return f=!1,o=null,!1;d=Math.min(d+m,1);const l={inv_mass:d,opts:h,settled:!0,dt:60*(t-a)/1e3},s=ke(l,c,e,u);return a=t,c=e,n.set(e=s),l.settled&&(o=null),!l.settled}))),new Promise((e=>{o.promise.then((()=>{s===i&&e()}))}))}const h={set:g,update:(t,n)=>g(t(u,e),n),subscribe:n.subscribe,stiffness:l,damping:s,precision:r};return h}function _e(e,t,n){const l=e.slice();return l[27]=t[n],l[29]=n,l}function Te(e){let t,n,l,a,o=("label"===e[6]||"label"===e[7])&&Me(e);return{c(){t=C("span"),o&&o.c(),q(t,"class","pip first"),q(t,"style",n=e[14]+": 0%;"),D(t,"selected",e[17](e[0])),D(t,"in-range",e[16](e[0]))},m(n,s){x(n,t,s),o&&o.m(t,null),l||(a=[M(t,"click",(function(){r(e[20](e[0]))&&e[20](e[0]).apply(this,arguments)})),M(t,"touchend",S((function(){r(e[20](e[0]))&&e[20](e[0]).apply(this,arguments)})))],l=!0)},p(l,s){"label"===(e=l)[6]||"label"===e[7]?o?o.p(e,s):(o=Me(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null),16384&s&&n!==(n=e[14]+": 0%;")&&q(t,"style",n),131073&s&&D(t,"selected",e[17](e[0])),65537&s&&D(t,"in-range",e[16](e[0]))},d(e){e&&y(t),o&&o.d(),l=!1,s(a)}}}function Me(e){let t,n,l=e[12](e[0],0,0)+"",s=e[10]&&Se(e),r=e[11]&&qe(e);return{c(){t=C("span"),s&&s.c(),n=z(l),r&&r.c(),q(t,"class","pipVal")},m(e,l){x(e,t,l),s&&s.m(t,null),h(t,n),r&&r.m(t,null)},p(e,a){e[10]?s?s.p(e,a):(s=Se(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),4097&a&&l!==(l=e[12](e[0],0,0)+"")&&W(n,l),e[11]?r?r.p(e,a):(r=qe(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(e){e&&y(t),s&&s.d(),r&&r.d()}}}function Se(e){let t,n;return{c(){t=C("span"),n=z(e[10]),q(t,"class","pipVal-prefix")},m(e,l){x(e,t,l),h(t,n)},p(e,t){1024&t&&W(n,e[10])},d(e){e&&y(t)}}}function qe(e){let t,n;return{c(){t=C("span"),n=z(e[11]),q(t,"class","pipVal-suffix")},m(e,l){x(e,t,l),h(t,n)},p(e,t){2048&t&&W(n,e[11])},d(e){e&&y(t)}}}function je(e){let t,n=Array(e[19]+1),l=[];for(let t=0;t<n.length;t+=1)l[t]=De(_e(e,n,t));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=T()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);x(e,t,n)},p(e,s){if(2088515&s){let r;for(n=Array(e[19]+1),r=0;r<n.length;r+=1){const a=_e(e,n,r);l[r]?l[r].p(a,s):(l[r]=De(a),l[r].c(),l[r].m(t.parentNode,t))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(e){w(l,e),e&&y(t)}}}function We(e){let t,n,l,a,o,i=("label"===e[6]||"label"===e[9])&&Fe(e);return{c(){t=C("span"),i&&i.c(),n=_(),q(t,"class","pip"),q(t,"style",l=e[14]+": "+e[15](e[18](e[29]))+"%;"),D(t,"selected",e[17](e[18](e[29]))),D(t,"in-range",e[16](e[18](e[29])))},m(l,s){x(l,t,s),i&&i.m(t,null),h(t,n),a||(o=[M(t,"click",(function(){r(e[20](e[18](e[29])))&&e[20](e[18](e[29])).apply(this,arguments)})),M(t,"touchend",S((function(){r(e[20](e[18](e[29])))&&e[20](e[18](e[29])).apply(this,arguments)})))],a=!0)},p(s,r){"label"===(e=s)[6]||"label"===e[9]?i?i.p(e,r):(i=Fe(e),i.c(),i.m(t,n)):i&&(i.d(1),i=null),311296&r&&l!==(l=e[14]+": "+e[15](e[18](e[29]))+"%;")&&q(t,"style",l),393216&r&&D(t,"selected",e[17](e[18](e[29]))),327680&r&&D(t,"in-range",e[16](e[18](e[29])))},d(e){e&&y(t),i&&i.d(),a=!1,s(o)}}}function Fe(e){let t,n,l=e[12](e[18](e[29]),e[29],e[15](e[18](e[29])))+"",s=e[10]&&Ae(e),r=e[11]&&Oe(e);return{c(){t=C("span"),s&&s.c(),n=z(l),r&&r.c(),q(t,"class","pipVal")},m(e,l){x(e,t,l),s&&s.m(t,null),h(t,n),r&&r.m(t,null)},p(e,a){e[10]?s?s.p(e,a):(s=Ae(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),299008&a&&l!==(l=e[12](e[18](e[29]),e[29],e[15](e[18](e[29])))+"")&&W(n,l),e[11]?r?r.p(e,a):(r=Oe(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(e){e&&y(t),s&&s.d(),r&&r.d()}}}function Ae(e){let t,n;return{c(){t=C("span"),n=z(e[10]),q(t,"class","pipVal-prefix")},m(e,l){x(e,t,l),h(t,n)},p(e,t){1024&t&&W(n,e[10])},d(e){e&&y(t)}}}function Oe(e){let t,n;return{c(){t=C("span"),n=z(e[11]),q(t,"class","pipVal-suffix")},m(e,l){x(e,t,l),h(t,n)},p(e,t){2048&t&&W(n,e[11])},d(e){e&&y(t)}}}function De(e){let t,n=e[18](e[29])!==e[0]&&e[18](e[29])!==e[1],l=n&&We(e);return{c(){l&&l.c(),t=T()},m(e,n){l&&l.m(e,n),x(e,t,n)},p(e,s){262147&s&&(n=e[18](e[29])!==e[0]&&e[18](e[29])!==e[1]),n?l?l.p(e,s):(l=We(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(e){l&&l.d(e),e&&y(t)}}}function Re(e){let t,n,l,a,o=("label"===e[6]||"label"===e[8])&&Ee(e);return{c(){t=C("span"),o&&o.c(),q(t,"class","pip last"),q(t,"style",n=e[14]+": 100%;"),D(t,"selected",e[17](e[1])),D(t,"in-range",e[16](e[1]))},m(n,s){x(n,t,s),o&&o.m(t,null),l||(a=[M(t,"click",(function(){r(e[20](e[1]))&&e[20](e[1]).apply(this,arguments)})),M(t,"touchend",S((function(){r(e[20](e[1]))&&e[20](e[1]).apply(this,arguments)})))],l=!0)},p(l,s){"label"===(e=l)[6]||"label"===e[8]?o?o.p(e,s):(o=Ee(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null),16384&s&&n!==(n=e[14]+": 100%;")&&q(t,"style",n),131074&s&&D(t,"selected",e[17](e[1])),65538&s&&D(t,"in-range",e[16](e[1]))},d(e){e&&y(t),o&&o.d(),l=!1,s(a)}}}function Ee(e){let t,n,l=e[12](e[1],e[19],100)+"",s=e[10]&&Ie(e),r=e[11]&&Le(e);return{c(){t=C("span"),s&&s.c(),n=z(l),r&&r.c(),q(t,"class","pipVal")},m(e,l){x(e,t,l),s&&s.m(t,null),h(t,n),r&&r.m(t,null)},p(e,a){e[10]?s?s.p(e,a):(s=Ie(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),528386&a&&l!==(l=e[12](e[1],e[19],100)+"")&&W(n,l),e[11]?r?r.p(e,a):(r=Le(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(e){e&&y(t),s&&s.d(),r&&r.d()}}}function Ie(e){let t,n;return{c(){t=C("span"),n=z(e[10]),q(t,"class","pipVal-prefix")},m(e,l){x(e,t,l),h(t,n)},p(e,t){1024&t&&W(n,e[10])},d(e){e&&y(t)}}}function Le(e){let t,n;return{c(){t=C("span"),n=z(e[11]),q(t,"class","pipVal-suffix")},m(e,l){x(e,t,l),h(t,n)},p(e,t){2048&t&&W(n,e[11])},d(e){e&&y(t)}}}function Ve(t){let n,l,s,r=(t[6]&&!1!==t[7]||t[7])&&Te(t),a=(t[6]&&!1!==t[9]||t[9])&&je(t),o=(t[6]&&!1!==t[8]||t[8])&&Re(t);return{c(){n=C("div"),r&&r.c(),l=_(),a&&a.c(),s=_(),o&&o.c(),q(n,"class","rangePips"),D(n,"disabled",t[5]),D(n,"hoverable",t[4]),D(n,"vertical",t[2]),D(n,"reversed",t[3]),D(n,"focus",t[13])},m(e,t){x(e,n,t),r&&r.m(n,null),h(n,l),a&&a.m(n,null),h(n,s),o&&o.m(n,null)},p(e,[t]){e[6]&&!1!==e[7]||e[7]?r?r.p(e,t):(r=Te(e),r.c(),r.m(n,l)):r&&(r.d(1),r=null),e[6]&&!1!==e[9]||e[9]?a?a.p(e,t):(a=je(e),a.c(),a.m(n,s)):a&&(a.d(1),a=null),e[6]&&!1!==e[8]||e[8]?o?o.p(e,t):(o=Re(e),o.c(),o.m(n,null)):o&&(o.d(1),o=null),32&t&&D(n,"disabled",e[5]),16&t&&D(n,"hoverable",e[4]),4&t&&D(n,"vertical",e[2]),8&t&&D(n,"reversed",e[3]),8192&t&&D(n,"focus",e[13])},i:e,o:e,d(e){e&&y(n),r&&r.d(),a&&a.d(),o&&o.d()}}}function He(e,t,n){let l,s,r,a,o,{range:i=!1}=t,{min:c=0}=t,{max:u=100}=t,{step:d=1}=t,{values:p=[(u+c)/2]}=t,{vertical:m=!1}=t,{reversed:f=!1}=t,{hoverable:g=!0}=t,{disabled:v=!1}=t,{pipstep:h}=t,{all:b=!0}=t,{first:$}=t,{last:x}=t,{rest:y}=t,{prefix:w=""}=t,{suffix:C=""}=t,{formatter:k=((e,t)=>e)}=t,{focus:z}=t,{orientationStart:_}=t,{percentOf:T}=t,{moveHandle:M}=t;return e.$$set=e=>{"range"in e&&n(21,i=e.range),"min"in e&&n(0,c=e.min),"max"in e&&n(1,u=e.max),"step"in e&&n(22,d=e.step),"values"in e&&n(23,p=e.values),"vertical"in e&&n(2,m=e.vertical),"reversed"in e&&n(3,f=e.reversed),"hoverable"in e&&n(4,g=e.hoverable),"disabled"in e&&n(5,v=e.disabled),"pipstep"in e&&n(24,h=e.pipstep),"all"in e&&n(6,b=e.all),"first"in e&&n(7,$=e.first),"last"in e&&n(8,x=e.last),"rest"in e&&n(9,y=e.rest),"prefix"in e&&n(10,w=e.prefix),"suffix"in e&&n(11,C=e.suffix),"formatter"in e&&n(12,k=e.formatter),"focus"in e&&n(13,z=e.focus),"orientationStart"in e&&n(14,_=e.orientationStart),"percentOf"in e&&n(15,T=e.percentOf),"moveHandle"in e&&n(25,M=e.moveHandle)},e.$$.update=()=>{20971527&e.$$.dirty&&n(26,l=h||((u-c)/d>=(m?50:100)?(u-c)/(m?10:20):1)),71303171&e.$$.dirty&&n(19,s=parseInt((u-c)/(d*l),10)),71303169&e.$$.dirty&&n(18,r=function(e){return c+e*d*l}),8388608&e.$$.dirty&&n(17,a=function(e){return p.some((t=>t===e))}),10485760&e.$$.dirty&&n(16,o=function(e){return"min"===i?p[0]>e:"max"===i?p[0]<e:i?p[0]<e&&p[1]>e:void 0})},[c,u,m,f,g,v,b,$,x,y,w,C,k,z,_,T,o,a,r,s,function(e){M(void 0,e)},i,d,p,h,M,l]}class Ze extends xe{constructor(e){super(),$e(this,e,He,Ve,a,{range:21,min:0,max:1,step:22,values:23,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:24,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:25})}}function Be(e,t,n){const l=e.slice();return l[63]=t[n],l[65]=n,l}function Ne(e){let t,n,l=e[20](e[63],e[65],e[22](e[63]))+"",s=e[17]&&Ge(e),r=e[18]&&Pe(e);return{c(){t=C("span"),s&&s.c(),n=z(l),r&&r.c(),q(t,"class","rangeFloat")},m(e,l){x(e,t,l),s&&s.m(t,null),h(t,n),r&&r.m(t,null)},p(e,a){e[17]?s?s.p(e,a):(s=Ge(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),5242881&a[0]&&l!==(l=e[20](e[63],e[65],e[22](e[63]))+"")&&W(n,l),e[18]?r?r.p(e,a):(r=Pe(e),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(e){e&&y(t),s&&s.d(),r&&r.d()}}}function Ge(e){let t,n;return{c(){t=C("span"),n=z(e[17]),q(t,"class","rangeFloat-prefix")},m(e,l){x(e,t,l),h(t,n)},p(e,t){131072&t[0]&&W(n,e[17])},d(e){e&&y(t)}}}function Pe(e){let t,n;return{c(){t=C("span"),n=z(e[18]),q(t,"class","rangeFloat-suffix")},m(e,l){x(e,t,l),h(t,n)},p(e,t){262144&t[0]&&W(n,e[18])},d(e){e&&y(t)}}}function Ke(e){let t,n,l,r,a,o,i,c,u,d,p,m,f,g=e[6]&&Ne(e);return{c(){t=C("span"),n=C("span"),l=_(),g&&g.c(),q(n,"class","rangeNub"),q(t,"role","slider"),q(t,"class","rangeHandle"),q(t,"data-handle",r=e[65]),q(t,"style",a=e[28]+": "+e[29][e[65]]+"%; z-index: "+(e[26]===e[65]?3:2)+";"),q(t,"aria-valuemin",o=!0===e[1]&&1===e[65]?e[0][0]:e[2]),q(t,"aria-valuemax",i=!0===e[1]&&0===e[65]?e[0][1]:e[3]),q(t,"aria-valuenow",c=e[63]),q(t,"aria-valuetext",u=""+(e[17]+e[20](e[63],e[65],e[22](e[63]))+e[18])),q(t,"aria-orientation",d=e[5]?"vertical":"horizontal"),q(t,"aria-disabled",e[9]),q(t,"disabled",e[9]),q(t,"tabindex",p=e[9]?-1:0),D(t,"active",e[24]&&e[26]===e[65]),D(t,"press",e[25]&&e[26]===e[65])},m(s,r){x(s,t,r),h(t,n),h(t,l),g&&g.m(t,null),m||(f=[M(t,"blur",e[33]),M(t,"focus",e[34]),M(t,"keydown",e[35])],m=!0)},p(e,n){e[6]?g?g.p(e,n):(g=Ne(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),872415232&n[0]&&a!==(a=e[28]+": "+e[29][e[65]]+"%; z-index: "+(e[26]===e[65]?3:2)+";")&&q(t,"style",a),7&n[0]&&o!==(o=!0===e[1]&&1===e[65]?e[0][0]:e[2])&&q(t,"aria-valuemin",o),11&n[0]&&i!==(i=!0===e[1]&&0===e[65]?e[0][1]:e[3])&&q(t,"aria-valuemax",i),1&n[0]&&c!==(c=e[63])&&q(t,"aria-valuenow",c),5636097&n[0]&&u!==(u=""+(e[17]+e[20](e[63],e[65],e[22](e[63]))+e[18]))&&q(t,"aria-valuetext",u),32&n[0]&&d!==(d=e[5]?"vertical":"horizontal")&&q(t,"aria-orientation",d),512&n[0]&&q(t,"aria-disabled",e[9]),512&n[0]&&q(t,"disabled",e[9]),512&n[0]&&p!==(p=e[9]?-1:0)&&q(t,"tabindex",p),83886080&n[0]&&D(t,"active",e[24]&&e[26]===e[65]),100663296&n[0]&&D(t,"press",e[25]&&e[26]===e[65])},d(e){e&&y(t),g&&g.d(),m=!1,s(f)}}}function Qe(e){let t,n;return{c(){t=C("span"),q(t,"class","rangeBar"),q(t,"style",n=e[28]+": "+e[31](e[29])+"%; "+e[27]+": "+e[32](e[29])+"%;")},m(e,n){x(e,t,n)},p(e,l){939524096&l[0]&&n!==(n=e[28]+": "+e[31](e[29])+"%; "+e[27]+": "+e[32](e[29])+"%;")&&q(t,"style",n)},d(e){e&&y(t)}}}function Je(e){let t,n;return t=new Ze({props:{values:e[0],min:e[2],max:e[3],step:e[4],range:e[1],vertical:e[5],reversed:e[7],orientationStart:e[28],hoverable:e[8],disabled:e[9],all:e[12],first:e[13],last:e[14],rest:e[15],pipstep:e[11],prefix:e[17],suffix:e[18],formatter:e[19],focus:e[24],percentOf:e[22],moveHandle:e[30]}}),{c(){ge(t.$$.fragment)},m(e,l){ve(t,e,l),n=!0},p(e,n){const l={};1&n[0]&&(l.values=e[0]),4&n[0]&&(l.min=e[2]),8&n[0]&&(l.max=e[3]),16&n[0]&&(l.step=e[4]),2&n[0]&&(l.range=e[1]),32&n[0]&&(l.vertical=e[5]),128&n[0]&&(l.reversed=e[7]),268435456&n[0]&&(l.orientationStart=e[28]),256&n[0]&&(l.hoverable=e[8]),512&n[0]&&(l.disabled=e[9]),4096&n[0]&&(l.all=e[12]),8192&n[0]&&(l.first=e[13]),16384&n[0]&&(l.last=e[14]),32768&n[0]&&(l.rest=e[15]),2048&n[0]&&(l.pipstep=e[11]),131072&n[0]&&(l.prefix=e[17]),262144&n[0]&&(l.suffix=e[18]),524288&n[0]&&(l.formatter=e[19]),16777216&n[0]&&(l.focus=e[24]),4194304&n[0]&&(l.percentOf=e[22]),t.$set(l)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){he(t,e)}}}function Ue(e){let t,n,l,r,a,o,i=e[0],c=[];for(let t=0;t<i.length;t+=1)c[t]=Ke(Be(e,i,t));let u=e[1]&&Qe(e),d=e[10]&&Je(e);return{c(){t=C("div");for(let e=0;e<c.length;e+=1)c[e].c();n=_(),u&&u.c(),l=_(),d&&d.c(),q(t,"id",e[16]),q(t,"class","rangeSlider"),D(t,"range",e[1]),D(t,"disabled",e[9]),D(t,"hoverable",e[8]),D(t,"vertical",e[5]),D(t,"reversed",e[7]),D(t,"focus",e[24]),D(t,"min","min"===e[1]),D(t,"max","max"===e[1]),D(t,"pips",e[10]),D(t,"pip-labels","label"===e[12]||"label"===e[13]||"label"===e[14]||"label"===e[15])},m(s,i){x(s,t,i);for(let e=0;e<c.length;e+=1)c[e].m(t,null);h(t,n),u&&u.m(t,null),h(t,l),d&&d.m(t,null),e[49](t),r=!0,a||(o=[M(window,"mousedown",e[38]),M(window,"touchstart",e[38]),M(window,"mousemove",e[39]),M(window,"touchmove",e[39]),M(window,"mouseup",e[40]),M(window,"touchend",e[41]),M(window,"keydown",e[42]),M(t,"mousedown",e[36]),M(t,"mouseup",e[37]),M(t,"touchstart",S(e[36])),M(t,"touchend",S(e[37]))],a=!0)},p(e,s){if(928383599&s[0]|28&s[1]){let l;for(i=e[0],l=0;l<i.length;l+=1){const r=Be(e,i,l);c[l]?c[l].p(r,s):(c[l]=Ke(r),c[l].c(),c[l].m(t,n))}for(;l<c.length;l+=1)c[l].d(1);c.length=i.length}e[1]?u?u.p(e,s):(u=Qe(e),u.c(),u.m(t,l)):u&&(u.d(1),u=null),e[10]?d?(d.p(e,s),1024&s[0]&&ue(d,1)):(d=Je(e),d.c(),ue(d,1),d.m(t,null)):d&&(ie(),de(d,1,1,(()=>{d=null})),ce()),(!r||65536&s[0])&&q(t,"id",e[16]),2&s[0]&&D(t,"range",e[1]),512&s[0]&&D(t,"disabled",e[9]),256&s[0]&&D(t,"hoverable",e[8]),32&s[0]&&D(t,"vertical",e[5]),128&s[0]&&D(t,"reversed",e[7]),16777216&s[0]&&D(t,"focus",e[24]),2&s[0]&&D(t,"min","min"===e[1]),2&s[0]&&D(t,"max","max"===e[1]),1024&s[0]&&D(t,"pips",e[10]),61440&s[0]&&D(t,"pip-labels","label"===e[12]||"label"===e[13]||"label"===e[14]||"label"===e[15])},i(e){r||(ue(d),r=!0)},o(e){de(d),r=!1},d(n){n&&y(t),w(c,n),u&&u.d(),d&&d.d(),e[49](null),a=!1,s(o)}}}function Ye(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function Xe(e){return e.type.includes("touch")?e.touches[0]:e}function et(t,n,l){let s,r,a,i,c,u,d=e;t.$$.on_destroy.push((()=>d()));let{range:p=!1}=n,{pushy:m=!1}=n,{min:f=0}=n,{max:g=100}=n,{step:v=1}=n,{values:h=[(g+f)/2]}=n,{vertical:b=!1}=n,{float:$=!1}=n,{reversed:x=!1}=n,{hoverable:y=!0}=n,{disabled:w=!1}=n,{pips:C=!1}=n,{pipstep:k}=n,{all:z}=n,{first:_}=n,{last:T}=n,{rest:M}=n,{id:S}=n,{prefix:q=""}=n,{suffix:j=""}=n,{formatter:W=((e,t,n)=>e)}=n,{handleFormatter:F=W}=n,{precision:A=2}=n,{springValues:O={stiffness:.15,damping:.4}}=n;const D=function(){const e=B();return(t,n)=>{const l=e.$$.callbacks[t];if(l){const s=R(t,n);l.slice().forEach((t=>{t.call(e,s)}))}}}();let E,I,L,V,H=0,Z=!1,N=!1,G=!1,K=!1,Q=h.length-1;function J(){return E.getBoundingClientRect()}function U(e){const t=J();let n=0,l=0,s=0;b?(n=e.clientY-t.top,l=n/t.height*100,l=x?l:100-l):(n=e.clientX-t.left,l=n/t.width*100,l=x?100-l:l),s=(g-f)/100*l+f,Y(Q,s)}function Y(e,t){return t=a(t),void 0===e&&(e=Q),p&&(0===e&&t>h[1]?m?l(0,h[1]=t,h):t=h[1]:1===e&&t<h[0]&&(m?l(0,h[0]=t,h):t=h[0])),h[e]!==t&&l(0,h[e]=t,h),L!==t&&(!w&&D("change",{activeHandle:Q,startValue:I,previousValue:void 0===L?I:L,value:h[Q],values:h.map((e=>a(e)))}),L=t),t}function X(){!w&&D("stop",{activeHandle:Q,startValue:I,value:h[Q],values:h.map((e=>a(e)))})}return t.$$set=e=>{"range"in e&&l(1,p=e.range),"pushy"in e&&l(43,m=e.pushy),"min"in e&&l(2,f=e.min),"max"in e&&l(3,g=e.max),"step"in e&&l(4,v=e.step),"values"in e&&l(0,h=e.values),"vertical"in e&&l(5,b=e.vertical),"float"in e&&l(6,$=e.float),"reversed"in e&&l(7,x=e.reversed),"hoverable"in e&&l(8,y=e.hoverable),"disabled"in e&&l(9,w=e.disabled),"pips"in e&&l(10,C=e.pips),"pipstep"in e&&l(11,k=e.pipstep),"all"in e&&l(12,z=e.all),"first"in e&&l(13,_=e.first),"last"in e&&l(14,T=e.last),"rest"in e&&l(15,M=e.rest),"id"in e&&l(16,S=e.id),"prefix"in e&&l(17,q=e.prefix),"suffix"in e&&l(18,j=e.suffix),"formatter"in e&&l(19,W=e.formatter),"handleFormatter"in e&&l(20,F=e.handleFormatter),"precision"in e&&l(44,A=e.precision),"springValues"in e&&l(45,O=e.springValues)},t.$$.update=()=>{12&t.$$.dirty[0]&&l(48,r=function(e){return e<=f?f:e>=g?g:e}),28&t.$$.dirty[0]|139264&t.$$.dirty[1]&&l(47,a=function(e){if(e<=f)return f;if(e>=g)return g;let t=(e-f)%v,n=e-t;return 2*Math.abs(t)>=v&&(n+=t>0?v:-v),n=r(n),parseFloat(n.toFixed(A))}),12&t.$$.dirty[0]|8192&t.$$.dirty[1]&&l(22,s=function(e){let t=(e-f)/(g-f)*100;return isNaN(t)||t<=0?0:t>=100?100:parseFloat(t.toFixed(A))}),6291469&t.$$.dirty[0]|114688&t.$$.dirty[1]&&(Array.isArray(h)||(l(0,h=[(g+f)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),l(0,h=function(e){return"min"===p||"max"===p?e.slice(0,1):p?e.slice(0,2):e}(h.map((e=>a(e))))),H!==h.length?(l(21,V=ze(h.map((e=>s(e))),O)),d(),d=o(V,(e=>l(29,u=e)))):V.set(h.map((e=>s(e)))),l(46,H=h.length)),160&t.$$.dirty[0]&&l(28,i=b?x?"top":"bottom":x?"right":"left"),160&t.$$.dirty[0]&&l(27,c=b?x?"bottom":"top":x?"left":"right")},[h,p,f,g,v,b,$,x,y,w,C,k,z,_,T,M,S,q,j,W,F,V,s,E,Z,G,Q,c,i,u,Y,function(e){return"min"===p?0:e[0]},function(e){return"max"===p?0:"min"===p?100-e[0]:100-e[1]},function(e){K&&(l(24,Z=!1),N=!1,l(25,G=!1))},function(e){w||(l(26,Q=Ye(e.target)),l(24,Z=!0))},function(e){if(!w){const t=Ye(e.target);let n=e.ctrlKey||e.metaKey||e.shiftKey?10*v:v,l=!1;switch(e.key){case"PageDown":n*=10;case"ArrowRight":case"ArrowUp":Y(t,h[t]+n),l=!0;break;case"PageUp":n*=10;case"ArrowLeft":case"ArrowDown":Y(t,h[t]-n),l=!0;break;case"Home":Y(t,f),l=!0;break;case"End":Y(t,g),l=!0}l&&(e.preventDefault(),e.stopPropagation())}},function(e){if(!w){const t=e.target,n=Xe(e);l(24,Z=!0),N=!0,l(25,G=!0),l(26,Q=function(e){const t=J();let n,l=0,s=0,r=0;return b?(l=e.clientY-t.top,s=l/t.height*100,s=x?s:100-s):(l=e.clientX-t.left,s=l/t.width*100,s=x?100-s:s),r=(g-f)/100*s+f,!0===p&&h[0]===h[1]?r>h[1]?1:0:(n=h.indexOf([...h].sort(((e,t)=>Math.abs(r-e)-Math.abs(r-t)))[0]),n)}(n)),I=L=a(h[Q]),!w&&D("start",{activeHandle:Q,value:I,values:h.map((e=>a(e)))}),"touchstart"!==e.type||t.matches(".pipVal")||U(n)}},function(e){"touchend"===e.type&&X(),l(25,G=!1)},function(e){K=!1,Z&&e.target!==E&&!E.contains(e.target)&&l(24,Z=!1)},function(e){w||N&&U(Xe(e))},function(e){if(!w){const t=e.target;N&&((t===E||E.contains(t))&&(l(24,Z=!0),function(e){const t=E.querySelectorAll(".handle"),n=Array.prototype.includes.call(t,e),l=Array.prototype.some.call(t,(t=>t.contains(e)));return n||l}(t)||t.matches(".pipVal")||U(Xe(e))),X())}N=!1,l(25,G=!1)},function(e){N=!1,l(25,G=!1)},function(e){w||(e.target===E||E.contains(e.target))&&(K=!0)},m,A,O,H,a,r,function(e){P[e?"unshift":"push"]((()=>{E=e,l(23,E)}))}]}class tt extends xe{constructor(e){super(),$e(this,e,et,Ue,a,{range:1,pushy:43,min:2,max:3,step:4,values:0,vertical:5,float:6,reversed:7,hoverable:8,disabled:9,pips:10,pipstep:11,all:12,first:13,last:14,rest:15,id:16,prefix:17,suffix:18,formatter:19,handleFormatter:20,precision:44,springValues:45},null,[-1,-1,-1])}}function nt(e){let t;return{c(){t=C("div"),q(t,"class","gauge__fill centerMark svelte-ttiqvi")},m(e,n){x(e,t,n)},d(e){e&&y(t)}}}function lt(e){let t;return{c(){t=C("div"),q(t,"class","gauge__fill lowZone svelte-ttiqvi")},m(e,n){x(e,t,n)},d(e){e&&y(t)}}}function st(e){let t;return{c(){t=C("div"),q(t,"class","gauge__fill hiZone svelte-ttiqvi")},m(e,n){x(e,t,n)},d(e){e&&y(t)}}}function rt(e){let t,n,l,s=(100*e[0]).toFixed()+"";return{c(){t=C("div"),n=z(s),l=z("%"),q(t,"class","gauge__cover svelte-ttiqvi")},m(e,s){x(e,t,s),h(t,n),h(t,l)},p(e,t){1&t&&s!==(s=(100*e[0]).toFixed()+"")&&W(n,s)},d(e){e&&y(t)}}}function at(e){let t,n;return{c(){t=C("div"),n=z(e[1]),q(t,"class","gauge__cover svelte-ttiqvi")},m(e,l){x(e,t,l),h(t,n)},p(e,t){2&t&&W(n,e[1])},d(e){e&&y(t)}}}function ot(t){let n,l,s,r,a,o,i,c=t[2]&&nt(),u=t[3]&&lt(),d=t[4]&&st();function p(e,t){return null!==e[1]?at:rt}let m=p(t),f=m(t);return{c(){n=C("div"),l=C("div"),s=C("div"),r=_(),c&&c.c(),a=_(),u&&u.c(),o=_(),d&&d.c(),i=_(),f.c(),q(s,"class","gauge__fill svelte-ttiqvi"),q(s,"style",t[5]),D(s,"needle",t[2]),q(l,"class","gauge__body svelte-ttiqvi"),q(n,"class","gauge svelte-ttiqvi"),q(n,"data-testid","gauge")},m(e,t){x(e,n,t),h(n,l),h(l,s),h(l,r),c&&c.m(l,null),h(l,a),u&&u.m(l,null),h(l,o),d&&d.m(l,null),h(l,i),f.m(l,null)},p(e,[t]){32&t&&q(s,"style",e[5]),4&t&&D(s,"needle",e[2]),e[2]?c||(c=nt(),c.c(),c.m(l,a)):c&&(c.d(1),c=null),e[3]?u||(u=lt(),u.c(),u.m(l,o)):u&&(u.d(1),u=null),e[4]?d||(d=st(),d.c(),d.m(l,i)):d&&(d.d(1),d=null),m===(m=p(e))&&f?f.p(e,t):(f.d(1),f=m(e),f&&(f.c(),f.m(l,null)))},i:e,o:e,d(e){e&&y(n),c&&c.d(),u&&u.d(),d&&d.d(),f.d()}}}function it(e,t,n){let l,{value:s=.5}=t,{label:r=null}=t,{needle:a=!1}=t,{lowZone:o=!1}=t,{hiZone:i=!1}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"label"in e&&n(1,r=e.label),"needle"in e&&n(2,a=e.needle),"lowZone"in e&&n(3,o=e.lowZone),"hiZone"in e&&n(4,i=e.hiZone)},e.$$.update=()=>{1&e.$$.dirty&&n(5,l=`transform: rotate(${s/2}turn)`)},[s,r,a,o,i,l]}class ct extends xe{constructor(e){super(),$e(this,e,it,ot,a,{value:0,label:1,needle:2,lowZone:3,hiZone:4})}}function ut(e,{delay:n=0,duration:l=400,easing:s=t}={}){const r=+getComputedStyle(e).opacity;return{delay:n,duration:l,easing:s,css:e=>"opacity: "+e*r}}var dt;const pt="gbSettings",mt=we("chart"),ft=localStorage.getItem("daysToReview"),gt=we(ft?JSON.parse(ft):[4]);gt.subscribe((e=>{localStorage.setItem("daysToReview",JSON.stringify(e))}));const vt=e=>JSON.parse(e).map((e=>Object.assign(Object.assign({},e),{start:new Date(e.start),end:new Date(e.end)}))),ht=localStorage.getItem("srsCounts"),bt=we(ht?JSON.parse(ht):{expectedDaily:0,new:{radicals:0,kanji:0,vocabulary:0,total:0},apprentice:{early:0,late:0,total:0},lesson:0,guru:0,master:0,enlightened:0,burned:0});bt.subscribe((e=>{localStorage.setItem("srsCounts",JSON.stringify(e))}));const $t=localStorage.getItem("sessionSummaries"),xt=we($t?vt($t):[]);xt.subscribe((e=>{localStorage.setItem("sessionSummaries",JSON.stringify(e))}));const yt=localStorage.getItem("reviewCounts"),wt=we(yt?vt(yt):[]);wt.subscribe((e=>{localStorage.setItem("reviewCounts",JSON.stringify(e))}));const Ct={position:"Top",bgColor:"#f4f4f4",trackColor:"#e0e0e0",textColor:"#333333",hlTextColor:"#fbb623",fillColor:"#59c273",warnColor:"#fbb623",hlTrackColor:"#d1e8d4",gbMinTarget:130,gbMaxTarget:170,aboveTerm:"休",belowTerm:"努力",inRangeTerm:"良",newRWeight:.6,newKWeight:3,newVWeight:1,apprWeight:1,guruWeight:.1,masterWeight:0,enlightenedWeight:0,targetSpeed:7,speedMin:6,speedMax:8,madCutoff:10,rpdMin:120,rpdMax:180,tzOffset:0,rQuiz:!1,kQuiz:!0,vQuiz:!1},kt=we(null!==(dt=JSON.parse(localStorage.getItem(pt)))&&void 0!==dt?dt:Ct);kt.subscribe((e=>localStorage.setItem(pt,JSON.stringify(e))));function zt(t){let n,l,s,r,a,o,i,c,u,d,p,m,f,g,v,b,$,w,k,T,M,S,j,F,A,O,D,R,E,I,L,V,H,Z,B,N,G,P,K,Q,J,U,X,ee,te,ne,le,se,re,ae,oe,ie,ce,ue,de=t[3].new.radicals+"",pe=t[3].new.kanji+"",fe=t[3].new.vocabulary+"",ge=t[3].apprentice.late+"",ve=t[3].guru+"",he=t[3].master+"",be=t[3].enlightened+"",$e=t[0].toFixed()+"",xe=t[2].gbMinTarget+"",ye=t[2].gbMaxTarget+"";return{c(){n=C("h1"),l=z("GanbarOmeter: "),s=z(t[5]),a=_(),o=C("div"),i=C("table"),c=C("tr"),u=C("th"),u.textContent="Early Apprentice",d=_(),p=C("td"),m=z(de),f=C("span"),f.textContent="r",g=_(),v=z(pe),b=C("span"),b.textContent="k",$=_(),w=z(fe),k=C("span"),k.textContent="v",T=_(),M=C("tr"),S=C("th"),S.textContent="Late Apprentice",j=_(),F=C("td"),A=z(ge),O=_(),D=C("span"),D.textContent="items",R=_(),E=C("tr"),I=C("th"),I.textContent="Guru'd",L=_(),V=C("td"),H=z(ve),Z=C("span"),Z.textContent="g",B=_(),N=z(he),G=C("span"),G.textContent="m",P=_(),K=z(be),Q=C("span"),Q.textContent="e",J=_(),U=C("tr"),X=C("th"),X.textContent="Weighted count",ee=_(),te=C("td"),ne=z($e),le=_(),se=C("span"),re=z("(target "),ae=z(xe),oe=z("–"),ie=z(ye),ce=z(")"),q(n,"class","gbHeader"),q(f,"class","secondary"),q(b,"class","secondary"),q(k,"class","secondary"),q(D,"class","secondary"),q(Z,"class","secondary"),q(G,"class","secondary"),q(Q,"class","secondary"),q(se,"class","secondary"),q(i,"class","gbContent"),q(o,"data-testid","ganbarometer-table")},m(e,t){x(e,n,t),h(n,l),h(n,s),x(e,a,t),x(e,o,t),h(o,i),h(i,c),h(c,u),h(c,d),h(c,p),h(p,m),h(p,f),h(p,g),h(p,v),h(p,b),h(p,$),h(p,w),h(p,k),h(i,T),h(i,M),h(M,S),h(M,j),h(M,F),h(F,A),h(F,O),h(F,D),h(i,R),h(i,E),h(E,I),h(E,L),h(E,V),h(V,H),h(V,Z),h(V,B),h(V,N),h(V,G),h(V,P),h(V,K),h(V,Q),h(i,J),h(i,U),h(U,X),h(U,ee),h(U,te),h(te,ne),h(te,le),h(te,se),h(se,re),h(se,ae),h(se,oe),h(se,ie),h(se,ce)},p(e,t){32&t&&W(s,e[5]),8&t&&de!==(de=e[3].new.radicals+"")&&W(m,de),8&t&&pe!==(pe=e[3].new.kanji+"")&&W(v,pe),8&t&&fe!==(fe=e[3].new.vocabulary+"")&&W(w,fe),8&t&&ge!==(ge=e[3].apprentice.late+"")&&W(A,ge),8&t&&ve!==(ve=e[3].guru+"")&&W(H,ve),8&t&&he!==(he=e[3].master+"")&&W(N,he),8&t&&be!==(be=e[3].enlightened+"")&&W(K,be),1&t&&$e!==($e=e[0].toFixed()+"")&&W(ne,$e),4&t&&xe!==(xe=e[2].gbMinTarget+"")&&W(ae,xe),4&t&&ye!==(ye=e[2].gbMaxTarget+"")&&W(ie,ye)},i(e){r||Y((()=>{r=me(n,ut,{}),r.start()})),ue||Y((()=>{ue=me(o,ut,{}),ue.start()}))},o:e,d(e){e&&y(n),e&&y(a),e&&y(o)}}}function _t(e){let t,n,l,s,r,a;return l=new ct({props:{value:e[1],label:e[4],needle:!0,lowZone:!0,hiZone:!0}}),{c(){t=C("h1"),t.textContent="GanbarOmeter",n=_(),ge(l.$$.fragment),s=_(),r=C("div"),r.innerHTML='<span class="left-aligned svelte-1rtibr8">遅</span><span class="right-aligned svelte-1rtibr8">早</span>',q(t,"class","gbHeader"),q(r,"class","units svelte-1rtibr8")},m(e,o){x(e,t,o),x(e,n,o),ve(l,e,o),x(e,s,o),x(e,r,o),a=!0},p(e,t){const n={};2&t&&(n.value=e[1]),16&t&&(n.label=e[4]),l.$set(n)},i(e){a||(ue(l.$$.fragment,e),a=!0)},o(e){de(l.$$.fragment,e),a=!1},d(e){e&&y(t),e&&y(n),he(l,e),e&&y(s),e&&y(r)}}}function Tt(e){let t,n,l,s;const r=[_t,zt],a=[];function o(e,t){return"chart"===e[6]?0:1}return n=o(e),l=a[n]=r[n](e),{c(){t=C("div"),l.c(),q(t,"class","gbWidget"),A(t,"--trackColor",e[2].hlTrackColor),A(t,"--hlTrackColor",e[2].trackColor)},m(e,l){x(e,t,l),a[n].m(t,null),s=!0},p(e,[i]){let c=n;n=o(e),n===c?a[n].p(e,i):(ie(),de(a[c],1,1,(()=>{a[c]=null})),ce(),l=a[n],l?l.p(e,i):(l=a[n]=r[n](e),l.c()),ue(l,1),l.m(t,null)),(!s||4&i)&&A(t,"--trackColor",e[2].hlTrackColor),(!s||4&i)&&A(t,"--hlTrackColor",e[2].trackColor)},i(e){s||(ue(l),s=!0)},o(e){de(l),s=!1},d(e){e&&y(t),a[n].d()}}}function Mt(e,t,n){let l,s,r,a,o,c,u,d,p,m;i(e,kt,(e=>n(2,d=e))),i(e,bt,(e=>n(3,p=e))),i(e,mt,(e=>n(6,m=e)));const f=2/3*.5;return e.$$.update=()=>{12&e.$$.dirty&&n(0,l=p.new.radicals*d.newRWeight+p.new.kanji*d.newKWeight+p.new.vocabulary*d.newVWeight+p.apprentice.late*d.apprWeight+p.guru*d.guruWeight+p.master*d.masterWeight+p.enlightened*d.enlightenedWeight),4&e.$$.dirty&&n(9,s=f/(d.gbMaxTarget-d.gbMinTarget)),517&e.$$.dirty&&n(8,r=f+(l-d.gbMinTarget)*s),256&e.$$.dirty&&n(1,a=r<0?0:r>1?1:r),2&e.$$.dirty&&n(7,o=(a-.5).toFixed(2)),130&e.$$.dirty&&n(5,c=a>.5?"+"+o:o),5&e.$$.dirty&&n(4,u=l<d.gbMinTarget?d.belowTerm:l>d.gbMaxTarget?d.aboveTerm:d.inRangeTerm)},(async()=>{wkof.include("ItemData"),await wkof.ready("ItemData");const e=await wkof.ItemData.get_items("subjects,assignments"),t=await wkof.ItemData.get_index(e,"srs_stage");let n;t[1]&&t[2]?n=[...t[1],...t[2]]:t[1]&&(n=[...t[1]]);const l=n.filter((e=>"radicals"==e.object)),s=n.filter((e=>"kanji"==e.object)),r=n.filter((e=>"vocabulary"==e.object)),a=[0,.5,1,1,2,7,14,30,120,0];let o=[];return[0,1,2,3,4,5,6,7,8,9].forEach((e=>{var n,l;o[e]=null!==(l=null===(n=t[e])||void 0===n?void 0:n.length)&&void 0!==l?l:0})),{expectedDaily:[1,2,3,4,5,6,7,8].map((e=>o[e]/a[e])).reduce(((e,t)=>e+t)),new:{radicals:l.length,kanji:s.length,vocabulary:r.length,total:n.length},apprentice:{early:o[1]+o[2],late:o[3]+o[4],total:o[1]+o[2]+o[3]+o[4]},lesson:o[0],guru:o[5]+o[6],master:o[7],enlightened:o[8],burned:o[9]}})().then((e=>bt.set(e))),[l,a,d,p,u,c,m,o,r,s]}class St extends xe{constructor(e){super(),$e(this,e,Mt,Tt,a,{})}}function qt(e,t,n){const l=e.slice();return l[14]=t[n],l[16]=n,l}function jt(t){let n,l,s,r,a,o,i,c,u,d,p,m,f,g,v,b,$,k=t[1].length+"",T=t[1],M=[];for(let e=0;e<T.length;e+=1)M[e]=Ft(qt(t,T,e));return{c(){n=C("h1"),l=z("Speed: "),s=z(t[4]),r=z(" s/q"),o=_(),i=C("div"),c=C("div"),u=C("h4"),d=z(k),p=z(" sessions • "),m=z(t[5]),f=z(" items • "),g=z(t[0]),v=z(" questions"),b=_();for(let e=0;e<M.length;e+=1)M[e].c();q(n,"class","gbHeader"),q(u,"class","svelte-ziwm73"),q(c,"class","gbContent scrollbox svelte-ziwm73"),q(i,"data-testid","speed-table")},m(e,t){x(e,n,t),h(n,l),h(n,s),h(n,r),x(e,o,t),x(e,i,t),h(i,c),h(c,u),h(u,d),h(u,p),h(u,m),h(u,f),h(u,g),h(u,v),h(c,b);for(let e=0;e<M.length;e+=1)M[e].m(c,null)},p(e,t){if(16&t&&W(s,e[4]),2&t&&k!==(k=e[1].length+"")&&W(d,k),32&t&&W(m,e[5]),1&t&&W(g,e[0]),1922&t){let n;for(T=e[1],n=0;n<T.length;n+=1){const l=qt(e,T,n);M[n]?M[n].p(l,t):(M[n]=Ft(l),M[n].c(),M[n].m(c,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=T.length}},i(e){a||Y((()=>{a=me(n,ut,{}),a.start()})),$||Y((()=>{$=me(i,ut,{}),$.start()}))},o:e,d(e){e&&y(n),e&&y(o),e&&y(i),w(M,e)}}}function Wt(e){let t,n,l,s,r,a;return l=new ct({props:{value:e[3],label:e[4]}}),{c(){t=C("h1"),t.textContent="Speed",n=_(),ge(l.$$.fragment),s=_(),r=C("div"),r.textContent="seconds/question",q(t,"class","gbHeader"),q(r,"class","units")},m(e,o){x(e,t,o),x(e,n,o),ve(l,e,o),x(e,s,o),x(e,r,o),a=!0},p(e,t){const n={};8&t&&(n.value=e[3]),16&t&&(n.label=e[4]),l.$set(n)},i(e){a||(ue(l.$$.fragment,e),a=!0)},o(e){de(l.$$.fragment,e),a=!1},d(e){e&&y(t),e&&y(n),he(l,e),e&&y(s),e&&y(r)}}}function Ft(e){let t,n,l,s,r,a,o,i,c,u,d,p,m,f,g,v,b,$,w,k,T,M,S,j,F,A,O,D=e[16]+1+"",R=e[8](e[14].start)+"",E=e[9](e[14].end)+"",I=(e[7](e[14])/60).toFixed()+"",L=e[14].reviewCount+"",V=e[14].questionCount+"",H=(e[7](e[14])/e[14].questionCount).toFixed(1)+"",Z=e[14].correctAnswerCount+"",B=e[14].questionCount+"",N=e[10](e[14])+"";return{c(){t=C("article"),n=C("h5"),l=z(D),s=z(": "),r=z(R),a=z(" – "),o=z(E),i=z("\n            ("),c=z(I),u=z("m)"),d=_(),p=C("p"),m=z(L),f=z(" items • "),g=z(V),v=z(" questions •\n            "),b=z(H),$=z(" s/q "),w=C("br"),k=_(),T=z(Z),M=z("/"),S=z(B),j=z(" =\n            "),F=z(N),A=z("% correct"),O=_(),q(n,"class","svelte-ziwm73"),q(p,"class","svelte-ziwm73"),q(t,"class","svelte-ziwm73")},m(e,y){x(e,t,y),h(t,n),h(n,l),h(n,s),h(n,r),h(n,a),h(n,o),h(n,i),h(n,c),h(n,u),h(t,d),h(t,p),h(p,m),h(p,f),h(p,g),h(p,v),h(p,b),h(p,$),h(p,w),h(p,k),h(p,T),h(p,M),h(p,S),h(p,j),h(p,F),h(p,A),h(t,O)},p(e,t){2&t&&R!==(R=e[8](e[14].start)+"")&&W(r,R),2&t&&E!==(E=e[9](e[14].end)+"")&&W(o,E),2&t&&I!==(I=(e[7](e[14])/60).toFixed()+"")&&W(c,I),2&t&&L!==(L=e[14].reviewCount+"")&&W(m,L),2&t&&V!==(V=e[14].questionCount+"")&&W(g,V),2&t&&H!==(H=(e[7](e[14])/e[14].questionCount).toFixed(1)+"")&&W(b,H),2&t&&Z!==(Z=e[14].correctAnswerCount+"")&&W(T,Z),2&t&&B!==(B=e[14].questionCount+"")&&W(S,B),2&t&&N!==(N=e[10](e[14])+"")&&W(F,N)},d(e){e&&y(t)}}}function At(e){let t,n,l,s;const r=[Wt,jt],a=[];function o(e,t){return"chart"===e[6]?0:1}return n=o(e),l=a[n]=r[n](e),{c(){t=C("div"),l.c(),q(t,"class","gbWidget svelte-ziwm73"),q(t,"data-testid","speedWidget"),A(t,"--fillColor",e[2])},m(e,l){x(e,t,l),a[n].m(t,null),s=!0},p(e,[i]){let c=n;n=o(e),n===c?a[n].p(e,i):(ie(),de(a[c],1,1,(()=>{a[c]=null})),ce(),l=a[n],l?l.p(e,i):(l=a[n]=r[n](e),l.c()),ue(l,1),l.m(t,null)),(!s||4&i)&&A(t,"--fillColor",e[2])},i(e){s||(ue(l),s=!0)},o(e){de(l),s=!1},d(e){e&&y(t),a[n].d()}}}function Ot(e,t,n){let l,s,r,a,o,c,u,d,p;i(e,kt,(e=>n(13,u=e))),i(e,xt,(e=>n(1,d=e))),i(e,mt,(e=>n(6,p=e)));const m=e=>(e.end-e.start)/1e3;let f;return e.$$.update=()=>{2&e.$$.dirty&&n(5,l=d.reduce(((e,t)=>e+ +t.reviewCount),0)),2&e.$$.dirty&&n(0,s=d.reduce(((e,t)=>e+ +t.questionCount),0)),2&e.$$.dirty&&n(11,f=d.reduce(((e,t)=>e+m(t)),0)),2049&e.$$.dirty&&n(12,r=s>0?f/s:0),4096&e.$$.dirty&&n(4,a=`${r.toFixed(1)}`),12288&e.$$.dirty&&n(3,o=r/(2*u.targetSpeed)),12288&e.$$.dirty&&n(2,c=r<u.speedMin||r>u.speedMax?u.warnColor:u.fillColor)},[s,d,c,o,a,l,p,m,e=>Intl.DateTimeFormat("en-US",{dateStyle:"short",timeStyle:"short"}).format(e),e=>Intl.DateTimeFormat("en-US",{timeStyle:"short"}).format(e),e=>(100*e.correctAnswerCount/e.questionCount).toFixed(1),f,r,u]}class Dt extends xe{constructor(e){super(),$e(this,e,Ot,At,a,{})}}function Rt(e,t,n){const l=e.slice();return l[11]=t[n],l[13]=n,l}function Et(e){let t;return{c(){t=C("td"),q(t,"aria-label","percents"),q(t,"class","percents svelte-qotrzq"),A(t,"height",(100*e[1][e[13]]).toFixed(1)+"%")},m(e,n){x(e,t,n)},p(e,n){2&n&&A(t,"height",(100*e[1][e[13]]).toFixed(1)+"%")},d(e){e&&y(t)}}}function It(e){let t,n,l,s=(100*e[1][e[13]]).toFixed()+"";return{c(){t=C("br"),n=z(s),l=z("%")},m(e,s){x(e,t,s),x(e,n,s),x(e,l,s)},p(e,t){2&t&&s!==(s=(100*e[1][e[13]]).toFixed()+"")&&W(n,s)},d(e){e&&y(t),e&&y(n),e&&y(l)}}}function Lt(e){let t,n,l,s,r,a,o,i,c,u=(e[2][e[13]]?e[2][e[13]]:"")+"",d=e[11]+"",p=e[1].length&&Et(e),m=e[1].length&&It(e);return{c(){t=C("tr"),n=C("th"),l=z(u),s=_(),r=C("td"),a=_(),p&&p.c(),o=_(),i=C("span"),c=z(d),m&&m.c(),q(n,"scope","row"),q(n,"aria-label","label"),q(n,"class","svelte-qotrzq"),q(r,"aria-label","value"),q(r,"class","svelte-qotrzq"),q(i,"class","displayBox svelte-qotrzq"),q(i,"data-testid","displayBox"),q(t,"aria-label","values"),A(t,"height",e[10][e[13]]+"%"),q(t,"class","svelte-qotrzq")},m(e,u){x(e,t,u),h(t,n),h(n,l),h(t,s),h(t,r),h(t,a),p&&p.m(t,null),h(t,o),h(t,i),h(i,c),m&&m.m(i,null)},p(e,n){4&n&&u!==(u=(e[2][e[13]]?e[2][e[13]]:"")+"")&&W(l,u),e[1].length?p?p.p(e,n):(p=Et(e),p.c(),p.m(t,o)):p&&(p.d(1),p=null),1&n&&d!==(d=e[11]+"")&&W(c,d),e[1].length?m?m.p(e,n):(m=It(e),m.c(),m.m(i,null)):m&&(m.d(1),m=null),1024&n&&A(t,"height",e[10][e[13]]+"%")},d(e){e&&y(t),p&&p.d(),m&&m.d()}}}function Vt(t){let n,l,s,r,a,o,i,c,u,d,p,m,f,g,v,b,$,k=t[0],T=[];for(let e=0;e<k.length;e+=1)T[e]=Lt(Rt(t,k,e));return{c(){n=C("table"),l=C("thead"),l.innerHTML='<tr class="svelte-qotrzq"><th scope="col" class="svelte-qotrzq">Item</th> \n      <th scope="col" class="svelte-qotrzq">Value</th></tr>',s=_(),r=C("tbody");for(let e=0;e<T.length;e+=1)T[e].c();a=_(),o=C("div"),c=_(),u=C("div"),p=_(),m=C("p"),f=z(t[4]),g=_(),v=z(t[5]),b=_(),$=z(t[3]),q(l,"class","svelte-qotrzq"),q(o,"class","minmax svelte-qotrzq"),o.hidden=i=t[4]+t[5]===0,A(o,"bottom",t[7]+"%"),A(o,"height",t[8]+"%"),u.hidden=d=0===t[9],q(u,"class","expected svelte-qotrzq"),A(u,"height",t[9]+"%"),q(r,"class","svelte-qotrzq"),q(n,"class","graph svelte-qotrzq"),q(n,"aria-label","bar-chart"),A(n,"--max-label",t[6]),m.hidden=!0},m(e,t){x(e,n,t),h(n,l),h(n,s),h(n,r);for(let e=0;e<T.length;e+=1)T[e].m(r,null);h(r,a),h(r,o),h(r,c),h(r,u),x(e,p,t),x(e,m,t),h(m,f),h(m,g),h(m,v),h(m,b),h(m,$)},p(e,[t]){if(1031&t){let n;for(k=e[0],n=0;n<k.length;n+=1){const l=Rt(e,k,n);T[n]?T[n].p(l,t):(T[n]=Lt(l),T[n].c(),T[n].m(r,a))}for(;n<T.length;n+=1)T[n].d(1);T.length=k.length}48&t&&i!==(i=e[4]+e[5]===0)&&(o.hidden=i),128&t&&A(o,"bottom",e[7]+"%"),256&t&&A(o,"height",e[8]+"%"),512&t&&d!==(d=0===e[9])&&(u.hidden=d),512&t&&A(u,"height",e[9]+"%"),64&t&&A(n,"--max-label",e[6]),16&t&&W(f,e[4]),32&t&&W(v,e[5]),8&t&&W($,e[3])},i:e,o:e,d(e){e&&y(n),w(T,e),e&&y(p),e&&y(m)}}}function Ht(e,t,n){let l,s,r,a,o,{values:i}=t,{percents:c=[]}=t,{labels:u=[]}=t,{expected:d=0}=t,{minTarget:p=0}=t,{maxTarget:m=0}=t;return e.$$set=e=>{"values"in e&&n(0,i=e.values),"percents"in e&&n(1,c=e.percents),"labels"in e&&n(2,u=e.labels),"expected"in e&&n(3,d=e.expected),"minTarget"in e&&n(4,p=e.minTarget),"maxTarget"in e&&n(5,m=e.maxTarget)},e.$$.update=()=>{41&e.$$.dirty&&n(6,l=Math.max(...i,d,m)),65&e.$$.dirty&&n(10,s=i.map((e=>Math.round(e/l*100)))),72&e.$$.dirty&&n(9,r=Math.round(d/l*100)),112&e.$$.dirty&&n(8,a=Math.round((m-p)/l*100)),80&e.$$.dirty&&n(7,o=Math.round(p/l*100))},[i,c,u,d,p,m,l,o,a,r,s]}class Zt extends xe{constructor(e){super(),$e(this,e,Ht,Vt,a,{values:0,percents:1,labels:2,expected:3,minTarget:4,maxTarget:5})}}function Bt(t){let n,l,s,r,a,o,i,c,u,d,p,m,f,g,v,b,$,w,k,T,M,S,j,F,A,O,D,R,E,I,L,V,H,Z,B,N,G,P,K,Q=t[3].toFixed()+"",J=t[8].expectedDaily.toFixed()+"",U=t[9].rpdMin+"",X=t[9].rpdMax+"",ee=t[10](t[2][t[2].length-1]?.start)+"",te=t[2][t[2].length-1]?.review_count+"",ne=(100*t[0][t[0].length-1]).toFixed()+"";function le(e,t){return e[2].length>2?Pt:2===e[2].length?Gt:void 0}let se=le(t),re=se&&se(t);return{c(){n=C("h1"),l=z(t[1]),s=z(" Reviews @"),r=z(Q),a=z("%"),i=_(),c=C("div"),u=C("table"),d=C("tr"),p=C("th"),p.textContent="Expected Daily:",m=_(),f=C("td"),g=z(J),v=_(),b=C("span"),$=z("(avg.: "),w=z(t[5]),k=z(", target: "),T=z(U),M=z("–"),S=z(X),j=z(")"),F=_(),A=C("tr"),O=C("th"),D=z("Latest ("),R=z(ee),E=z("):"),I=_(),L=C("td"),V=z(te),H=_(),Z=C("span"),B=z("reviews @ "),N=z(ne),G=z("%"),P=_(),re&&re.c(),q(n,"class","gbHeader"),q(b,"class","secondary"),q(Z,"class","secondary"),q(u,"class","gbContent"),q(c,"data-testid","reviews-per-day-table")},m(e,t){x(e,n,t),h(n,l),h(n,s),h(n,r),h(n,a),x(e,i,t),x(e,c,t),h(c,u),h(u,d),h(d,p),h(d,m),h(d,f),h(f,g),h(f,v),h(f,b),h(b,$),h(b,w),h(b,k),h(b,T),h(b,M),h(b,S),h(b,j),h(u,F),h(u,A),h(A,O),h(O,D),h(O,R),h(O,E),h(A,I),h(A,L),h(L,V),h(L,H),h(L,Z),h(Z,B),h(Z,N),h(Z,G),h(u,P),re&&re.m(u,null)},p(e,t){2&t&&W(l,e[1]),8&t&&Q!==(Q=e[3].toFixed()+"")&&W(r,Q),256&t&&J!==(J=e[8].expectedDaily.toFixed()+"")&&W(g,J),32&t&&W(w,e[5]),512&t&&U!==(U=e[9].rpdMin+"")&&W(T,U),512&t&&X!==(X=e[9].rpdMax+"")&&W(S,X),4&t&&ee!==(ee=e[10](e[2][e[2].length-1]?.start)+"")&&W(R,ee),4&t&&te!==(te=e[2][e[2].length-1]?.review_count+"")&&W(V,te),1&t&&ne!==(ne=(100*e[0][e[0].length-1]).toFixed()+"")&&W(N,ne),se===(se=le(e))&&re?re.p(e,t):(re&&re.d(1),re=se&&se(e),re&&(re.c(),re.m(u,null)))},i(e){o||Y((()=>{o=me(n,ut,{}),o.start()})),K||Y((()=>{K=me(c,ut,{}),K.start()}))},o:e,d(e){e&&y(n),e&&y(i),e&&y(c),re&&re.d()}}}function Nt(e){let t,n,l,s;return l=new Zt({props:{values:e[4],labels:e[6],expected:e[8].expectedDaily,minTarget:e[9].rpdMin,maxTarget:e[9].rpdMax,percents:e[0]}}),{c(){t=C("h1"),t.textContent="Reviews",n=_(),ge(l.$$.fragment),q(t,"class","gbHeader")},m(e,r){x(e,t,r),x(e,n,r),ve(l,e,r),s=!0},p(e,t){const n={};16&t&&(n.values=e[4]),64&t&&(n.labels=e[6]),256&t&&(n.expected=e[8].expectedDaily),512&t&&(n.minTarget=e[9].rpdMin),512&t&&(n.maxTarget=e[9].rpdMax),1&t&&(n.percents=e[0]),l.$set(n)},i(e){s||(ue(l.$$.fragment,e),s=!0)},o(e){de(l.$$.fragment,e),s=!1},d(e){e&&y(t),e&&y(n),he(l,e)}}}function Gt(e){let t,n,l,s,r,a,o,i,c,u=e[10](e[2][0].start)+"",d=e[2][0].review_count+"";return{c(){t=C("tr"),n=C("th"),l=z(u),s=z(":"),r=_(),a=C("td"),o=z(d),i=_(),c=C("span"),c.textContent="reviews",q(c,"class","secondary")},m(e,u){x(e,t,u),h(t,n),h(n,l),h(n,s),h(t,r),h(t,a),h(a,o),h(a,i),h(a,c)},p(e,t){4&t&&u!==(u=e[10](e[2][0].start)+"")&&W(l,u),4&t&&d!==(d=e[2][0].review_count+"")&&W(o,d)},d(e){e&&y(t)}}}function Pt(e){let t,n,l,s,r,a,o,i,c,u,d,p,m,f,g,v,b,$,w,k=e[10](e[2][0].start)+"",T=e[10](e[2][e[2].length-2].start)+"",M=e[2].slice(0,-1).map(Qt).join(" • ")+"",S=e[0].slice(0,-1).map(Jt).join("% • ")+"";return{c(){t=C("tr"),n=C("th"),l=z(k),s=z(" – "),r=z(T),a=z(":"),o=_(),i=C("td"),c=z(M),u=_(),d=C("span"),d.textContent="reviews",p=_(),m=C("tr"),f=C("th"),g=_(),v=C("td"),b=z(S),$=z("% "),w=C("span"),w.textContent="accuracy",q(d,"class","secondary"),q(w,"class","secondary")},m(e,y){x(e,t,y),h(t,n),h(n,l),h(n,s),h(n,r),h(n,a),h(t,o),h(t,i),h(i,c),h(i,u),h(i,d),x(e,p,y),x(e,m,y),h(m,f),h(m,g),h(m,v),h(v,b),h(v,$),h(v,w)},p(e,t){4&t&&k!==(k=e[10](e[2][0].start)+"")&&W(l,k),4&t&&T!==(T=e[10](e[2][e[2].length-2].start)+"")&&W(r,T),4&t&&M!==(M=e[2].slice(0,-1).map(Qt).join(" • ")+"")&&W(c,M),1&t&&S!==(S=e[0].slice(0,-1).map(Jt).join("% • ")+"")&&W(b,S)},d(e){e&&y(t),e&&y(p),e&&y(m)}}}function Kt(e){let t,n,l,s;const r=[Nt,Bt],a=[];function o(e,t){return"chart"===e[7]?0:1}return n=o(e),l=a[n]=r[n](e),{c(){t=C("div"),l.c(),q(t,"class","gbWidget"),q(t,"data-testid","reviews-per-day-gauge")},m(e,l){x(e,t,l),a[n].m(t,null),s=!0},p(e,[s]){let i=n;n=o(e),n===i?a[n].p(e,s):(ie(),de(a[i],1,1,(()=>{a[i]=null})),ce(),l=a[n],l?l.p(e,s):(l=a[n]=r[n](e),l.c()),ue(l,1),l.m(t,null))},i(e){s||(ue(l),s=!0)},o(e){de(l),s=!1},d(e){e&&y(t),a[n].d()}}}const Qt=e=>e.review_count,Jt=e=>(100*e).toFixed();function Ut(e,t,n){let l,s,r,a,o,c,u,d,p,m,f;i(e,wt,(e=>n(2,u=e))),i(e,gt,(e=>n(11,d=e))),i(e,mt,(e=>n(7,p=e))),i(e,bt,(e=>n(8,m=e))),i(e,kt,(e=>n(9,f=e)));const g=e=>new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(e);return e.$$.update=()=>{4&e.$$.dirty&&n(6,l=u.map((e=>g(e.start)))),4&e.$$.dirty&&n(1,s=u.reduce(((e,t)=>e+t.review_count),0)),2050&e.$$.dirty&&n(5,r=(s/d[0]).toFixed()),4&e.$$.dirty&&n(4,a=u.map((e=>e.review_count))),4&e.$$.dirty&&n(0,o=u.map((e=>e.accuracy))),1&e.$$.dirty&&n(3,c=100*o.reduce(((e,t)=>e+t),0)/o.length)},[o,s,u,c,a,r,l,p,m,f,g,d]}class Yt extends xe{constructor(e){super(),$e(this,e,Ut,Kt,a,{})}}function Xt(e){let t,n,l,r,a,o,i,u,d,p,m;const f=e[5].default,g=function(e,t,n,l){if(e){const s=c(e,t,n,l);return e[0](s)}}(f,e,e[4],null);return{c(){t=C("div"),n=C("div"),l=k("svg"),r=k("circle"),a=k("line"),o=k("line"),i=_(),u=C("div"),g&&g.c(),q(r,"cx","6"),q(r,"cy","6"),q(r,"r","6"),q(a,"x1","3"),q(a,"y1","3"),q(a,"x2","9"),q(a,"y2","9"),q(a,"class","svelte-1lylrca"),q(o,"x1","9"),q(o,"y1","3"),q(o,"x2","3"),q(o,"y2","9"),q(o,"class","svelte-1lylrca"),q(l,"id","close"),q(l,"viewBox","0 0 12 12"),q(l,"class","svelte-1lylrca"),q(u,"id","modal-content"),q(u,"class","svelte-1lylrca"),q(n,"id","modal"),q(n,"class","svelte-1lylrca"),q(t,"id","topModal"),q(t,"class","svelte-1lylrca"),D(t,"visible",e[1])},m(s,c){var f;x(s,t,c),h(t,n),h(n,l),h(l,r),h(l,a),h(l,o),h(n,i),h(n,u),g&&g.m(u,null),e[7](t),d=!0,p||(m=[M(l,"click",e[6]),M(n,"click",(f=nn,function(e){return e.stopPropagation(),f.call(this,e)})),M(t,"click",e[8])],p=!0)},p(e,[n]){g&&g.p&&(!d||16&n)&&function(e,t,n,l,s,r){if(s){const a=c(t,n,l,r);e.p(a,s)}}(g,f,e,e[4],d?function(e,t,n,l){if(e[2]&&l){const s=e[2](l(n));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],n=Math.max(t.dirty.length,s.length);for(let l=0;l<n;l+=1)e[l]=t.dirty[l]|s[l];return e}return t.dirty|s}return t.dirty}(f,e[4],n,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[4]),null),2&n&&D(t,"visible",e[1])},i(e){d||(ue(g,e),d=!0)},o(e){de(g,e),d=!1},d(n){n&&y(t),g&&g.d(n),e[7](null),p=!1,s(m)}}}let en;const tn={};const nn=()=>{};function ln(e,t,n){let l,s,r,{$$slots:a={},$$scope:o}=t,i=!1,{id:c=""}=t;function u(e){"Escape"==e.key&&en==l&&d(null)}function d(e){i&&(window.removeEventListener("keydown",u),en=s,null==en&&(document.body.style.overflow=""),n(1,i=!1),r&&r(e))}var p;tn[c]={open:function(e){r=e,i||(s=en,en=l,window.addEventListener("keydown",u),document.body.style.overflow="hidden",n(1,i=!0),document.body.appendChild(l))},close:d},p=()=>{delete tn[c],window.removeEventListener("keydown",u)},B().$$.on_destroy.push(p);return e.$$set=e=>{"id"in e&&n(3,c=e.id),"$$scope"in e&&n(4,o=e.$$scope)},[l,i,d,c,o,a,()=>d(null),function(e){P[e?"unshift":"push"]((()=>{l=e,n(0,l)}))},()=>d(null)]}class sn extends xe{constructor(e){super(),$e(this,e,ln,Xt,a,{id:3})}}function rn(t){let n,l,r,a,o,i,c,u,d,p,m,f,g,v,b,$,w,k,T,S,A,O,D,R,E,I,L,V,H,Z,B,N,G,P,K,Q,J,U,Y,X,ee,te,ne,le,se,re,ae,oe,ie,ce,ue,de,pe,me,fe,ge,ve,he,be,$e,xe,ye,we,Ce,ke,ze,_e,Te,Me,Se,qe,je,We,Fe,Ae,Oe,De,Re,Ee,Ie,Le,Ve,He,Ze,Be,Ne,Ge,Pe,Ke,Qe,Je,Ue,Ye,Xe,et,tt,nt,lt,st,rt,at,ot=t[0].gbMinTarget+"",it=t[0].gbMaxTarget+"";return{c(){n=C("div"),l=C("h4"),l.textContent="Target minimum",r=_(),a=C("input"),o=_(),i=C("label"),c=z(ot),u=_(),d=C("h4"),d.textContent="Target maximum",p=_(),m=C("input"),f=_(),g=C("label"),v=z(it),b=_(),$=C("hr"),w=_(),k=C("table"),T=C("tbody"),S=C("tr"),A=C("th"),A.textContent="Labels",O=_(),D=C("td"),R=C("input"),E=_(),I=C("td"),L=C("input"),V=_(),H=C("td"),Z=C("input"),B=_(),N=C("thead"),N.innerHTML='<tr class="svelte-mmoi2z"><td class="svelte-mmoi2z"></td> \n        <th class="secondary center col3 svelte-mmoi2z">Below</th> \n        <th class="secondary center svelte-mmoi2z">In range</th> \n        <th class="secondary center svelte-mmoi2z">Above</th></tr>',G=_(),P=C("hr"),K=_(),Q=C("table"),J=C("thead"),J.innerHTML='<tr class="svelte-mmoi2z"><th></th> \n        <th class="col3 svelte-mmoi2z">Weight</th> \n        <th></th> \n        <th class="col5 svelte-mmoi2z">Weight</th></tr>',U=_(),Y=C("tbody"),X=C("tr"),ee=C("th"),ee.textContent="Radicals12",te=_(),ne=C("td"),le=C("input"),se=_(),re=C("th"),re.textContent="Appr34",ae=_(),oe=C("td"),ie=C("input"),ce=_(),ue=C("tr"),de=C("th"),de.textContent="Kanji12",pe=_(),me=C("td"),fe=C("input"),ge=_(),ve=C("th"),ve.textContent="Guru",he=_(),be=C("td"),$e=C("input"),xe=_(),ye=C("tr"),we=C("th"),we.textContent="Vocabulary12",Ce=_(),ke=C("td"),ze=C("input"),_e=_(),Te=C("th"),Te.textContent="Master",Me=_(),Se=C("td"),qe=C("input"),je=_(),We=C("tr"),Fe=C("td"),Ae=_(),Oe=C("td"),De=_(),Re=C("th"),Re.textContent="Enlightened",Ee=_(),Ie=C("td"),Le=C("input"),Ve=_(),He=C("hr"),Ze=_(),Be=C("table"),Ne=C("thead"),Ne.innerHTML='<tr class="svelte-mmoi2z"><td class="svelte-mmoi2z"></td> \n        <th class="secondary center col3 svelte-mmoi2z">Radicals12</th> \n        <th class="secondary center svelte-mmoi2z">Kanji12</th> \n        <th class="secondary center svelte-mmoi2z">Vocabulary12</th></tr>',Ge=_(),Pe=C("tbody"),Ke=C("tr"),Qe=C("th"),Qe.textContent="Quiz?",Je=_(),Ue=C("td"),Ye=C("input"),Xe=_(),et=C("td"),tt=C("input"),nt=_(),lt=C("td"),st=C("input"),q(l,"class","svelte-mmoi2z"),q(a,"id","targetMin"),q(a,"type","range"),q(a,"min",10),q(a,"max",300),q(a,"step",10),q(a,"class","svelte-mmoi2z"),q(i,"for","targetMin"),q(i,"class","svelte-mmoi2z"),q(d,"class","svelte-mmoi2z"),q(m,"id","targetMax"),q(m,"type","range"),q(m,"min",10),q(m,"max",300),q(m,"step",10),q(m,"class","svelte-mmoi2z"),q(g,"for","targetMax"),q(g,"class","svelte-mmoi2z"),q($,"class","svelte-mmoi2z"),q(A,"class","col2 svelte-mmoi2z"),q(R,"type","text"),q(R,"class","svelte-mmoi2z"),q(D,"class","svelte-mmoi2z"),q(L,"type","text"),q(L,"class","svelte-mmoi2z"),q(I,"class","svelte-mmoi2z"),q(Z,"type","text"),q(Z,"class","svelte-mmoi2z"),q(H,"class","svelte-mmoi2z"),q(S,"class","svelte-mmoi2z"),q(T,"class","svelte-mmoi2z"),q(N,"class","svelte-mmoi2z"),q(k,"class","svelte-mmoi2z"),q(P,"class","svelte-mmoi2z"),q(J,"class","svelte-mmoi2z"),q(ee,"class","secondary right-align col2 svelte-mmoi2z"),q(le,"class","col3 svelte-mmoi2z"),q(le,"type","number"),q(le,"min",0),q(le,"max",5),q(le,"step",.1),q(ne,"class","svelte-mmoi2z"),q(re,"class","secondary right-align col4 svelte-mmoi2z"),q(ie,"class","col5 svelte-mmoi2z"),q(ie,"type","number"),q(ie,"min",0),q(ie,"max",5),q(ie,"step",.1),q(oe,"class","svelte-mmoi2z"),q(X,"class","svelte-mmoi2z"),q(de,"class","secondary right-align col2 svelte-mmoi2z"),q(fe,"class","col3 svelte-mmoi2z"),q(fe,"type","number"),q(fe,"min",0),q(fe,"max",5),q(fe,"step",.1),q(me,"class","svelte-mmoi2z"),q(ve,"class","secondary right-align col4 svelte-mmoi2z"),q($e,"class","col5 svelte-mmoi2z"),q($e,"type","number"),q($e,"min",0),q($e,"max",5),q($e,"step",.1),q(be,"class","svelte-mmoi2z"),q(ue,"class","svelte-mmoi2z"),q(we,"class","secondary right-align col2 svelte-mmoi2z"),q(ze,"class","col3 svelte-mmoi2z"),q(ze,"type","number"),q(ze,"min",0),q(ze,"max",5),q(ze,"step",.1),q(ke,"class","svelte-mmoi2z"),q(Te,"class","secondary right-align col4 svelte-mmoi2z"),q(qe,"class","col4 svelte-mmoi2z"),q(qe,"type","number"),q(qe,"min",0),q(qe,"max",5),q(qe,"step",.1),q(Se,"class","svelte-mmoi2z"),q(ye,"class","svelte-mmoi2z"),q(Fe,"class","svelte-mmoi2z"),q(Oe,"class","svelte-mmoi2z"),q(Re,"class","secondary right-align col4 svelte-mmoi2z"),q(Le,"class","col5 svelte-mmoi2z"),q(Le,"type","number"),q(Le,"min",0),q(Le,"max",5),q(Le,"step",.1),q(Ie,"class","svelte-mmoi2z"),q(We,"class","svelte-mmoi2z"),q(Y,"class","svelte-mmoi2z"),q(Q,"class","svelte-mmoi2z"),q(He,"class","svelte-mmoi2z"),q(Ne,"class","svelte-mmoi2z"),q(Qe,"class","col2 svelte-mmoi2z"),q(Ye,"type","checkbox"),q(Ye,"name","quizTypes"),q(Ue,"class","svelte-mmoi2z"),q(tt,"type","checkbox"),q(tt,"name","quizTypes"),q(et,"class","svelte-mmoi2z"),q(st,"type","checkbox"),q(st,"name","quizTypes"),q(lt,"class","svelte-mmoi2z"),q(Ke,"class","svelte-mmoi2z"),q(Pe,"class","svelte-mmoi2z"),q(Be,"class","svelte-mmoi2z"),q(n,"class","settingsComp")},m(e,s){x(e,n,s),h(n,l),h(n,r),h(n,a),F(a,t[0].gbMinTarget),h(n,o),h(n,i),h(i,c),h(n,u),h(n,d),h(n,p),h(n,m),F(m,t[0].gbMaxTarget),h(n,f),h(n,g),h(g,v),h(n,b),h(n,$),h(n,w),h(n,k),h(k,T),h(T,S),h(S,A),h(S,O),h(S,D),h(D,R),F(R,t[0].belowTerm),h(S,E),h(S,I),h(I,L),F(L,t[0].inRangeTerm),h(S,V),h(S,H),h(H,Z),F(Z,t[0].aboveTerm),h(k,B),h(k,N),h(n,G),h(n,P),h(n,K),h(n,Q),h(Q,J),h(Q,U),h(Q,Y),h(Y,X),h(X,ee),h(X,te),h(X,ne),h(ne,le),F(le,t[0].newRWeight),h(X,se),h(X,re),h(X,ae),h(X,oe),h(oe,ie),F(ie,t[0].apprWeight),h(Y,ce),h(Y,ue),h(ue,de),h(ue,pe),h(ue,me),h(me,fe),F(fe,t[0].newKWeight),h(ue,ge),h(ue,ve),h(ue,he),h(ue,be),h(be,$e),F($e,t[0].guruWeight),h(Y,xe),h(Y,ye),h(ye,we),h(ye,Ce),h(ye,ke),h(ke,ze),F(ze,t[0].newVWeight),h(ye,_e),h(ye,Te),h(ye,Me),h(ye,Se),h(Se,qe),F(qe,t[0].masterWeight),h(Y,je),h(Y,We),h(We,Fe),h(We,Ae),h(We,Oe),h(We,De),h(We,Re),h(We,Ee),h(We,Ie),h(Ie,Le),F(Le,t[0].enlightenedWeight),h(n,Ve),h(n,He),h(n,Ze),h(n,Be),h(Be,Ne),h(Be,Ge),h(Be,Pe),h(Pe,Ke),h(Ke,Qe),h(Ke,Je),h(Ke,Ue),h(Ue,Ye),Ye.checked=t[0].rQuiz,h(Ke,Xe),h(Ke,et),h(et,tt),tt.checked=t[0].kQuiz,h(Ke,nt),h(Ke,lt),h(lt,st),st.checked=t[0].vQuiz,rt||(at=[M(a,"change",t[1]),M(a,"input",t[1]),M(m,"change",t[2]),M(m,"input",t[2]),M(R,"input",t[3]),M(L,"input",t[4]),M(Z,"input",t[5]),M(le,"input",t[6]),M(ie,"input",t[7]),M(fe,"input",t[8]),M($e,"input",t[9]),M(ze,"input",t[10]),M(qe,"input",t[11]),M(Le,"input",t[12]),M(Ye,"change",t[13]),M(tt,"change",t[14]),M(st,"change",t[15])],rt=!0)},p(e,[t]){1&t&&F(a,e[0].gbMinTarget),1&t&&ot!==(ot=e[0].gbMinTarget+"")&&W(c,ot),1&t&&F(m,e[0].gbMaxTarget),1&t&&it!==(it=e[0].gbMaxTarget+"")&&W(v,it),1&t&&R.value!==e[0].belowTerm&&F(R,e[0].belowTerm),1&t&&L.value!==e[0].inRangeTerm&&F(L,e[0].inRangeTerm),1&t&&Z.value!==e[0].aboveTerm&&F(Z,e[0].aboveTerm),1&t&&j(le.value)!==e[0].newRWeight&&F(le,e[0].newRWeight),1&t&&j(ie.value)!==e[0].apprWeight&&F(ie,e[0].apprWeight),1&t&&j(fe.value)!==e[0].newKWeight&&F(fe,e[0].newKWeight),1&t&&j($e.value)!==e[0].guruWeight&&F($e,e[0].guruWeight),1&t&&j(ze.value)!==e[0].newVWeight&&F(ze,e[0].newVWeight),1&t&&j(qe.value)!==e[0].masterWeight&&F(qe,e[0].masterWeight),1&t&&j(Le.value)!==e[0].enlightenedWeight&&F(Le,e[0].enlightenedWeight),1&t&&(Ye.checked=e[0].rQuiz),1&t&&(tt.checked=e[0].kQuiz),1&t&&(st.checked=e[0].vQuiz)},i:e,o:e,d(e){e&&y(n),rt=!1,s(at)}}}function an(e,t,n){let{values:l}=t;return e.$$set=e=>{"values"in e&&n(0,l=e.values)},[l,function(){l.gbMinTarget=j(this.value),n(0,l)},function(){l.gbMaxTarget=j(this.value),n(0,l)},function(){l.belowTerm=this.value,n(0,l)},function(){l.inRangeTerm=this.value,n(0,l)},function(){l.aboveTerm=this.value,n(0,l)},function(){l.newRWeight=j(this.value),n(0,l)},function(){l.apprWeight=j(this.value),n(0,l)},function(){l.newKWeight=j(this.value),n(0,l)},function(){l.guruWeight=j(this.value),n(0,l)},function(){l.newVWeight=j(this.value),n(0,l)},function(){l.masterWeight=j(this.value),n(0,l)},function(){l.enlightenedWeight=j(this.value),n(0,l)},function(){l.rQuiz=this.checked,n(0,l)},function(){l.kQuiz=this.checked,n(0,l)},function(){l.vQuiz=this.checked,n(0,l)}]}class on extends xe{constructor(e){super(),$e(this,e,an,rn,a,{values:0})}}function cn(t){let n,l,r,a,o,i,c,u,d,p,m,f,g,v,b,$,w,k,T,S,j,A,O,D,R,E,I,L,V=t[0].targetSpeed+"",H=t[0].speedMin+"",Z=t[0].speedMax+"";return{c(){n=C("div"),l=C("h4"),l.textContent="Speed Target",r=_(),a=C("input"),o=_(),i=C("label"),c=z(V),u=z(" seconds"),d=_(),p=C("hr"),m=_(),f=C("h4"),f.textContent="Warnings",g=_(),v=C("input"),b=_(),$=C("label"),w=z("below "),k=z(H),T=z(" seconds"),S=_(),j=C("input"),A=_(),O=C("label"),D=z("above "),R=z(Z),E=z(" seconds"),q(l,"class","svelte-62sb6n"),q(a,"id","speedTarget"),q(a,"type","range"),q(a,"min","1"),q(a,"max","15"),q(a,"step","0.2"),q(a,"class","svelte-62sb6n"),q(i,"for","speedTarget"),q(i,"class","svelte-62sb6n"),q(p,"class","svelte-62sb6n"),q(f,"class","svelte-62sb6n"),q(v,"id","minWarning"),q(v,"type","range"),q(v,"min",1),q(v,"max",15),q(v,"step",.1),q(v,"class","svelte-62sb6n"),q($,"for","minWarning"),q($,"class","svelte-62sb6n"),q(j,"id","maxWarning"),q(j,"type","range"),q(j,"min",1),q(j,"max",15),q(j,"step",.1),q(j,"class","svelte-62sb6n"),q(O,"for","maxWarning"),q(O,"class","svelte-62sb6n"),q(n,"class","settingsComp")},m(e,s){x(e,n,s),h(n,l),h(n,r),h(n,a),F(a,t[0].targetSpeed),h(n,o),h(n,i),h(i,c),h(i,u),h(n,d),h(n,p),h(n,m),h(n,f),h(n,g),h(n,v),F(v,t[0].speedMin),h(n,b),h(n,$),h($,w),h($,k),h($,T),h(n,S),h(n,j),F(j,t[0].speedMax),h(n,A),h(n,O),h(O,D),h(O,R),h(O,E),I||(L=[M(a,"change",t[1]),M(a,"input",t[1]),M(v,"change",t[2]),M(v,"input",t[2]),M(j,"change",t[3]),M(j,"input",t[3])],I=!0)},p(e,[t]){1&t&&F(a,e[0].targetSpeed),1&t&&V!==(V=e[0].targetSpeed+"")&&W(c,V),1&t&&F(v,e[0].speedMin),1&t&&H!==(H=e[0].speedMin+"")&&W(k,H),1&t&&F(j,e[0].speedMax),1&t&&Z!==(Z=e[0].speedMax+"")&&W(R,Z)},i:e,o:e,d(e){e&&y(n),I=!1,s(L)}}}function un(e,t,n){let{values:l}=t;return e.$$set=e=>{"values"in e&&n(0,l=e.values)},[l,function(){l.targetSpeed=j(this.value),n(0,l)},function(){l.speedMin=j(this.value),n(0,l)},function(){l.speedMax=j(this.value),n(0,l)}]}class dn extends xe{constructor(e){super(),$e(this,e,un,cn,a,{values:0})}}function pn(t){let n,l,r,a,o,i,c,u,d,p,m,f,g,v,b,$,w=t[0].rpdMin+"",k=t[0].rpdMax+"";return{c(){n=C("div"),l=C("h4"),l.textContent="Target Reviews-per-day",r=_(),a=C("input"),o=_(),i=C("label"),c=z(w),u=z(" reviews min"),d=_(),p=C("input"),m=_(),f=C("label"),g=z(k),v=z(" reviews max"),q(l,"class","svelte-164pmcj"),q(a,"id","rpdMin"),q(a,"type","range"),q(a,"min",10),q(a,"max",290),q(a,"step",10),q(a,"class","svelte-164pmcj"),q(i,"for","rpdTarget"),q(i,"class","svelte-164pmcj"),q(p,"id","rpdMax"),q(p,"type","range"),q(p,"min",20),q(p,"max",300),q(p,"step",10),q(p,"class","svelte-164pmcj"),q(f,"for","rpdTarget"),q(f,"class","svelte-164pmcj"),q(n,"class","settingsComp")},m(e,s){x(e,n,s),h(n,l),h(n,r),h(n,a),F(a,t[0].rpdMin),h(n,o),h(n,i),h(i,c),h(i,u),h(n,d),h(n,p),F(p,t[0].rpdMax),h(n,m),h(n,f),h(f,g),h(f,v),b||($=[M(a,"change",t[1]),M(a,"input",t[1]),M(p,"change",t[2]),M(p,"input",t[2])],b=!0)},p(e,[t]){1&t&&F(a,e[0].rpdMin),1&t&&w!==(w=e[0].rpdMin+"")&&W(c,w),1&t&&F(p,e[0].rpdMax),1&t&&k!==(k=e[0].rpdMax+"")&&W(g,k)},i:e,o:e,d(e){e&&y(n),b=!1,s($)}}}function mn(e,t,n){let{values:l}=t;return e.$$set=e=>{"values"in e&&n(0,l=e.values)},[l,function(){l.rpdMin=j(this.value),n(0,l)},function(){l.rpdMax=j(this.value),n(0,l)}]}class fn extends xe{constructor(e){super(),$e(this,e,mn,pn,a,{values:0})}}function gn(e){let t,n,l,r,a,o,i,c,u,d,p,m,f,g,v,b,$,w,k,T,S,j,W,A,D,R,E,I,L,V,H,Z,B,N,G,P,K,Q,J,U,X,ee,te,ne,le,se,re,ae,oe,ie,ce,pe,me,fe,be,$e,xe;return a=new ct({props:{value:.4,label:"Sample",needle:!0,lowZone:!0,hiZone:!0}}),i=new Zt({props:{values:[7,10,8],labels:["Mon","Tue","Wed"],expected:7,minTarget:2,maxTarget:9,percents:[.66,.8,.75]}}),{c(){t=C("div"),n=C("div"),l=C("div"),l.textContent="Warning Color",r=_(),ge(a.$$.fragment),o=_(),ge(i.$$.fragment),u=_(),d=C("div"),p=C("label"),m=z("Bgnd\n      "),f=C("input"),g=_(),v=C("label"),b=z("Track\n    "),$=C("input"),w=_(),k=C("label"),T=z("Text\n      "),S=C("input"),j=_(),W=C("label"),A=z("hlText\n      "),D=C("input"),R=_(),E=C("div"),I=C("label"),L=z("Fill\n      "),V=C("input"),H=_(),Z=C("label"),B=z("Warn\n      "),N=C("input"),G=_(),P=C("label"),K=z("hlTrack\n      "),Q=C("input"),J=_(),U=C("button"),U.textContent="Set light",X=_(),ee=C("button"),ee.textContent="Set dark",te=_(),ne=C("hr"),le=_(),se=C("div"),re=C("label"),re.textContent="Position",ae=_(),oe=C("select"),ie=C("option"),ie.textContent="Top",ce=C("option"),ce.textContent="Below Forecast",pe=C("option"),pe.textContent="Below SRS",me=C("option"),me.textContent="Below Panels",fe=C("option"),fe.textContent="Bottom",q(l,"class","warnBox svelte-i87jv8"),q(n,"class","colorSample svelte-i87jv8"),q(n,"style",c=` \n      background-color: ${e[0].bgColor};\n      --bgColor: ${e[0].bgColor}; \n      --trackColor: ${e[0].hlTrackColor}; \n      --textColor: ${e[0].textColor}; \n      --hlTextColor: ${e[0].hlTextColor}; \n      --fillColor: ${e[0].fillColor}; \n      --warnColor: ${e[0].warnColor}; \n      --hlTrackColor: ${e[0].trackColor};`),q(f,"type","color"),q(f,"class","svelte-i87jv8"),q(p,"class","svelte-i87jv8"),q($,"type","color"),q($,"class","svelte-i87jv8"),q(v,"class","svelte-i87jv8"),q(S,"type","color"),q(S,"class","svelte-i87jv8"),q(k,"class","svelte-i87jv8"),q(D,"type","color"),q(D,"class","svelte-i87jv8"),q(W,"class","svelte-i87jv8"),q(d,"class","colorInputs svelte-i87jv8"),q(V,"type","color"),q(V,"class","svelte-i87jv8"),q(I,"class","svelte-i87jv8"),q(N,"type","color"),q(N,"class","svelte-i87jv8"),q(Z,"class","svelte-i87jv8"),q(Q,"type","color"),q(Q,"class","svelte-i87jv8"),q(P,"class","svelte-i87jv8"),q(E,"class","colorInputs svelte-i87jv8"),q(U,"class","light svelte-i87jv8"),q(ee,"class","dark svelte-i87jv8"),q(ne,"class","svelte-i87jv8"),q(re,"for","position-select"),q(re,"class","svelte-i87jv8"),ie.__value="Top",ie.value=ie.__value,ce.__value="Below Forecast",ce.value=ce.__value,pe.__value="Below SRS",pe.value=pe.__value,me.__value="Below Panels",me.value=me.__value,fe.__value="Bottom",fe.value=fe.__value,q(oe,"name","positions"),q(oe,"id","position-select"),q(oe,"class","svelte-i87jv8"),void 0===e[0].position&&Y((()=>e[10].call(oe))),q(se,"class","position svelte-i87jv8"),q(t,"class","settingsComp")},m(s,c){x(s,t,c),h(t,n),h(n,l),h(n,r),ve(a,n,null),h(n,o),ve(i,n,null),h(t,u),h(t,d),h(d,p),h(p,m),h(p,f),F(f,e[0].bgColor),h(d,g),h(d,v),h(v,b),h(v,$),F($,e[0].trackColor),h(d,w),h(d,k),h(k,T),h(k,S),F(S,e[0].textColor),h(d,j),h(d,W),h(W,A),h(W,D),F(D,e[0].hlTextColor),h(t,R),h(t,E),h(E,I),h(I,L),h(I,V),F(V,e[0].fillColor),h(E,H),h(E,Z),h(Z,B),h(Z,N),F(N,e[0].warnColor),h(E,G),h(E,P),h(P,K),h(P,Q),F(Q,e[0].hlTrackColor),h(t,J),h(t,U),h(t,X),h(t,ee),h(t,te),h(t,ne),h(t,le),h(t,se),h(se,re),h(se,ae),h(se,oe),h(oe,ie),h(oe,ce),h(oe,pe),h(oe,me),h(oe,fe),O(oe,e[0].position),be=!0,$e||(xe=[M(f,"input",e[3]),M($,"input",e[4]),M(S,"input",e[5]),M(D,"input",e[6]),M(V,"input",e[7]),M(N,"input",e[8]),M(Q,"input",e[9]),M(U,"click",e[1]),M(ee,"click",e[2]),M(oe,"change",e[10])],$e=!0)},p(e,[t]){(!be||1&t&&c!==(c=` \n      background-color: ${e[0].bgColor};\n      --bgColor: ${e[0].bgColor}; \n      --trackColor: ${e[0].hlTrackColor}; \n      --textColor: ${e[0].textColor}; \n      --hlTextColor: ${e[0].hlTextColor}; \n      --fillColor: ${e[0].fillColor}; \n      --warnColor: ${e[0].warnColor}; \n      --hlTrackColor: ${e[0].trackColor};`))&&q(n,"style",c),1&t&&F(f,e[0].bgColor),1&t&&F($,e[0].trackColor),1&t&&F(S,e[0].textColor),1&t&&F(D,e[0].hlTextColor),1&t&&F(V,e[0].fillColor),1&t&&F(N,e[0].warnColor),1&t&&F(Q,e[0].hlTrackColor),1&t&&O(oe,e[0].position)},i(e){be||(ue(a.$$.fragment,e),ue(i.$$.fragment,e),be=!0)},o(e){de(a.$$.fragment,e),de(i.$$.fragment,e),be=!1},d(e){e&&y(t),he(a),he(i),$e=!1,s(xe)}}}function vn(e,t,n){let{values:l}=t;return e.$$set=e=>{"values"in e&&n(0,l=e.values)},[l,()=>{n(0,l.bgColor="#f4f4f4",l),n(0,l.trackColor="#d1e8d4",l),n(0,l.textColor="#333333",l),n(0,l.hlTextColor="#fbb623",l),n(0,l.fillColor="#59c273",l),n(0,l.warnColor="#fbb623",l),n(0,l.hlTrackColor="#d1e8d4",l)},()=>{n(0,l.bgColor="#232629",l),n(0,l.trackColor="#e0e0e0",l),n(0,l.textColor="#ffffff",l),n(0,l.hlTextColor="#fcbd4b",l),n(0,l.fillColor="#59c273",l),n(0,l.warnColor="#fcbd4b",l),n(0,l.hlTrackColor="#d1e8d4",l)},function(){l.bgColor=this.value,n(0,l)},function(){l.trackColor=this.value,n(0,l)},function(){l.textColor=this.value,n(0,l)},function(){l.hlTextColor=this.value,n(0,l)},function(){l.fillColor=this.value,n(0,l)},function(){l.warnColor=this.value,n(0,l)},function(){l.hlTrackColor=this.value,n(0,l)},function(){l.position=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,l)}]}class hn extends xe{constructor(e){super(),$e(this,e,vn,gn,a,{values:0})}}function bn(t){let n,l,r,a,o,i,c,u,d,p,m,f,g,v,b,$,w,k,T,S=t[0].madCutoff+"",j=t[0].tzOffset+"";return{c(){n=C("div"),l=C("h4"),l.textContent="MAD cutoff",r=_(),a=C("input"),o=_(),i=C("label"),c=z(S),u=_(),d=C("hr"),p=_(),m=C("h4"),m.textContent="Timezone Offset",f=_(),g=C("input"),v=_(),b=C("label"),$=z(j),w=z(" hours"),q(l,"class","svelte-62sb6n"),q(a,"id","madCutoff"),q(a,"type","range"),q(a,"min","2"),q(a,"max","15"),q(a,"class","svelte-62sb6n"),q(i,"for","madCutoff"),q(i,"class","svelte-62sb6n"),q(d,"class","svelte-62sb6n"),q(m,"class","svelte-62sb6n"),g.disabled=!0,q(g,"id","tzOffset"),q(g,"type","range"),q(g,"min","-23"),q(g,"max","23"),q(g,"class","svelte-62sb6n"),q(b,"for","tzOffset"),q(b,"class","svelte-62sb6n"),q(n,"class","settingsComp")},m(e,s){x(e,n,s),h(n,l),h(n,r),h(n,a),F(a,t[0].madCutoff),h(n,o),h(n,i),h(i,c),h(n,u),h(n,d),h(n,p),h(n,m),h(n,f),h(n,g),F(g,t[0].tzOffset),h(n,v),h(n,b),h(b,$),h(b,w),k||(T=[M(a,"change",t[1]),M(a,"input",t[1]),M(g,"change",t[2]),M(g,"input",t[2])],k=!0)},p(e,[t]){1&t&&F(a,e[0].madCutoff),1&t&&S!==(S=e[0].madCutoff+"")&&W(c,S),1&t&&F(g,e[0].tzOffset),1&t&&j!==(j=e[0].tzOffset+"")&&W($,j)},i:e,o:e,d(e){e&&y(n),k=!1,s(T)}}}function $n(e,t,n){let{values:l}=t;return e.$$set=e=>{"values"in e&&n(0,l=e.values)},[l,function(){l.madCutoff=j(this.value),n(0,l)},function(){l.tzOffset=j(this.value),n(0,l)}]}class xn extends xe{constructor(e){super(),$e(this,e,$n,bn,a,{values:0})}}function yn(e){let t,n;return t=new xn({props:{values:e[0]}}),{c(){ge(t.$$.fragment)},m(e,l){ve(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.values=e[0]),t.$set(l)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){he(t,e)}}}function wn(e){let t,n;return t=new hn({props:{values:e[0]}}),{c(){ge(t.$$.fragment)},m(e,l){ve(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.values=e[0]),t.$set(l)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){he(t,e)}}}function Cn(e){let t,n;return t=new fn({props:{values:e[0]}}),{c(){ge(t.$$.fragment)},m(e,l){ve(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.values=e[0]),t.$set(l)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){he(t,e)}}}function kn(e){let t,n;return t=new dn({props:{values:e[0]}}),{c(){ge(t.$$.fragment)},m(e,l){ve(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.values=e[0]),t.$set(l)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){he(t,e)}}}function zn(e){let t,n;return t=new on({props:{values:e[0]}}),{c(){ge(t.$$.fragment)},m(e,l){ve(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.values=e[0]),t.$set(l)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){he(t,e)}}}function _n(e){let t,n,l,r,a,o,i,c,u,d,p,m,f,g,v,b,$,w,k,z,T,j,W,F,A,O;const R=[zn,kn,Cn,wn,yn],E=[];function I(e,t){return"Ganbarometer"==e[1]?0:"Speed"==e[1]?1:"Reviews"==e[1]?2:"Appearance"==e[1]?3:"Advanced"==e[1]?4:-1}return~(j=I(e))&&(W=E[j]=R[j](e)),{c(){t=C("form"),n=C("h1"),n.textContent="Ganbarometer Settings",l=_(),r=C("div"),a=C("nav"),o=C("li"),o.textContent="Ganbarometer",i=_(),c=C("li"),c.textContent="Speed",u=_(),d=C("li"),d.textContent="Reviews",p=_(),m=C("li"),m.textContent="Appearance",f=_(),g=C("li"),g.textContent="Advanced",v=_(),b=C("div"),$=C("button"),$.textContent="Defaults",w=_(),k=C("button"),k.textContent="Save",z=_(),T=C("div"),W&&W.c(),q(n,"class","title svelte-zs7nf6"),q(o,"class","svelte-zs7nf6"),D(o,"active","Ganbarometer"===e[1]),q(c,"class","svelte-zs7nf6"),D(c,"active","Speed"===e[1]),q(d,"class","svelte-zs7nf6"),D(d,"active","Reviews"===e[1]),q(m,"class","svelte-zs7nf6"),D(m,"active","Appearance"===e[1]),q(g,"class","svelte-zs7nf6"),D(g,"active","Advanced"===e[1]),q(a,"class","nav svelte-zs7nf6"),q($,"class","defaultButton svelte-zs7nf6"),q(k,"type","submit"),q(k,"class","svelte-zs7nf6"),q(b,"class","actions"),q(r,"class","menu svelte-zs7nf6"),q(T,"class","formInputs svelte-zs7nf6"),q(t,"aria-label","Settings Form"),q(t,"class","settingsForm svelte-zs7nf6")},m(s,y){x(s,t,y),h(t,n),h(t,l),h(t,r),h(r,a),h(a,o),h(a,i),h(a,c),h(a,u),h(a,d),h(a,p),h(a,m),h(a,f),h(a,g),h(r,v),h(r,b),h(b,$),h(b,w),h(b,k),h(t,z),h(t,T),~j&&E[j].m(T,null),F=!0,A||(O=[M(o,"click",e[4]("Ganbarometer")),M(c,"click",e[4]("Speed")),M(d,"click",e[4]("Reviews")),M(m,"click",e[4]("Appearance")),M(g,"click",e[4]("Advanced")),M($,"click",e[3]),M(t,"submit",S(e[2]))],A=!0)},p(e,[t]){2&t&&D(o,"active","Ganbarometer"===e[1]),2&t&&D(c,"active","Speed"===e[1]),2&t&&D(d,"active","Reviews"===e[1]),2&t&&D(m,"active","Appearance"===e[1]),2&t&&D(g,"active","Advanced"===e[1]);let n=j;j=I(e),j===n?~j&&E[j].p(e,t):(W&&(ie(),de(E[n],1,1,(()=>{E[n]=null})),ce()),~j?(W=E[j],W?W.p(e,t):(W=E[j]=R[j](e),W.c()),ue(W,1),W.m(T,null)):W=null)},i(e){F||(ue(W),F=!0)},o(e){de(W),F=!1},d(e){e&&y(t),~j&&E[j].d(),A=!1,s(O)}}}function Tn(e,t,n){let l;i(e,kt,(e=>n(5,l=e)));let s=Object.assign({},l);let r="Ganbarometer";return[s,r,()=>{u(kt,l=Object.assign(Object.assign({},l),s),l)},()=>{n(0,s=Object.assign({},Ct))},e=>()=>n(1,r=e)]}class Mn extends xe{constructor(e){super(),$e(this,e,Tn,_n,a,{})}}function Sn(t){let n,l,s;return{c(){n=C("button"),n.innerHTML='<svg id="b76ee484-33fd-42f4-92f5-780eb817404e" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 344.6 297.7"><path d="M200.9,314.2l-43.7,27.5a15.4,15.4,0,0,1-21.2-4.8L31,169.9a15.4,15.4,0,0,1,4.8-21.2l57.1-35.9L144,80.7" transform="translate(-23.6 -51.3)" style="fill: none;stroke: var(--textColor);stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path d="M197.2,286.8,147.9,284a15.4,15.4,0,0,1-14.5-16.2l9.9-170.3.9-16.3.6-10.4a15.4,15.4,0,0,1,16.3-14.4l132,7.6a15.4,15.4,0,0,1,14.5,16.2l-.6,10" transform="translate(-23.6 -51.3)" style="fill: none;stroke: var(--textColor);stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path d="M200.9,314.2l.7,5.1a15.3,15.3,0,0,0,17.3,13.1L350,314.5a15.3,15.3,0,0,0,13.1-17.3L336.4,101.7a15.3,15.3,0,0,0-17.3-13.1L307,90.2,188,106.5a15.3,15.3,0,0,0-13.1,17.3l22.3,163Z" transform="translate(-23.6 -51.3)" style="fill: none;stroke: var(--textColor);stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path style="fill: var(--textColor); stroke: none;stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px" d="M306.6,155.8c7.9-1.8,12.3.4,14.1,7.8l3.8,16.2c.6,2.5-.8,4.5-4.2,5.2s-5.3-.3-5.9-2.8L311,167.9c-.7-3.1-2.1-3.5-5.1-2.7l-90.6,21.4c-2.8.6-4,1.6-3.3,4.7l3.4,14.3c.6,2.5-1.1,4.5-4.1,5.2s-5.4-.3-5.9-2.8l-3.9-16.3c-1.7-7.3,1.1-11.3,9.1-13.2l14.6-3.5a151.7,151.7,0,0,0-11.7-10.7,3.8,3.8,0,0,1-1.3-1.9c-.4-1.5.4-3.2,2.2-4.3a10,10,0,0,1,2.5-1,5.2,5.2,0,0,1,4.6.8,144.6,144.6,0,0,1,14.9,14.5l19.7-4.7a110.2,110.2,0,0,0-10.9-12.4,3.6,3.6,0,0,1-1.2-1.7c-.4-1.7.6-3.4,2.6-4.6l2.1-.9a5,5,0,0,1,5,1.6,87.1,87.1,0,0,1,12.9,15.6l14.6-3.5a80.5,80.5,0,0,0,6.4-19.3,4.7,4.7,0,0,1,3.6-3.6,8.6,8.6,0,0,1,2.8-.1c2.5.2,3.9,1.3,4.3,3a2.8,2.8,0,0,1-.1,2,71.7,71.7,0,0,1-5.8,15.4Zm-60.2,94.6c-7.4,1.8-11.6-.4-13.2-7.3l-9.1-38.5c-1.7-7.2,1.2-10.8,9.2-12.7L292,178c8-1.9,12.3.1,14,7.2l9.1,38.5c1.6,6.9-1.1,10.7-8.6,12.5l-12.7,3,4,16.7c.7,3,2.1,3.9,4.2,3.7s6.5-1,13.1-2.6,9.9-2.3,12.1-3.5a6,6,0,0,0,3.7-4.1c.5-2.2.2-6-.6-11.4-.5-2.3.7-4.2,3.6-4.9l1.1-.3c3.4-.5,5.3,1.1,6,3.7v.3c1,6.2,1.2,13.7,0,17s-4,5.9-8,7.7-7.9,2.9-16.1,4.9-15.1,3.4-18.6,3.5c-5.1,0-8.9-2.1-10.4-8.3l-4.7-19.9-17.5,4.2c.3,19.7-14,33.8-37.1,43.2a3.1,3.1,0,0,1-1.2.5,5.2,5.2,0,0,1-6.4-3.2,3.5,3.5,0,0,1-.5-1.3c-.6-2.6.7-4.7,3.2-5.7,20-7.7,30.7-17.5,31.1-31Zm51.5-56.1-1.3-5.8c-.6-2.5-2-2.9-4.5-2.3l-55.2,13c-2.5.6-3.5,1.6-3,4.1l1.4,5.8Zm3.9,16.5-2.1-8.9-62.6,14.8,2.1,8.9ZM241,233.2l1.6,6.6c.6,2.5,2,2.9,4.5,2.3l55.1-13c2.5-.6,3.6-1.6,3-4.1l-1.6-6.6Z" transform="translate(-23.6 -51.3)"></path></svg>',q(n,"class","quiz-button svelte-o42zy6")},m(e,r){x(e,n,r),l||(s=M(n,"click",t[0]),l=!0)},p:e,i:e,o:e,d(e){e&&y(n),l=!1,s()}}}function qn(e){return[function(t){N.call(this,e,t)}]}class jn extends xe{constructor(e){super(),$e(this,e,qn,Sn,a,{})}}function Wn(t){let n,l,s;return{c(){n=C("button"),n.innerHTML='<svg id="edd52277-873a-4c78-9f5a-11032a27aff1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 297 292"><path d="M163.5,98h180m-287,0h30m226,102h31m-287,0h179m-72,102h180m-287,0h30m77-204.5A38.5,38.5,0,1,0,125,136,38.5,38.5,0,0,0,163.5,97.5ZM125,264a38.5,38.5,0,1,0,38.5,38.5A38.5,38.5,0,0,0,125,264ZM274,161a38.5,38.5,0,1,0,38.5,38.5A38.5,38.5,0,0,0,274,161Z" transform="translate(-51.5 -54)" style="fill: none;stroke: var(--textColor);stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path></svg>',q(n,"aria-label","settings"),q(n,"class","settings svelte-1gfktvr")},m(e,r){x(e,n,r),l||(s=M(n,"click",t[0]),l=!0)},p:e,i:e,o:e,d(e){e&&y(n),l=!1,s()}}}function Fn(e){return[function(t){N.call(this,e,t)}]}class An extends xe{constructor(e){super(),$e(this,e,Fn,Wn,a,{})}}const On=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),Dn=e=>{if(0===e.length)return 0;const t=e.slice().sort(((e,t)=>e-t)),n=Math.floor(t.length/2);return t.length%2?t[n]:(t[n-1]+t[n])/2},Rn=e=>{if(0===e.length)return[];const t=(e=>{const t=e.map((e=>e.duration)),n=Math.min(...t);if(Math.max(...t),n>6e5)return t.map(((e,t)=>t));{const n=Dn(t),l=e.map((e=>Math.abs(e.duration-n))),s=1.4826,r=Dn(l)*s,a=l.map((e=>r>0?Math.abs(e-n)/r:Math.abs(e-n)/n)),o=10,i=a[a.length-1]>o?a:[...a.slice(0,-1),999999];return e.map(((e,t)=>t)).filter(((e,t)=>i[t]>o))}})(e),n=[0,...t.map((e=>e+1))].slice(0,-1);return t.map(((t,l)=>({reviews:e.slice(n[l],t+1)}))).map((e=>({questions:e.reviews.reduce(((e,t)=>e+t.questions),0),reading_incorrect:e.reviews.reduce(((e,t)=>e+t.reading_incorrect),0),meaning_incorrect:e.reviews.reduce(((e,t)=>e+t.meaning_incorrect),0),startTime:e.reviews[0].started,endTime:e.reviews[e.reviews.length-1].started,reviews:e.reviews})))};let En;const In=async e=>{if(!En||!En[e]){wkof.include("ItemData"),await wkof.ready("ItemData");let e=await wkof.ItemData.get_items();En=await wkof.ItemData.get_index(e,"subject_id")}return En[e]},Ln=e=>({subject_id:e.data.subject_id,started:new Date(e.data.created_at),duration:0,reading_incorrect:+e.data.incorrect_reading_answers,meaning_incorrect:+e.data.incorrect_meaning_answers,questions:0}),Vn=(e,t,n)=>{if(n[t+1]){const l=n[t+1].started.getTime(),s=e.started.getTime();if(l<s)throw"Reviews not in sequential creation order!";return Object.assign(Object.assign({},e),{duration:l-s})}return e},Hn=async e=>{if(!(null==e?void 0:e.length))return[];const t=e.map(Ln).map(Vn),n=await(async e=>{let t=e.slice();for(let e of t){const t=await In(+e.subject_id);e.questions="radical"===t.object?1:2,e.questions+=e.meaning_incorrect+e.reading_incorrect}return t})(t);let l=n.slice(0,-1).map((e=>e.duration)),s=Dn(l);return n.length&&(n[n.length-1].duration=s),n},Zn=async e=>{const t=((e=0)=>{const t=new Date;let n,l=t.getTime()-3600*t.getHours()*1e3-60*t.getMinutes()*1e3-1e3*t.getSeconds()-t.getMilliseconds();return n=e>1?new Date(l-24*(e-1)*3600*1e3):new Date(l),n})(e);wkof.include("Apiv2"),await wkof.ready("Apiv2");const n=await wkof.Apiv2.fetch_endpoint("reviews",{last_update:t.toISOString()});return Hn(null==n?void 0:n.data)},Bn=/[a-zA-Z]/,Nn=(e,t=0)=>[...Array(e).keys()].map((e=>e+t));function Gn(e,t,n){const l=e.slice();return l[6]=t[n],l}function Pn(e){let t;return{c(){t=C("div"),q(t,"class","dot svelte-14w6xk7"),A(t,"--dotSize",.25*+e[3]+e[1]),A(t,"--color",e[0]),A(t,"animation-delay",e[6]*(+e[5]/10)+e[4])},m(e,n){x(e,t,n)},p(e,n){10&n&&A(t,"--dotSize",.25*+e[3]+e[1]),1&n&&A(t,"--color",e[0])},d(e){e&&y(t)}}}function Kn(t){let n,l=Nn(3,1),s=[];for(let e=0;e<l.length;e+=1)s[e]=Pn(Gn(t,l,e));return{c(){n=C("div");for(let e=0;e<s.length;e+=1)s[e].c();q(n,"class","wrapper svelte-14w6xk7"),A(n,"--size",t[3]+t[1]),A(n,"--duration",t[2])},m(e,t){x(e,n,t);for(let e=0;e<s.length;e+=1)s[e].m(n,null)},p(e,[t]){if(59&t){let r;for(l=Nn(3,1),r=0;r<l.length;r+=1){const a=Gn(e,l,r);s[r]?s[r].p(a,t):(s[r]=Pn(a),s[r].c(),s[r].m(n,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}10&t&&A(n,"--size",e[3]+e[1]),4&t&&A(n,"--duration",e[2])},i:e,o:e,d(e){e&&y(n),w(s,e)}}}function Qn(e,t,n){let{color:l="#FF3E00"}=t,{unit:s="px"}=t,{duration:r="0.6s"}=t,{size:a="60"}=t,o=r.match(Bn)[0],i=r.replace(Bn,"");return e.$$set=e=>{"color"in e&&n(0,l=e.color),"unit"in e&&n(1,s=e.unit),"duration"in e&&n(2,r=e.duration),"size"in e&&n(3,a=e.size)},[l,s,r,a,o,i]}class Jn extends xe{constructor(e){super(),$e(this,e,Qn,Kn,a,{color:0,unit:1,duration:2,size:3})}}function Un(e){let t,n,l,s;return n=new Jn({props:{color:e[5].warnColor,size:"25",unit:"px"}}),{c(){t=C("div"),ge(n.$$.fragment),q(t,"class","spinner svelte-omqo3m")},m(e,l){x(e,t,l),ve(n,t,null),s=!0},p(e,t){const l={};32&t&&(l.color=e[5].warnColor),n.$set(l)},i(e){s||(ue(n.$$.fragment,e),Y((()=>{l||(l=fe(t,ut,{},!0)),l.run(1)})),s=!0)},o(e){de(n.$$.fragment,e),l||(l=fe(t,ut,{},!1)),l.run(0),s=!1},d(e){e&&y(t),he(n),e&&l&&l.end()}}}function Yn(t){let n,l;return n=new jn({}),n.$on("click",t[6]),{c(){ge(n.$$.fragment)},m(e,t){ve(n,e,t),l=!0},p:e,i(e){l||(ue(n.$$.fragment,e),l=!0)},o(e){de(n.$$.fragment,e),l=!1},d(e){he(n,e)}}}function Xn(e){let t,n;return t=new Mn({}),{c(){ge(t.$$.fragment)},m(e,l){ve(t,e,l),n=!0},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){he(t,e)}}}function el(e){let t,n,l,r,a,o,i,c,u,d,p,m,f,g,v,b,$,w,k,z,T,j,W,F,A,O,R=e[1]&&Un(e);function E(t){e[9](t)}let I={float:!0,pips:!0,suffix:e[3],min:1,max:7};void 0!==e[0]&&(I.values=e[0]),u=new tt({props:I}),P.push((()=>function(e,t,n){const l=e.$$.props[t];void 0!==l&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}(u,"values",E)));let L=e[2]&&Yn(e);return g=new An({}),g.$on("click",e[10]),$=new St({}),k=new Dt({}),T=new Yt({}),W=new sn({props:{$$slots:{default:[Xn]},$$scope:{ctx:e}}}),{c(){t=C("div"),n=C("nav"),l=C("li"),l.textContent="Graphs",r=_(),a=C("li"),a.textContent="Data",o=_(),R&&R.c(),i=_(),c=C("div"),ge(u.$$.fragment),p=_(),m=C("div"),L&&L.c(),f=_(),ge(g.$$.fragment),v=_(),b=C("div"),ge($.$$.fragment),w=_(),ge(k.$$.fragment),z=_(),ge(T.$$.fragment),j=_(),ge(W.$$.fragment),q(l,"class","svelte-omqo3m"),D(l,"active","chart"===e[4]),q(a,"class","svelte-omqo3m"),D(a,"active","data"===e[4]),q(n,"class","chart-data-nav svelte-omqo3m"),q(c,"class","dayRange svelte-omqo3m"),q(c,"data-testid","daySlider"),q(m,"class","action-buttons svelte-omqo3m"),q(t,"class","controls svelte-omqo3m"),q(b,"data-testid","gbwidgets"),q(b,"class","gbwidgets svelte-omqo3m")},m(s,d){x(s,t,d),h(t,n),h(n,l),h(n,r),h(n,a),h(t,o),R&&R.m(t,null),h(t,i),h(t,c),ve(u,c,null),h(t,p),h(t,m),L&&L.m(m,null),h(m,f),ve(g,m,null),x(s,v,d),x(s,b,d),ve($,b,null),h(b,w),ve(k,b,null),h(b,z),ve(T,b,null),x(s,j,d),ve(W,s,d),F=!0,A||(O=[M(l,"click",S(e[7])),M(a,"click",S(e[8]))],A=!0)},p(e,[n]){16&n&&D(l,"active","chart"===e[4]),16&n&&D(a,"active","data"===e[4]),e[1]?R?(R.p(e,n),2&n&&ue(R,1)):(R=Un(e),R.c(),ue(R,1),R.m(t,i)):R&&(ie(),de(R,1,1,(()=>{R=null})),ce());const s={};var r;8&n&&(s.suffix=e[3]),!d&&1&n&&(d=!0,s.values=e[0],r=()=>d=!1,Q.push(r)),u.$set(s),e[2]?L?(L.p(e,n),4&n&&ue(L,1)):(L=Yn(e),L.c(),ue(L,1),L.m(m,f)):L&&(ie(),de(L,1,1,(()=>{L=null})),ce());const o={};16384&n&&(o.$$scope={dirty:n,ctx:e}),W.$set(o)},i(e){F||(ue(R),ue(u.$$.fragment,e),ue(L),ue(g.$$.fragment,e),ue($.$$.fragment,e),ue(k.$$.fragment,e),ue(T.$$.fragment,e),ue(W.$$.fragment,e),F=!0)},o(e){de(R),de(u.$$.fragment,e),de(L),de(g.$$.fragment,e),de($.$$.fragment,e),de(k.$$.fragment,e),de(T.$$.fragment,e),de(W.$$.fragment,e),F=!1},d(e){e&&y(t),R&&R.d(),he(u),L&&L.d(),he(g),e&&y(v),e&&y(b),he($),he(k),he(T),e&&y(j),he(W,e),A=!1,s(O)}}}function tl(e,t,n){let l,s,r,a,o,c;i(e,gt,(e=>n(0,s=e))),i(e,xt,(e=>n(11,r=e))),i(e,wt,(e=>n(12,a=e))),i(e,mt,(e=>n(4,o=e))),i(e,kt,(e=>n(5,c=e)));let d=!1;const p=async e=>{let t;n(1,d=!0);try{t=await Zn(e)}catch(e){console.warn(e)}u(wt,a=(e=>{const t=e.filter(((t,n)=>!(n>0&&On(t.started,e[n-1].started)))).map((e=>e.started)).map((t=>e.filter((e=>On(e.started,t)))));let n=[];return t.forEach(((e,t)=>{const l=e.filter((e=>0===e.reading_incorrect)).reduce(((e,t)=>e+1),0),s=e.filter((e=>0===e.meaning_incorrect)).reduce(((e,t)=>e+1),0),r=e.filter((e=>e.meaning_incorrect+e.reading_incorrect===0)).reduce(((e,t)=>e+1),0),a=e.reduce(((e,t)=>e+t.questions),0),o=e.length,i={start:e[0].started,end:e[e.length-1].started,review_count:e.length,question_count:a,accuracy:r/o,reading_accuracy:l/o,meaning_accuracy:s/o};n.push(i)})),n})(t),a),u(xt,r=(e=>{const t=Rn(e);let n=[];return t.forEach((e=>{const t=e.reviews.reduce(((e,t)=>e+t.questions),0),l=t-e.reviews.reduce(((e,t)=>e+(t.meaning_incorrect+t.reading_incorrect)),0),s={start:e.startTime,end:e.endTime,reviewCount:e.reviews.length,questionCount:t,correctAnswerCount:l};n.push(s)})),n})(t),r),n(1,d=!1)};let m=!1;wkof.wait_state("ss_quiz","ready").then((()=>{"function"==typeof(null===ss_quiz||void 0===ss_quiz?void 0:ss_quiz.open)&&n(2,m=!0)}));return e.$$.update=()=>{1&e.$$.dirty&&p(s[0]),1&e.$$.dirty&&n(3,l=s[0]>1?" days":" day")},[s,d,m,l,o,c,async()=>{await wkof.wait_state("ss_quiz","ready"),ss_quiz.open({ipreset:{name:"New Kanji",content:{wk_items:{enabled:!0,filters:{srs:{enabled:!0,value:{appr1:!0,appr2:!0}},item_type:{enabled:!0,value:"kan"}}}}}})},()=>u(mt,o="chart",o),()=>u(mt,o="data",o),function(e){s=e,gt.set(s)},()=>function(e=""){return tn[e]}().open()]}class nl extends xe{constructor(e){super(),$e(this,e,tl,el,a,{})}}function ll(t){let n;return{c(){n=C("div"),n.innerHTML='<h2>GanbarOmeter</h2>   \n    <p>The GanbarOmeter needs the Wankani Open Framework to be installed prior to use.</p>  \n    \n    <p>Please refer to the <a href="http://community.wanikani.com/t/instructions-installing-wanikani-open-framework/28549">WKOF\n    installation instructions.</a></p>',q(n,"class","placeholder svelte-3pkdxk")},m(e,t){x(e,n,t)},i:e,o:e,d(e){e&&y(n)}}}function sl(e){let t,n;return t=new nl({}),{c(){ge(t.$$.fragment)},m(e,l){ve(t,e,l),n=!0},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){he(t,e)}}}function rl(e){let t,n,l,s,r;const a=[sl,ll],o=[];return n=function(e,t){return e[1]?0:1}(e),l=o[n]=a[n](e),{c(){t=C("section"),l.c(),q(t,"data-testid","ganbarometer"),q(t,"class","ganbarometer svelte-3pkdxk"),q(t,"style",s=` \n    --bgColor: ${e[0].bgColor}; \n    --trackColor: ${e[0].trackColor}; \n    --textColor: ${e[0].textColor}; \n    --hlTextColor: ${e[0].hlTextColor}; \n    --fillColor: ${e[0].fillColor}; \n    --warnColor: ${e[0].warnColor}; \n    --lTrackColor: ${e[0].lTrackColor}; \n    --hTrackColor: ${e[0].hTrackColor};`)},m(e,l){x(e,t,l),o[n].m(t,null),r=!0},p(e,[n]){(!r||1&n&&s!==(s=` \n    --bgColor: ${e[0].bgColor}; \n    --trackColor: ${e[0].trackColor}; \n    --textColor: ${e[0].textColor}; \n    --hlTextColor: ${e[0].hlTextColor}; \n    --fillColor: ${e[0].fillColor}; \n    --warnColor: ${e[0].warnColor}; \n    --lTrackColor: ${e[0].lTrackColor}; \n    --hTrackColor: ${e[0].hTrackColor};`))&&q(t,"style",s)},i(e){r||(ue(l),r=!0)},o(e){de(l),r=!1},d(e){e&&y(t),o[n].d()}}}function al(e,t,n){let l;i(e,kt,(e=>n(0,l=e)));let s=!!wkof;return[l,s]}let ol;kt.subscribe((e=>ol=e.position));const il=document.querySelector(".dashboard .span12");let cl={target:il,anchor:null};switch(ol){case"Top":cl.anchor=il.querySelector(".progress-and-forecast");break;case"Below Forecast":cl.anchor=il.querySelector(".srs-progress");break;case"Below SRS":cl.anchor=il.querySelector(".row");break;case"Below Panels":cl.anchor=il.querySelector(".row:last-of-type");break;default:cl.anchor=null}const ul=new class extends xe{constructor(e){super(),$e(this,e,al,rl,a,{})}}(cl);return ul}();
//# sourceMappingURL=bundle.js.map
