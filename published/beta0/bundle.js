// ==UserScript==
// @name        ganbarometer-svelte
// @description Svelte version of the GanbarOmeter for Wanikani
// @namespace   https://github.com/wrex/
// @version     0.0.4
// @homepage    https://github.com/wrex/ganbarometer-svelte#readme
// @author      Rex Walters -- rw [at] pobox.com
// @license     MIT-0
// @resource    css https://raw.githubusercontent.com/wrex/ganbarometer-svelte/main/published/beta0/bundle.css
// @include     /^https://(www|preview).wanikani.com/(dashboard)?$/
// @connect     github.com
// @run-at      document-idle
// @downloadURL https://raw.githubusercontent.com/wrex/ganbarometer-svelte/main/published/beta0/bundle.js
// @updateURL   https://raw.githubusercontent.com/wrex/ganbarometer-svelte/main/published/beta0/bundle.js
// @grant       GM_addStyle
// @grant       GM_getResourceText
// @grant       GM_xmlhttpRequest
// ==/UserScript==
GM_addStyle(GM_getResourceText("css"));var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(t,e,n){t.$$.on_destroy.push(a(e,n))}function u(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function c(t,e,n){return t.set(n),e}const f="undefined"!=typeof window;let d=f?()=>window.performance.now():()=>Date.now(),p=f?t=>requestAnimationFrame(t):t;const g=new Set;function m(t){g.forEach((e=>{e.c(t)||(g.delete(e),e.f())})),0!==g.size&&p(m)}function h(t){let e;return 0===g.size&&p(m),{promise:new Promise((n=>{g.add(e={c:t,f:n})})),abort(){g.delete(e)}}}function v(t,e){t.appendChild(e)}function y(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function b(t){const e=C("style");return function(t,e){v(t.head||t,e)}(y(t),e),e}function w(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function _(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function N(){return k(" ")}function S(){return k("")}function j(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function E(t){return function(e){return e.preventDefault(),t.call(this,e)}}function O(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function F(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t){return""===t?null:+t}function W(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function A(t,e){t.value=null==e?"":e}function R(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function D(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function q(t,e,n){t.classList[n?"add":"remove"](e)}function P(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}const M=new Set;let I,L=0;function z(t,e,n,r,o,i,s,a=0){const l=16.666/r;let u="{\n";for(let t=0;t<=1;t+=l){const r=e+(n-e)*i(t);u+=100*t+`%{${s(r,1-r)}}\n`}const c=u+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${a}`,d=y(t);M.add(d);const p=d.__svelte_stylesheet||(d.__svelte_stylesheet=b(t).sheet),g=d.__svelte_rules||(d.__svelte_rules={});g[f]||(g[f]=!0,p.insertRule(`@keyframes ${f} ${c}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${o}ms 1 both`,L+=1,f}function B(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),L-=o,L||p((()=>{L||(M.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),M.clear())})))}function V(t){I=t}function K(){if(!I)throw new Error("Function called outside component initialization");return I}function H(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const U=[],G=[],X=[],J=[],Z=Promise.resolve();let Y=!1;function Q(t){X.push(t)}let tt=!1;const et=new Set;function nt(){if(!tt){tt=!0;do{for(let t=0;t<U.length;t+=1){const e=U[t];V(e),rt(e.$$)}for(V(null),U.length=0;G.length;)G.pop()();for(let t=0;t<X.length;t+=1){const e=X[t];et.has(e)||(et.add(e),e())}X.length=0}while(U.length);for(;J.length;)J.pop()();Y=!1,tt=!1,et.clear()}}function rt(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}let ot;function it(){return ot||(ot=Promise.resolve(),ot.then((()=>{ot=null}))),ot}function st(t,e,n){t.dispatchEvent(P(`${e?"intro":"outro"}${n}`))}const at=new Set;let lt;function ut(){lt={r:0,c:[],p:lt}}function ct(){lt.r||o(lt.c),lt=lt.p}function ft(t,e){t&&t.i&&(at.delete(t),t.i(e))}function dt(t,e,n,r){if(t&&t.o){if(at.has(t))return;at.add(t),lt.c.push((()=>{at.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const pt={duration:0};function gt(n,r,o){let s,a,l=r(n,o),u=!1,c=0;function f(){s&&B(n,s)}function p(){const{delay:r=0,duration:o=300,easing:i=e,tick:p=t,css:g}=l||pt;g&&(s=z(n,0,1,o,r,i,g,c++)),p(0,1);const m=d()+r,v=m+o;a&&a.abort(),u=!0,Q((()=>st(n,!0,"start"))),a=h((t=>{if(u){if(t>=v)return p(1,0),st(n,!0,"end"),f(),u=!1;if(t>=m){const e=i((t-m)/o);p(e,1-e)}}return u}))}let g=!1;return{start(){g||(g=!0,B(n),i(l)?(l=l(),it().then(p)):p())},invalidate(){g=!1},end(){u&&(f(),u=!1)}}}function mt(n,r,s,a){let l=r(n,s),u=a?0:1,c=null,f=null,p=null;function g(){p&&B(n,p)}function m(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function v(r){const{delay:i=0,duration:s=300,easing:a=e,tick:v=t,css:y}=l||pt,b={start:d()+i,b:r};r||(b.group=lt,lt.r+=1),c||f?f=b:(y&&(g(),p=z(n,u,r,s,i,a,y)),r&&v(0,1),c=m(b,s),Q((()=>st(n,r,"start"))),h((t=>{if(f&&t>f.start&&(c=m(f,s),f=null,st(n,c.b,"start"),y&&(g(),p=z(n,u,c.b,c.duration,0,a,l.css))),c)if(t>=c.end)v(u=c.b,1-u),st(n,c.b,"end"),f||(c.b?g():--c.group.r||o(c.group.c)),c=null;else if(t>=c.start){const e=t-c.start;u=c.a+c.d*a(e/c.duration),v(u,1-u)}return!(!c&&!f)})))}return{run(t){i(l)?it().then((()=>{l=l(),v(t)})):v(t)},end(){g(),c=f=null}}}function ht(t){t&&t.c()}function vt(t,e,r,s){const{fragment:a,on_mount:l,on_destroy:u,after_update:c}=t.$$;a&&a.m(e,r),s||Q((()=>{const e=l.map(n).filter(i);u?u.push(...e):o(e),t.$$.on_mount=[]})),c.forEach(Q)}function yt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function bt(t,e){-1===t.$$.dirty[0]&&(U.push(t),Y||(Y=!0,Z.then(nt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function wt(e,n,i,s,a,l,u,c=[-1]){const f=I;V(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:r(),dirty:c,skip_bound:!1,root:n.target||f.$$.root};u&&u(d.root);let p=!1;if(d.ctx=i?i(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),p&&bt(e,t)),n})):[],d.update(),p=!0,o(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach($)}else d.fragment&&d.fragment.c();n.intro&&ft(e.$$.fragment),vt(e,n.target,n.anchor,n.customElement),nt()}V(f)}class $t{$destroy(){yt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const xt=[];function Ct(e,n=t){let r;const o=new Set;function i(t){if(s(e,t)&&(e=t,r)){const t=!xt.length;for(const t of o)t[1](),xt.push(t,e);if(t){for(let t=0;t<xt.length;t+=2)xt[t][0](xt[t+1]);xt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,a=t){const l=[s,a];return o.add(l),1===o.size&&(r=n(i)||t),s(e),()=>{o.delete(l),0===o.size&&(r(),r=null)}}}}function _t(t){return"[object Date]"===Object.prototype.toString.call(t)}function kt(t,e,n,r){if("number"==typeof n||_t(n)){const o=r-n,i=(n-e)/(t.dt||1/60),s=(i+(t.opts.stiffness*o-t.opts.damping*i)*t.inv_mass)*t.dt;return Math.abs(s)<t.opts.precision&&Math.abs(o)<t.opts.precision?r:(t.settled=!1,_t(n)?new Date(n.getTime()+s):n+s)}if(Array.isArray(n))return n.map(((o,i)=>kt(t,e[i],n[i],r[i])));if("object"==typeof n){const o={};for(const i in n)o[i]=kt(t,e[i],n[i],r[i]);return o}throw new Error(`Cannot spring ${typeof n} values`)}function Nt(t,e={}){const n=Ct(t),{stiffness:r=.15,damping:o=.8,precision:i=.01}=e;let s,a,l,u=t,c=t,f=1,p=0,g=!1;function m(e,r={}){c=e;const o=l={};if(null==t||r.hard||v.stiffness>=1&&v.damping>=1)return g=!0,s=d(),u=e,n.set(t=c),Promise.resolve();if(r.soft){const t=!0===r.soft?.5:+r.soft;p=1/(60*t),f=0}return a||(s=d(),g=!1,a=h((e=>{if(g)return g=!1,a=null,!1;f=Math.min(f+p,1);const r={inv_mass:f,opts:v,settled:!0,dt:60*(e-s)/1e3},o=kt(r,u,t,c);return s=e,u=t,n.set(t=o),r.settled&&(a=null),!r.settled}))),new Promise((t=>{a.promise.then((()=>{o===l&&t()}))}))}const v={set:m,update:(e,n)=>m(e(c,t),n),subscribe:n.subscribe,stiffness:r,damping:o,precision:i};return v}function St(t,e,n){const r=t.slice();return r[27]=e[n],r[29]=n,r}function jt(t){let e,n,r,s,a=("label"===t[6]||"label"===t[7])&&Et(t);return{c(){e=C("span"),a&&a.c(),F(e,"class","pip first"),F(e,"style",n=t[14]+": 0%;"),q(e,"selected",t[17](t[0])),q(e,"in-range",t[16](t[0]))},m(n,o){w(n,e,o),a&&a.m(e,null),r||(s=[j(e,"click",(function(){i(t[20](t[0]))&&t[20](t[0]).apply(this,arguments)})),j(e,"touchend",E((function(){i(t[20](t[0]))&&t[20](t[0]).apply(this,arguments)})))],r=!0)},p(r,o){"label"===(t=r)[6]||"label"===t[7]?a?a.p(t,o):(a=Et(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null),16384&o&&n!==(n=t[14]+": 0%;")&&F(e,"style",n),131073&o&&q(e,"selected",t[17](t[0])),65537&o&&q(e,"in-range",t[16](t[0]))},d(t){t&&$(e),a&&a.d(),r=!1,o(s)}}}function Et(t){let e,n,r=t[12](t[0],0,0)+"",o=t[10]&&Ot(t),i=t[11]&&Ft(t);return{c(){e=C("span"),o&&o.c(),n=k(r),i&&i.c(),F(e,"class","pipVal")},m(t,r){w(t,e,r),o&&o.m(e,null),v(e,n),i&&i.m(e,null)},p(t,s){t[10]?o?o.p(t,s):(o=Ot(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),4097&s&&r!==(r=t[12](t[0],0,0)+"")&&W(n,r),t[11]?i?i.p(t,s):(i=Ft(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&$(e),o&&o.d(),i&&i.d()}}}function Ot(t){let e,n;return{c(){e=C("span"),n=k(t[10]),F(e,"class","pipVal-prefix")},m(t,r){w(t,e,r),v(e,n)},p(t,e){1024&e&&W(n,t[10])},d(t){t&&$(e)}}}function Ft(t){let e,n;return{c(){e=C("span"),n=k(t[11]),F(e,"class","pipVal-suffix")},m(t,r){w(t,e,r),v(e,n)},p(t,e){2048&e&&W(n,t[11])},d(t){t&&$(e)}}}function Tt(t){let e,n=Array(t[19]+1),r=[];for(let e=0;e<n.length;e+=1)r[e]=qt(St(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=S()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,o){if(2088515&o){let i;for(n=Array(t[19]+1),i=0;i<n.length;i+=1){const s=St(t,n,i);r[i]?r[i].p(s,o):(r[i]=qt(s),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){x(r,t),t&&$(e)}}}function Wt(t){let e,n,r,s,a,l=("label"===t[6]||"label"===t[9])&&At(t);return{c(){e=C("span"),l&&l.c(),n=N(),F(e,"class","pip"),F(e,"style",r=t[14]+": "+t[15](t[18](t[29]))+"%;"),q(e,"selected",t[17](t[18](t[29]))),q(e,"in-range",t[16](t[18](t[29])))},m(r,o){w(r,e,o),l&&l.m(e,null),v(e,n),s||(a=[j(e,"click",(function(){i(t[20](t[18](t[29])))&&t[20](t[18](t[29])).apply(this,arguments)})),j(e,"touchend",E((function(){i(t[20](t[18](t[29])))&&t[20](t[18](t[29])).apply(this,arguments)})))],s=!0)},p(o,i){"label"===(t=o)[6]||"label"===t[9]?l?l.p(t,i):(l=At(t),l.c(),l.m(e,n)):l&&(l.d(1),l=null),311296&i&&r!==(r=t[14]+": "+t[15](t[18](t[29]))+"%;")&&F(e,"style",r),393216&i&&q(e,"selected",t[17](t[18](t[29]))),327680&i&&q(e,"in-range",t[16](t[18](t[29])))},d(t){t&&$(e),l&&l.d(),s=!1,o(a)}}}function At(t){let e,n,r=t[12](t[18](t[29]),t[29],t[15](t[18](t[29])))+"",o=t[10]&&Rt(t),i=t[11]&&Dt(t);return{c(){e=C("span"),o&&o.c(),n=k(r),i&&i.c(),F(e,"class","pipVal")},m(t,r){w(t,e,r),o&&o.m(e,null),v(e,n),i&&i.m(e,null)},p(t,s){t[10]?o?o.p(t,s):(o=Rt(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),299008&s&&r!==(r=t[12](t[18](t[29]),t[29],t[15](t[18](t[29])))+"")&&W(n,r),t[11]?i?i.p(t,s):(i=Dt(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&$(e),o&&o.d(),i&&i.d()}}}function Rt(t){let e,n;return{c(){e=C("span"),n=k(t[10]),F(e,"class","pipVal-prefix")},m(t,r){w(t,e,r),v(e,n)},p(t,e){1024&e&&W(n,t[10])},d(t){t&&$(e)}}}function Dt(t){let e,n;return{c(){e=C("span"),n=k(t[11]),F(e,"class","pipVal-suffix")},m(t,r){w(t,e,r),v(e,n)},p(t,e){2048&e&&W(n,t[11])},d(t){t&&$(e)}}}function qt(t){let e,n=t[18](t[29])!==t[0]&&t[18](t[29])!==t[1],r=n&&Wt(t);return{c(){r&&r.c(),e=S()},m(t,n){r&&r.m(t,n),w(t,e,n)},p(t,o){262147&o&&(n=t[18](t[29])!==t[0]&&t[18](t[29])!==t[1]),n?r?r.p(t,o):(r=Wt(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&$(e)}}}function Pt(t){let e,n,r,s,a=("label"===t[6]||"label"===t[8])&&Mt(t);return{c(){e=C("span"),a&&a.c(),F(e,"class","pip last"),F(e,"style",n=t[14]+": 100%;"),q(e,"selected",t[17](t[1])),q(e,"in-range",t[16](t[1]))},m(n,o){w(n,e,o),a&&a.m(e,null),r||(s=[j(e,"click",(function(){i(t[20](t[1]))&&t[20](t[1]).apply(this,arguments)})),j(e,"touchend",E((function(){i(t[20](t[1]))&&t[20](t[1]).apply(this,arguments)})))],r=!0)},p(r,o){"label"===(t=r)[6]||"label"===t[8]?a?a.p(t,o):(a=Mt(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null),16384&o&&n!==(n=t[14]+": 100%;")&&F(e,"style",n),131074&o&&q(e,"selected",t[17](t[1])),65538&o&&q(e,"in-range",t[16](t[1]))},d(t){t&&$(e),a&&a.d(),r=!1,o(s)}}}function Mt(t){let e,n,r=t[12](t[1],t[19],100)+"",o=t[10]&&It(t),i=t[11]&&Lt(t);return{c(){e=C("span"),o&&o.c(),n=k(r),i&&i.c(),F(e,"class","pipVal")},m(t,r){w(t,e,r),o&&o.m(e,null),v(e,n),i&&i.m(e,null)},p(t,s){t[10]?o?o.p(t,s):(o=It(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),528386&s&&r!==(r=t[12](t[1],t[19],100)+"")&&W(n,r),t[11]?i?i.p(t,s):(i=Lt(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&$(e),o&&o.d(),i&&i.d()}}}function It(t){let e,n;return{c(){e=C("span"),n=k(t[10]),F(e,"class","pipVal-prefix")},m(t,r){w(t,e,r),v(e,n)},p(t,e){1024&e&&W(n,t[10])},d(t){t&&$(e)}}}function Lt(t){let e,n;return{c(){e=C("span"),n=k(t[11]),F(e,"class","pipVal-suffix")},m(t,r){w(t,e,r),v(e,n)},p(t,e){2048&e&&W(n,t[11])},d(t){t&&$(e)}}}function zt(e){let n,r,o,i=(e[6]&&!1!==e[7]||e[7])&&jt(e),s=(e[6]&&!1!==e[9]||e[9])&&Tt(e),a=(e[6]&&!1!==e[8]||e[8])&&Pt(e);return{c(){n=C("div"),i&&i.c(),r=N(),s&&s.c(),o=N(),a&&a.c(),F(n,"class","rangePips"),q(n,"disabled",e[5]),q(n,"hoverable",e[4]),q(n,"vertical",e[2]),q(n,"reversed",e[3]),q(n,"focus",e[13])},m(t,e){w(t,n,e),i&&i.m(n,null),v(n,r),s&&s.m(n,null),v(n,o),a&&a.m(n,null)},p(t,[e]){t[6]&&!1!==t[7]||t[7]?i?i.p(t,e):(i=jt(t),i.c(),i.m(n,r)):i&&(i.d(1),i=null),t[6]&&!1!==t[9]||t[9]?s?s.p(t,e):(s=Tt(t),s.c(),s.m(n,o)):s&&(s.d(1),s=null),t[6]&&!1!==t[8]||t[8]?a?a.p(t,e):(a=Pt(t),a.c(),a.m(n,null)):a&&(a.d(1),a=null),32&e&&q(n,"disabled",t[5]),16&e&&q(n,"hoverable",t[4]),4&e&&q(n,"vertical",t[2]),8&e&&q(n,"reversed",t[3]),8192&e&&q(n,"focus",t[13])},i:t,o:t,d(t){t&&$(n),i&&i.d(),s&&s.d(),a&&a.d()}}}function Bt(t,e,n){let r,o,i,s,a,{range:l=!1}=e,{min:u=0}=e,{max:c=100}=e,{step:f=1}=e,{values:d=[(c+u)/2]}=e,{vertical:p=!1}=e,{reversed:g=!1}=e,{hoverable:m=!0}=e,{disabled:h=!1}=e,{pipstep:v}=e,{all:y=!0}=e,{first:b}=e,{last:w}=e,{rest:$}=e,{prefix:x=""}=e,{suffix:C=""}=e,{formatter:_=((t,e)=>t)}=e,{focus:k}=e,{orientationStart:N}=e,{percentOf:S}=e,{moveHandle:j}=e;return t.$$set=t=>{"range"in t&&n(21,l=t.range),"min"in t&&n(0,u=t.min),"max"in t&&n(1,c=t.max),"step"in t&&n(22,f=t.step),"values"in t&&n(23,d=t.values),"vertical"in t&&n(2,p=t.vertical),"reversed"in t&&n(3,g=t.reversed),"hoverable"in t&&n(4,m=t.hoverable),"disabled"in t&&n(5,h=t.disabled),"pipstep"in t&&n(24,v=t.pipstep),"all"in t&&n(6,y=t.all),"first"in t&&n(7,b=t.first),"last"in t&&n(8,w=t.last),"rest"in t&&n(9,$=t.rest),"prefix"in t&&n(10,x=t.prefix),"suffix"in t&&n(11,C=t.suffix),"formatter"in t&&n(12,_=t.formatter),"focus"in t&&n(13,k=t.focus),"orientationStart"in t&&n(14,N=t.orientationStart),"percentOf"in t&&n(15,S=t.percentOf),"moveHandle"in t&&n(25,j=t.moveHandle)},t.$$.update=()=>{20971527&t.$$.dirty&&n(26,r=v||((c-u)/f>=(p?50:100)?(c-u)/(p?10:20):1)),71303171&t.$$.dirty&&n(19,o=parseInt((c-u)/(f*r),10)),71303169&t.$$.dirty&&n(18,i=function(t){return u+t*f*r}),8388608&t.$$.dirty&&n(17,s=function(t){return d.some((e=>e===t))}),10485760&t.$$.dirty&&n(16,a=function(t){return"min"===l?d[0]>t:"max"===l?d[0]<t:l?d[0]<t&&d[1]>t:void 0})},[u,c,p,g,m,h,y,b,w,$,x,C,_,k,N,S,a,s,i,o,function(t){j(void 0,t)},l,f,d,v,j,r]}class Vt extends $t{constructor(t){super(),wt(this,t,Bt,zt,s,{range:21,min:0,max:1,step:22,values:23,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:24,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:25})}}function Kt(t,e,n){const r=t.slice();return r[63]=e[n],r[65]=n,r}function Ht(t){let e,n,r=t[20](t[63],t[65],t[22](t[63]))+"",o=t[17]&&Ut(t),i=t[18]&&Gt(t);return{c(){e=C("span"),o&&o.c(),n=k(r),i&&i.c(),F(e,"class","rangeFloat")},m(t,r){w(t,e,r),o&&o.m(e,null),v(e,n),i&&i.m(e,null)},p(t,s){t[17]?o?o.p(t,s):(o=Ut(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),5242881&s[0]&&r!==(r=t[20](t[63],t[65],t[22](t[63]))+"")&&W(n,r),t[18]?i?i.p(t,s):(i=Gt(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(t){t&&$(e),o&&o.d(),i&&i.d()}}}function Ut(t){let e,n;return{c(){e=C("span"),n=k(t[17]),F(e,"class","rangeFloat-prefix")},m(t,r){w(t,e,r),v(e,n)},p(t,e){131072&e[0]&&W(n,t[17])},d(t){t&&$(e)}}}function Gt(t){let e,n;return{c(){e=C("span"),n=k(t[18]),F(e,"class","rangeFloat-suffix")},m(t,r){w(t,e,r),v(e,n)},p(t,e){262144&e[0]&&W(n,t[18])},d(t){t&&$(e)}}}function Xt(t){let e,n,r,i,s,a,l,u,c,f,d,p,g,m=t[6]&&Ht(t);return{c(){e=C("span"),n=C("span"),r=N(),m&&m.c(),F(n,"class","rangeNub"),F(e,"role","slider"),F(e,"class","rangeHandle"),F(e,"data-handle",i=t[65]),F(e,"style",s=t[28]+": "+t[29][t[65]]+"%; z-index: "+(t[26]===t[65]?3:2)+";"),F(e,"aria-valuemin",a=!0===t[1]&&1===t[65]?t[0][0]:t[2]),F(e,"aria-valuemax",l=!0===t[1]&&0===t[65]?t[0][1]:t[3]),F(e,"aria-valuenow",u=t[63]),F(e,"aria-valuetext",c=""+(t[17]+t[20](t[63],t[65],t[22](t[63]))+t[18])),F(e,"aria-orientation",f=t[5]?"vertical":"horizontal"),F(e,"aria-disabled",t[9]),F(e,"disabled",t[9]),F(e,"tabindex",d=t[9]?-1:0),q(e,"active",t[24]&&t[26]===t[65]),q(e,"press",t[25]&&t[26]===t[65])},m(o,i){w(o,e,i),v(e,n),v(e,r),m&&m.m(e,null),p||(g=[j(e,"blur",t[33]),j(e,"focus",t[34]),j(e,"keydown",t[35])],p=!0)},p(t,n){t[6]?m?m.p(t,n):(m=Ht(t),m.c(),m.m(e,null)):m&&(m.d(1),m=null),872415232&n[0]&&s!==(s=t[28]+": "+t[29][t[65]]+"%; z-index: "+(t[26]===t[65]?3:2)+";")&&F(e,"style",s),7&n[0]&&a!==(a=!0===t[1]&&1===t[65]?t[0][0]:t[2])&&F(e,"aria-valuemin",a),11&n[0]&&l!==(l=!0===t[1]&&0===t[65]?t[0][1]:t[3])&&F(e,"aria-valuemax",l),1&n[0]&&u!==(u=t[63])&&F(e,"aria-valuenow",u),5636097&n[0]&&c!==(c=""+(t[17]+t[20](t[63],t[65],t[22](t[63]))+t[18]))&&F(e,"aria-valuetext",c),32&n[0]&&f!==(f=t[5]?"vertical":"horizontal")&&F(e,"aria-orientation",f),512&n[0]&&F(e,"aria-disabled",t[9]),512&n[0]&&F(e,"disabled",t[9]),512&n[0]&&d!==(d=t[9]?-1:0)&&F(e,"tabindex",d),83886080&n[0]&&q(e,"active",t[24]&&t[26]===t[65]),100663296&n[0]&&q(e,"press",t[25]&&t[26]===t[65])},d(t){t&&$(e),m&&m.d(),p=!1,o(g)}}}function Jt(t){let e,n;return{c(){e=C("span"),F(e,"class","rangeBar"),F(e,"style",n=t[28]+": "+t[31](t[29])+"%; "+t[27]+": "+t[32](t[29])+"%;")},m(t,n){w(t,e,n)},p(t,r){939524096&r[0]&&n!==(n=t[28]+": "+t[31](t[29])+"%; "+t[27]+": "+t[32](t[29])+"%;")&&F(e,"style",n)},d(t){t&&$(e)}}}function Zt(t){let e,n;return e=new Vt({props:{values:t[0],min:t[2],max:t[3],step:t[4],range:t[1],vertical:t[5],reversed:t[7],orientationStart:t[28],hoverable:t[8],disabled:t[9],all:t[12],first:t[13],last:t[14],rest:t[15],pipstep:t[11],prefix:t[17],suffix:t[18],formatter:t[19],focus:t[24],percentOf:t[22],moveHandle:t[30]}}),{c(){ht(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.values=t[0]),4&n[0]&&(r.min=t[2]),8&n[0]&&(r.max=t[3]),16&n[0]&&(r.step=t[4]),2&n[0]&&(r.range=t[1]),32&n[0]&&(r.vertical=t[5]),128&n[0]&&(r.reversed=t[7]),268435456&n[0]&&(r.orientationStart=t[28]),256&n[0]&&(r.hoverable=t[8]),512&n[0]&&(r.disabled=t[9]),4096&n[0]&&(r.all=t[12]),8192&n[0]&&(r.first=t[13]),16384&n[0]&&(r.last=t[14]),32768&n[0]&&(r.rest=t[15]),2048&n[0]&&(r.pipstep=t[11]),131072&n[0]&&(r.prefix=t[17]),262144&n[0]&&(r.suffix=t[18]),524288&n[0]&&(r.formatter=t[19]),16777216&n[0]&&(r.focus=t[24]),4194304&n[0]&&(r.percentOf=t[22]),e.$set(r)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Yt(t){let e,n,r,i,s,a,l=t[0],u=[];for(let e=0;e<l.length;e+=1)u[e]=Xt(Kt(t,l,e));let c=t[1]&&Jt(t),f=t[10]&&Zt(t);return{c(){e=C("div");for(let t=0;t<u.length;t+=1)u[t].c();n=N(),c&&c.c(),r=N(),f&&f.c(),F(e,"id",t[16]),F(e,"class","rangeSlider"),q(e,"range",t[1]),q(e,"disabled",t[9]),q(e,"hoverable",t[8]),q(e,"vertical",t[5]),q(e,"reversed",t[7]),q(e,"focus",t[24]),q(e,"min","min"===t[1]),q(e,"max","max"===t[1]),q(e,"pips",t[10]),q(e,"pip-labels","label"===t[12]||"label"===t[13]||"label"===t[14]||"label"===t[15])},m(o,l){w(o,e,l);for(let t=0;t<u.length;t+=1)u[t].m(e,null);v(e,n),c&&c.m(e,null),v(e,r),f&&f.m(e,null),t[49](e),i=!0,s||(a=[j(window,"mousedown",t[38]),j(window,"touchstart",t[38]),j(window,"mousemove",t[39]),j(window,"touchmove",t[39]),j(window,"mouseup",t[40]),j(window,"touchend",t[41]),j(window,"keydown",t[42]),j(e,"mousedown",t[36]),j(e,"mouseup",t[37]),j(e,"touchstart",E(t[36])),j(e,"touchend",E(t[37]))],s=!0)},p(t,o){if(928383599&o[0]|28&o[1]){let r;for(l=t[0],r=0;r<l.length;r+=1){const i=Kt(t,l,r);u[r]?u[r].p(i,o):(u[r]=Xt(i),u[r].c(),u[r].m(e,n))}for(;r<u.length;r+=1)u[r].d(1);u.length=l.length}t[1]?c?c.p(t,o):(c=Jt(t),c.c(),c.m(e,r)):c&&(c.d(1),c=null),t[10]?f?(f.p(t,o),1024&o[0]&&ft(f,1)):(f=Zt(t),f.c(),ft(f,1),f.m(e,null)):f&&(ut(),dt(f,1,1,(()=>{f=null})),ct()),(!i||65536&o[0])&&F(e,"id",t[16]),2&o[0]&&q(e,"range",t[1]),512&o[0]&&q(e,"disabled",t[9]),256&o[0]&&q(e,"hoverable",t[8]),32&o[0]&&q(e,"vertical",t[5]),128&o[0]&&q(e,"reversed",t[7]),16777216&o[0]&&q(e,"focus",t[24]),2&o[0]&&q(e,"min","min"===t[1]),2&o[0]&&q(e,"max","max"===t[1]),1024&o[0]&&q(e,"pips",t[10]),61440&o[0]&&q(e,"pip-labels","label"===t[12]||"label"===t[13]||"label"===t[14]||"label"===t[15])},i(t){i||(ft(f),i=!0)},o(t){dt(f),i=!1},d(n){n&&$(e),x(u,n),c&&c.d(),f&&f.d(),t[49](null),s=!1,o(a)}}}function Qt(t){if(!t)return-1;for(var e=0;t=t.previousElementSibling;)e++;return e}function te(t){return t.type.includes("touch")?t.touches[0]:t}function ee(e,n,r){let o,i,s,l,u,c,f=t;e.$$.on_destroy.push((()=>f()));let{range:d=!1}=n,{pushy:p=!1}=n,{min:g=0}=n,{max:m=100}=n,{step:h=1}=n,{values:v=[(m+g)/2]}=n,{vertical:y=!1}=n,{float:b=!1}=n,{reversed:w=!1}=n,{hoverable:$=!0}=n,{disabled:x=!1}=n,{pips:C=!1}=n,{pipstep:_}=n,{all:k}=n,{first:N}=n,{last:S}=n,{rest:j}=n,{id:E}=n,{prefix:O=""}=n,{suffix:F=""}=n,{formatter:T=((t,e,n)=>t)}=n,{handleFormatter:W=T}=n,{precision:A=2}=n,{springValues:R={stiffness:.15,damping:.4}}=n;const D=function(){const t=K();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=P(e,n);r.slice().forEach((e=>{e.call(t,o)}))}}}();let q,M,I,L,z=0,B=!1,V=!1,H=!1,U=!1,X=v.length-1;function J(){return q.getBoundingClientRect()}function Z(t){const e=J();let n=0,r=0,o=0;y?(n=t.clientY-e.top,r=n/e.height*100,r=w?r:100-r):(n=t.clientX-e.left,r=n/e.width*100,r=w?100-r:r),o=(m-g)/100*r+g,Y(X,o)}function Y(t,e){return e=s(e),void 0===t&&(t=X),d&&(0===t&&e>v[1]?p?r(0,v[1]=e,v):e=v[1]:1===t&&e<v[0]&&(p?r(0,v[0]=e,v):e=v[0])),v[t]!==e&&r(0,v[t]=e,v),I!==e&&(!x&&D("change",{activeHandle:X,startValue:M,previousValue:void 0===I?M:I,value:v[X],values:v.map((t=>s(t)))}),I=e),e}function Q(){!x&&D("stop",{activeHandle:X,startValue:M,value:v[X],values:v.map((t=>s(t)))})}return e.$$set=t=>{"range"in t&&r(1,d=t.range),"pushy"in t&&r(43,p=t.pushy),"min"in t&&r(2,g=t.min),"max"in t&&r(3,m=t.max),"step"in t&&r(4,h=t.step),"values"in t&&r(0,v=t.values),"vertical"in t&&r(5,y=t.vertical),"float"in t&&r(6,b=t.float),"reversed"in t&&r(7,w=t.reversed),"hoverable"in t&&r(8,$=t.hoverable),"disabled"in t&&r(9,x=t.disabled),"pips"in t&&r(10,C=t.pips),"pipstep"in t&&r(11,_=t.pipstep),"all"in t&&r(12,k=t.all),"first"in t&&r(13,N=t.first),"last"in t&&r(14,S=t.last),"rest"in t&&r(15,j=t.rest),"id"in t&&r(16,E=t.id),"prefix"in t&&r(17,O=t.prefix),"suffix"in t&&r(18,F=t.suffix),"formatter"in t&&r(19,T=t.formatter),"handleFormatter"in t&&r(20,W=t.handleFormatter),"precision"in t&&r(44,A=t.precision),"springValues"in t&&r(45,R=t.springValues)},e.$$.update=()=>{12&e.$$.dirty[0]&&r(48,i=function(t){return t<=g?g:t>=m?m:t}),28&e.$$.dirty[0]|139264&e.$$.dirty[1]&&r(47,s=function(t){if(t<=g)return g;if(t>=m)return m;let e=(t-g)%h,n=t-e;return 2*Math.abs(e)>=h&&(n+=e>0?h:-h),n=i(n),parseFloat(n.toFixed(A))}),12&e.$$.dirty[0]|8192&e.$$.dirty[1]&&r(22,o=function(t){let e=(t-g)/(m-g)*100;return isNaN(e)||e<=0?0:e>=100?100:parseFloat(e.toFixed(A))}),6291469&e.$$.dirty[0]|114688&e.$$.dirty[1]&&(Array.isArray(v)||(r(0,v=[(m+g)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),r(0,v=function(t){return"min"===d||"max"===d?t.slice(0,1):d?t.slice(0,2):t}(v.map((t=>s(t))))),z!==v.length?(r(21,L=Nt(v.map((t=>o(t))),R)),f(),f=a(L,(t=>r(29,c=t)))):L.set(v.map((t=>o(t)))),r(46,z=v.length)),160&e.$$.dirty[0]&&r(28,l=y?w?"top":"bottom":w?"right":"left"),160&e.$$.dirty[0]&&r(27,u=y?w?"bottom":"top":w?"left":"right")},[v,d,g,m,h,y,b,w,$,x,C,_,k,N,S,j,E,O,F,T,W,L,o,q,B,H,X,u,l,c,Y,function(t){return"min"===d?0:t[0]},function(t){return"max"===d?0:"min"===d?100-t[0]:100-t[1]},function(t){U&&(r(24,B=!1),V=!1,r(25,H=!1))},function(t){x||(r(26,X=Qt(t.target)),r(24,B=!0))},function(t){if(!x){const e=Qt(t.target);let n=t.ctrlKey||t.metaKey||t.shiftKey?10*h:h,r=!1;switch(t.key){case"PageDown":n*=10;case"ArrowRight":case"ArrowUp":Y(e,v[e]+n),r=!0;break;case"PageUp":n*=10;case"ArrowLeft":case"ArrowDown":Y(e,v[e]-n),r=!0;break;case"Home":Y(e,g),r=!0;break;case"End":Y(e,m),r=!0}r&&(t.preventDefault(),t.stopPropagation())}},function(t){if(!x){const e=t.target,n=te(t);r(24,B=!0),V=!0,r(25,H=!0),r(26,X=function(t){const e=J();let n,r=0,o=0,i=0;return y?(r=t.clientY-e.top,o=r/e.height*100,o=w?o:100-o):(r=t.clientX-e.left,o=r/e.width*100,o=w?100-o:o),i=(m-g)/100*o+g,!0===d&&v[0]===v[1]?i>v[1]?1:0:(n=v.indexOf([...v].sort(((t,e)=>Math.abs(i-t)-Math.abs(i-e)))[0]),n)}(n)),M=I=s(v[X]),!x&&D("start",{activeHandle:X,value:M,values:v.map((t=>s(t)))}),"touchstart"!==t.type||e.matches(".pipVal")||Z(n)}},function(t){"touchend"===t.type&&Q(),r(25,H=!1)},function(t){U=!1,B&&t.target!==q&&!q.contains(t.target)&&r(24,B=!1)},function(t){x||V&&Z(te(t))},function(t){if(!x){const e=t.target;V&&((e===q||q.contains(e))&&(r(24,B=!0),function(t){const e=q.querySelectorAll(".handle"),n=Array.prototype.includes.call(e,t),r=Array.prototype.some.call(e,(e=>e.contains(t)));return n||r}(e)||e.matches(".pipVal")||Z(te(t))),Q())}V=!1,r(25,H=!1)},function(t){V=!1,r(25,H=!1)},function(t){x||(t.target===q||q.contains(t.target))&&(U=!0)},p,A,R,z,s,i,function(t){G[t?"unshift":"push"]((()=>{q=t,r(23,q)}))}]}class ne extends $t{constructor(t){super(),wt(this,t,ee,Yt,s,{range:1,pushy:43,min:2,max:3,step:4,values:0,vertical:5,float:6,reversed:7,hoverable:8,disabled:9,pips:10,pipstep:11,all:12,first:13,last:14,rest:15,id:16,prefix:17,suffix:18,formatter:19,handleFormatter:20,precision:44,springValues:45},null,[-1,-1,-1])}}function re(t){let e,n,r,o=(100*t[0]).toFixed()+"";return{c(){e=C("div"),n=k(o),r=k("%"),F(e,"class","gauge__cover svelte-vis63f")},m(t,o){w(t,e,o),v(e,n),v(e,r)},p(t,e){1&e&&o!==(o=(100*t[0]).toFixed()+"")&&W(n,o)},d(t){t&&$(e)}}}function oe(t){let e,n;return{c(){e=C("div"),n=k(t[1]),F(e,"class","gauge__cover svelte-vis63f")},m(t,r){w(t,e,r),v(e,n)},p(t,e){2&e&&W(n,t[1])},d(t){t&&$(e)}}}function ie(e){let n,r,o,i;function s(t,e){return null!==t[1]?oe:re}let a=s(e),l=a(e);return{c(){n=C("div"),r=C("div"),o=C("div"),i=N(),l.c(),F(o,"class","gauge__fill svelte-vis63f"),F(o,"style",e[2]),F(r,"class","gauge__body svelte-vis63f"),F(n,"class","gauge svelte-vis63f"),F(n,"data-testid","gauge")},m(t,e){w(t,n,e),v(n,r),v(r,o),v(r,i),l.m(r,null)},p(t,[e]){4&e&&F(o,"style",t[2]),a===(a=s(t))&&l?l.p(t,e):(l.d(1),l=a(t),l&&(l.c(),l.m(r,null)))},i:t,o:t,d(t){t&&$(n),l.d()}}}function se(t,e,n){let r,{value:o=.5}=e,{label:i=null}=e;return t.$$set=t=>{"value"in t&&n(0,o=t.value),"label"in t&&n(1,i=t.label)},t.$$.update=()=>{1&t.$$.dirty&&n(2,r=`transform: rotate(${o/2}turn)`)},[o,i,r]}class ae extends $t{constructor(t){super(),wt(this,t,se,ie,s,{value:0,label:1})}}function le(t,{delay:n=0,duration:r=400,easing:o=e}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*i}}var ue;const ce="gbSettings",fe=Ct("chart"),de=localStorage.getItem("daysToReview"),pe=Ct(de?JSON.parse(de):[4]);pe.subscribe((t=>{localStorage.setItem("daysToReview",JSON.stringify(t))}));const ge=t=>JSON.parse(t).map((t=>Object.assign(Object.assign({},t),{start:new Date(t.start),end:new Date(t.end)}))),me=localStorage.getItem("apprenticeCounts"),he=Ct(me?JSON.parse(me):{radicals:[0,0,0,0],kanji:[0,0,0,0],vocabulary:[0,0,0,0]});he.subscribe((t=>{localStorage.setItem("apprenticeCounts",JSON.stringify(t))}));const ve=localStorage.getItem("sessionSummaries"),ye=Ct(ve?ge(ve):[]);ye.subscribe((t=>{localStorage.setItem("sessionSummaries",JSON.stringify(t))}));const be=localStorage.getItem("reviewCounts"),we=Ct(be?ge(be):[]);we.subscribe((t=>{localStorage.setItem("reviewCounts",JSON.stringify(t))}));const $e={position:"Top",textColor:"#333333",bgColor:"#f4f4f4",fillColor:"#b4c0be",goodColor:"#59c273",warnColor:"#fbb623",alertColor:"#ff00aa",targetApprentice:100,newRWeight:.75,newKWeight:3,newVWeight:1,targetSpeed:7,madCutoff:10,targetRevDay:150,tzOffset:0},xe=Ct(null!==(ue=JSON.parse(localStorage.getItem(ce)))&&void 0!==ue?ue:$e);let Ce;xe.subscribe((t=>localStorage.setItem(ce,JSON.stringify(t))));const _e=async t=>{if(!Ce||!Ce[t]){wkof.include("ItemData"),await wkof.ready("ItemData");let t=await wkof.ItemData.get_items();Ce=await wkof.ItemData.get_index(t,"subject_id")}return Ce[t]},ke=async()=>{let t;try{t=await(async()=>(wkof.include("ItemData"),await wkof.ready("ItemData"),wkof.ItemData.get_items({wk_items:{options:{assignments:!0},filters:{srs:"appr1, appr2, appr3, appr4"}}})))()}catch(t){console.warn(t)}const e={radicals:[0,0,0,0],kanji:[0,0,0,0],vocabulary:[0,0,0,0]};return t.forEach((t=>{var n;const r=null===(n=t.assignments)||void 0===n?void 0:n.srs_stage;"radical"===t.object?e.radicals[r-1]+=1:"kanji"===t.object?e.kanji[r-1]+=1:"vocabulary"===t.object?e.vocabulary[r-1]+=1:(console.warn(`Unrecognized subject type ${t.object}`),console.warn(t))})),e};function Ne(e){let n,r,o,i,s,a,l,u,c,f,d,p,g,m,h,y,b,x,_,S,j,E,O,T,A,R,D,q,P,M,I,L,z,B,V,K,H,U,G,X,J,Z,Y,tt,et,nt,rt,ot,it,st,at,lt,ut,ct,ft,dt,pt,mt,ht=(100*e[5]).toFixed()+"",vt=e[4].targetApprentice+"",yt=e[4].newRWeight+"",bt=e[4].newKWeight+"",wt=e[4].newVWeight+"",$t=(100*e[6]).toFixed()+"",xt=(100*e[5]).toFixed()+"";return{c(){n=C("h1"),r=k("GanbarOmeter: "),o=k(ht),i=k("%"),a=N(),l=C("div"),u=C("table"),c=C("tr"),f=C("th"),f.textContent="Apprentice",d=N(),p=C("td"),g=k(e[0]),m=N(),h=C("span"),y=k("target: "),b=k(vt),x=N(),_=C("tr"),S=C("th"),S.textContent="New",j=N(),E=C("td"),O=k(e[3]),T=C("span"),T.textContent="r",A=N(),R=k(e[2]),D=C("span"),D.textContent="k",q=N(),P=k(e[1]),M=C("span"),M.textContent="v",I=N(),L=C("tr"),z=C("th"),z.textContent="Weights",B=N(),V=C("td"),K=k(yt),H=C("span"),H.textContent="r",U=N(),G=k(bt),X=C("span"),X.textContent="k",J=N(),Z=k(wt),Y=C("span"),Y.textContent="v",tt=N(),et=C("tr"),nt=C("th"),nt.textContent="Unweighted",rt=N(),ot=C("td"),it=k($t),st=C("span"),st.textContent="%",at=N(),lt=C("tr"),ut=C("th"),ut.textContent="Weighted",ct=N(),ft=C("td"),dt=k(xt),pt=C("span"),pt.textContent="%",F(n,"class","gbHeader"),F(h,"class","secondary"),F(T,"class","secondary"),F(D,"class","secondary"),F(M,"class","secondary"),F(H,"class","secondary"),F(X,"class","secondary"),F(Y,"class","secondary"),F(st,"class","secondary"),F(pt,"class","secondary"),F(u,"class","gbContent"),F(l,"data-testid","ganbarometer-table")},m(t,e){w(t,n,e),v(n,r),v(n,o),v(n,i),w(t,a,e),w(t,l,e),v(l,u),v(u,c),v(c,f),v(c,d),v(c,p),v(p,g),v(p,m),v(p,h),v(h,y),v(h,b),v(u,x),v(u,_),v(_,S),v(_,j),v(_,E),v(E,O),v(E,T),v(E,A),v(E,R),v(E,D),v(E,q),v(E,P),v(E,M),v(u,I),v(u,L),v(L,z),v(L,B),v(L,V),v(V,K),v(V,H),v(V,U),v(V,G),v(V,X),v(V,J),v(V,Z),v(V,Y),v(u,tt),v(u,et),v(et,nt),v(et,rt),v(et,ot),v(ot,it),v(ot,st),v(u,at),v(u,lt),v(lt,ut),v(lt,ct),v(lt,ft),v(ft,dt),v(ft,pt)},p(t,e){32&e&&ht!==(ht=(100*t[5]).toFixed()+"")&&W(o,ht),1&e&&W(g,t[0]),16&e&&vt!==(vt=t[4].targetApprentice+"")&&W(b,vt),8&e&&W(O,t[3]),4&e&&W(R,t[2]),2&e&&W(P,t[1]),16&e&&yt!==(yt=t[4].newRWeight+"")&&W(K,yt),16&e&&bt!==(bt=t[4].newKWeight+"")&&W(G,bt),16&e&&wt!==(wt=t[4].newVWeight+"")&&W(Z,wt),64&e&&$t!==($t=(100*t[6]).toFixed()+"")&&W(it,$t),32&e&&xt!==(xt=(100*t[5]).toFixed()+"")&&W(dt,xt)},i(t){s||Q((()=>{s=gt(n,le,{}),s.start()})),mt||Q((()=>{mt=gt(l,le,{}),mt.start()}))},o:t,d(t){t&&$(n),t&&$(a),t&&$(l)}}}function Se(t){let e,n,r,o,i,s;return r=new ae({props:{value:t[5]}}),{c(){e=C("h1"),e.textContent="GanbarOmeter",n=N(),ht(r.$$.fragment),o=N(),i=C("div"),i.textContent="of max difficulty",F(e,"class","gbHeader"),F(i,"class","units")},m(t,a){w(t,e,a),w(t,n,a),vt(r,t,a),w(t,o,a),w(t,i,a),s=!0},p(t,e){const n={};32&e&&(n.value=t[5]),r.$set(n)},i(t){s||(ft(r.$$.fragment,t),s=!0)},o(t){dt(r.$$.fragment,t),s=!1},d(t){t&&$(e),t&&$(n),yt(r,t),t&&$(o),t&&$(i)}}}function je(t){let e,n,r,o;const i=[Se,Ne],s=[];function a(t,e){return"chart"===t[7]?0:1}return n=a(t),r=s[n]=i[n](t),{c(){e=C("div"),r.c(),F(e,"class","gbWidget")},m(t,r){w(t,e,r),s[n].m(e,null),o=!0},p(t,[o]){let l=n;n=a(t),n===l?s[n].p(t,o):(ut(),dt(s[l],1,1,(()=>{s[l]=null})),ct(),r=s[n],r?r.p(t,o):(r=s[n]=i[n](t),r.c()),ft(r,1),r.m(e,null))},i(t){o||(ft(r),o=!0)},o(t){dt(r),o=!1},d(t){t&&$(e),s[n].d()}}}function Ee(t,e,n){let r,o,i,s,a,u,c,f,d,p;return l(t,xe,(t=>n(4,f=t))),l(t,he,(t=>n(9,d=t))),l(t,fe,(t=>n(7,p=t))),t.$$.update=()=>{512&t.$$.dirty&&n(0,r=d.radicals.reduce(((t,e)=>t+e),0)+d.kanji.reduce(((t,e)=>t+e),0)+d.vocabulary.reduce(((t,e)=>t+e),0)),512&t.$$.dirty&&n(3,o=d.radicals.slice(0,2).reduce(((t,e)=>t+e),0)),512&t.$$.dirty&&n(2,i=d.kanji.slice(0,2).reduce(((t,e)=>t+e),0)),512&t.$$.dirty&&n(1,s=d.vocabulary.slice(0,2).reduce(((t,e)=>t+e),0)),t.$$.dirty,31&t.$$.dirty&&n(8,a=r-o-i-s+o*f.newRWeight+i*f.newKWeight+s*f.newVWeight),17&t.$$.dirty&&n(6,u=r/(2*f.targetApprentice)),272&t.$$.dirty&&n(5,c=a/(2*f.targetApprentice))},ke().then((t=>he.set(t))),[r,s,i,o,f,c,u,p,a,d]}class Oe extends $t{constructor(t){super(),wt(this,t,Ee,je,s,{})}}function Fe(t,e,n){const r=t.slice();return r[13]=e[n],r[15]=n,r}function Te(e){let n,r,o,i,s,a,l,u,c,f,d,p,g,m,h,y,b,_=e[1].length+"",S=e[1],j=[];for(let t=0;t<S.length;t+=1)j[t]=Ae(Fe(e,S,t));return{c(){n=C("h1"),r=k("Speed: "),o=k(e[3]),i=k(" s/q"),a=N(),l=C("div"),u=C("div"),c=C("h4"),f=k(_),d=k(" sessions • "),p=k(e[4]),g=k(" items • "),m=k(e[0]),h=k(" questions"),y=N();for(let t=0;t<j.length;t+=1)j[t].c();F(n,"class","gbHeader"),F(c,"class","svelte-1w7t04o"),F(u,"class","gbContent scrollbox svelte-1w7t04o"),F(l,"data-testid","speed-table")},m(t,e){w(t,n,e),v(n,r),v(n,o),v(n,i),w(t,a,e),w(t,l,e),v(l,u),v(u,c),v(c,f),v(c,d),v(c,p),v(c,g),v(c,m),v(c,h),v(u,y);for(let t=0;t<j.length;t+=1)j[t].m(u,null)},p(t,e){if(8&e&&W(o,t[3]),2&e&&_!==(_=t[1].length+"")&&W(f,_),16&e&&W(p,t[4]),1&e&&W(m,t[0]),962&e){let n;for(S=t[1],n=0;n<S.length;n+=1){const r=Fe(t,S,n);j[n]?j[n].p(r,e):(j[n]=Ae(r),j[n].c(),j[n].m(u,null))}for(;n<j.length;n+=1)j[n].d(1);j.length=S.length}},i(t){s||Q((()=>{s=gt(n,le,{}),s.start()})),b||Q((()=>{b=gt(l,le,{}),b.start()}))},o:t,d(t){t&&$(n),t&&$(a),t&&$(l),x(j,t)}}}function We(t){let e,n,r,o,i,s;return r=new ae({props:{value:t[2],label:t[3]}}),{c(){e=C("h1"),e.textContent="Speed",n=N(),ht(r.$$.fragment),o=N(),i=C("div"),i.textContent="seconds/question",F(e,"class","gbHeader"),F(i,"class","units")},m(t,a){w(t,e,a),w(t,n,a),vt(r,t,a),w(t,o,a),w(t,i,a),s=!0},p(t,e){const n={};4&e&&(n.value=t[2]),8&e&&(n.label=t[3]),r.$set(n)},i(t){s||(ft(r.$$.fragment,t),s=!0)},o(t){dt(r.$$.fragment,t),s=!1},d(t){t&&$(e),t&&$(n),yt(r,t),t&&$(o),t&&$(i)}}}function Ae(t){let e,n,r,o,i,s,a,l,u,c,f,d,p,g,m,h,y,b,x,_,S,j,E,O,T,A,R,D=t[15]+1+"",q=t[7](t[13].start)+"",P=t[8](t[13].end)+"",M=(t[6](t[13])/60).toFixed()+"",I=t[13].reviewCount+"",L=t[13].questionCount+"",z=(t[6](t[13])/t[13].questionCount).toFixed(1)+"",B=t[13].correctAnswerCount+"",V=t[13].questionCount+"",K=t[9](t[13])+"";return{c(){e=C("article"),n=C("h5"),r=k(D),o=k(": "),i=k(q),s=k(" – "),a=k(P),l=k("\n            ("),u=k(M),c=k("m)"),f=N(),d=C("p"),p=k(I),g=k(" items • "),m=k(L),h=k(" questions •\n            "),y=k(z),b=k(" s/q "),x=C("br"),_=N(),S=k(B),j=k("/"),E=k(V),O=k(" =\n            "),T=k(K),A=k("% correct"),R=N(),F(n,"class","svelte-1w7t04o"),F(d,"class","svelte-1w7t04o"),F(e,"class","svelte-1w7t04o")},m(t,$){w(t,e,$),v(e,n),v(n,r),v(n,o),v(n,i),v(n,s),v(n,a),v(n,l),v(n,u),v(n,c),v(e,f),v(e,d),v(d,p),v(d,g),v(d,m),v(d,h),v(d,y),v(d,b),v(d,x),v(d,_),v(d,S),v(d,j),v(d,E),v(d,O),v(d,T),v(d,A),v(e,R)},p(t,e){2&e&&q!==(q=t[7](t[13].start)+"")&&W(i,q),2&e&&P!==(P=t[8](t[13].end)+"")&&W(a,P),2&e&&M!==(M=(t[6](t[13])/60).toFixed()+"")&&W(u,M),2&e&&I!==(I=t[13].reviewCount+"")&&W(p,I),2&e&&L!==(L=t[13].questionCount+"")&&W(m,L),2&e&&z!==(z=(t[6](t[13])/t[13].questionCount).toFixed(1)+"")&&W(y,z),2&e&&B!==(B=t[13].correctAnswerCount+"")&&W(S,B),2&e&&V!==(V=t[13].questionCount+"")&&W(E,V),2&e&&K!==(K=t[9](t[13])+"")&&W(T,K)},d(t){t&&$(e)}}}function Re(t){let e,n,r,o;const i=[We,Te],s=[];function a(t,e){return"chart"===t[5]?0:1}return n=a(t),r=s[n]=i[n](t),{c(){e=C("div"),r.c(),F(e,"class","gbWidget svelte-1w7t04o"),F(e,"data-testid","speedWidget")},m(t,r){w(t,e,r),s[n].m(e,null),o=!0},p(t,[o]){let l=n;n=a(t),n===l?s[n].p(t,o):(ut(),dt(s[l],1,1,(()=>{s[l]=null})),ct(),r=s[n],r?r.p(t,o):(r=s[n]=i[n](t),r.c()),ft(r,1),r.m(e,null))},i(t){o||(ft(r),o=!0)},o(t){dt(r),o=!1},d(t){t&&$(e),s[n].d()}}}function De(t,e,n){let r,o,i,s,a,u,c,f;l(t,xe,(t=>n(12,u=t))),l(t,ye,(t=>n(1,c=t))),l(t,fe,(t=>n(5,f=t)));const d=t=>(t.end-t.start)/1e3;let p;return t.$$.update=()=>{2&t.$$.dirty&&n(4,r=c.reduce(((t,e)=>t+ +e.reviewCount),0)),2&t.$$.dirty&&n(0,o=c.reduce(((t,e)=>t+ +e.questionCount),0)),2&t.$$.dirty&&n(10,p=c.reduce(((t,e)=>t+d(e)),0)),1025&t.$$.dirty&&n(11,i=o>0?p/o:0),2048&t.$$.dirty&&n(3,s=`${i.toFixed(1)}`),6144&t.$$.dirty&&n(2,a=i/(2*u.targetSpeed))},[o,c,a,s,r,f,d,t=>Intl.DateTimeFormat("en-US",{dateStyle:"short",timeStyle:"short"}).format(t),t=>Intl.DateTimeFormat("en-US",{timeStyle:"short"}).format(t),t=>(100*t.correctAnswerCount/t.questionCount).toFixed(1),p,i,u]}class qe extends $t{constructor(t){super(),wt(this,t,De,Re,s,{})}}function Pe(t,e,n){const r=t.slice();return r[7]=e[n],r[9]=n,r}function Me(t){let e;return{c(){e=C("td"),F(e,"aria-label","percents"),F(e,"class","percents svelte-15ehjgs"),R(e,"height",(100*t[1][t[9]]).toFixed(1)+"%")},m(t,n){w(t,e,n)},p(t,n){2&n&&R(e,"height",(100*t[1][t[9]]).toFixed(1)+"%")},d(t){t&&$(e)}}}function Ie(t){let e,n,r,o=(100*t[1][t[9]]).toFixed()+"";return{c(){e=C("br"),n=k(o),r=k("%")},m(t,o){w(t,e,o),w(t,n,o),w(t,r,o)},p(t,e){2&e&&o!==(o=(100*t[1][t[9]]).toFixed()+"")&&W(n,o)},d(t){t&&$(e),t&&$(n),t&&$(r)}}}function Le(t){let e,n,r,o,i,s,a,l,u,c=(t[2][t[9]]?t[2][t[9]]:"")+"",f=t[7]+"",d=t[1].length&&Me(t),p=t[1].length&&Ie(t);return{c(){e=C("tr"),n=C("th"),r=k(c),o=N(),i=C("td"),s=N(),d&&d.c(),a=N(),l=C("span"),u=k(f),p&&p.c(),F(n,"scope","row"),F(n,"aria-label","label"),F(n,"class","svelte-15ehjgs"),F(i,"aria-label","value"),F(i,"class","svelte-15ehjgs"),F(l,"class","displayBox svelte-15ehjgs"),F(l,"data-testid","displayBox"),F(e,"aria-label","values"),R(e,"height",t[5][t[9]]+"%"),F(e,"class","svelte-15ehjgs")},m(t,c){w(t,e,c),v(e,n),v(n,r),v(e,o),v(e,i),v(e,s),d&&d.m(e,null),v(e,a),v(e,l),v(l,u),p&&p.m(l,null)},p(t,n){4&n&&c!==(c=(t[2][t[9]]?t[2][t[9]]:"")+"")&&W(r,c),t[1].length?d?d.p(t,n):(d=Me(t),d.c(),d.m(e,a)):d&&(d.d(1),d=null),1&n&&f!==(f=t[7]+"")&&W(u,f),t[1].length?p?p.p(t,n):(p=Ie(t),p.c(),p.m(l,null)):p&&(p.d(1),p=null),32&n&&R(e,"height",t[5][t[9]]+"%")},d(t){t&&$(e),d&&d.d(),p&&p.d()}}}function ze(e){let n,r,o,i,s,a,l,u=e[0],c=[];for(let t=0;t<u.length;t+=1)c[t]=Le(Pe(e,u,t));return{c(){n=C("table"),r=C("thead"),r.innerHTML='<tr class="svelte-15ehjgs"><th scope="col" class="svelte-15ehjgs">Item</th> \n      <th scope="col" class="svelte-15ehjgs">Value</th></tr>',o=N(),i=C("tbody");for(let t=0;t<c.length;t+=1)c[t].c();s=N(),a=C("div"),F(r,"class","svelte-15ehjgs"),a.hidden=l=0===e[4],F(a,"class","target svelte-15ehjgs"),R(a,"height",e[4]+"%"),F(i,"class","svelte-15ehjgs"),F(n,"class","graph svelte-15ehjgs"),F(n,"aria-label","bar-chart"),R(n,"--max-label",e[3])},m(t,e){w(t,n,e),v(n,r),v(n,o),v(n,i);for(let t=0;t<c.length;t+=1)c[t].m(i,null);v(i,s),v(i,a)},p(t,[e]){if(39&e){let n;for(u=t[0],n=0;n<u.length;n+=1){const r=Pe(t,u,n);c[n]?c[n].p(r,e):(c[n]=Le(r),c[n].c(),c[n].m(i,s))}for(;n<c.length;n+=1)c[n].d(1);c.length=u.length}16&e&&l!==(l=0===t[4])&&(a.hidden=l),16&e&&R(a,"height",t[4]+"%"),8&e&&R(n,"--max-label",t[3])},i:t,o:t,d(t){t&&$(n),x(c,t)}}}function Be(t,e,n){let r,o,i,{values:s}=e,{percents:a=[]}=e,{labels:l=[]}=e,{target:u=0}=e;return t.$$set=t=>{"values"in t&&n(0,s=t.values),"percents"in t&&n(1,a=t.percents),"labels"in t&&n(2,l=t.labels),"target"in t&&n(6,u=t.target)},t.$$.update=()=>{1&t.$$.dirty&&n(3,r=Math.max(...s)),9&t.$$.dirty&&n(5,o=s.map((t=>Math.round(t/r*100)))),72&t.$$.dirty&&n(4,i=Math.round(u/r*100))},[s,a,l,r,i,o,u]}class Ve extends $t{constructor(t){super(),wt(this,t,Be,ze,s,{values:0,percents:1,labels:2,target:6})}}function Ke(e){let n,r,o,i,s,a,l,u,c,f,d,p,g,m,h,y,b,x,_,S,j,E,O,T,A,R,D,q,P,M,I,L,z,B,V,K=e[3].toFixed()+"",H=e[3].toFixed()+"",U=e[9](e[2][e[2].length-1]?.start)+"",G=e[2][e[2].length-1]?.review_count+"",X=(100*e[0][e[0].length-1]).toFixed()+"";function J(t,e){return t[2].length>2?Ge:2===t[2].length?Ue:void 0}let Z=J(e),Y=Z&&Z(e);return{c(){n=C("h1"),r=k(e[1]),o=k(" Reviews @"),i=k(K),s=k("%"),l=N(),u=C("div"),c=C("table"),f=C("tr"),d=C("th"),d.textContent="Average:",p=N(),g=C("td"),m=k(e[5]),h=N(),y=C("span"),b=k("reviews @ "),x=k(H),_=k("%"),S=N(),j=C("tr"),E=C("th"),O=k("Latest ("),T=k(U),A=k("):"),R=N(),D=C("td"),q=k(G),P=N(),M=C("span"),I=k("reviews @ "),L=k(X),z=k("%"),B=N(),Y&&Y.c(),F(n,"class","gbHeader"),F(y,"class","secondary"),F(M,"class","secondary"),F(c,"class","gbContent"),F(u,"data-testid","reviews-per-day-table")},m(t,e){w(t,n,e),v(n,r),v(n,o),v(n,i),v(n,s),w(t,l,e),w(t,u,e),v(u,c),v(c,f),v(f,d),v(f,p),v(f,g),v(g,m),v(g,h),v(g,y),v(y,b),v(y,x),v(y,_),v(c,S),v(c,j),v(j,E),v(E,O),v(E,T),v(E,A),v(j,R),v(j,D),v(D,q),v(D,P),v(D,M),v(M,I),v(M,L),v(M,z),v(c,B),Y&&Y.m(c,null)},p(t,e){2&e&&W(r,t[1]),8&e&&K!==(K=t[3].toFixed()+"")&&W(i,K),32&e&&W(m,t[5]),8&e&&H!==(H=t[3].toFixed()+"")&&W(x,H),4&e&&U!==(U=t[9](t[2][t[2].length-1]?.start)+"")&&W(T,U),4&e&&G!==(G=t[2][t[2].length-1]?.review_count+"")&&W(q,G),1&e&&X!==(X=(100*t[0][t[0].length-1]).toFixed()+"")&&W(L,X),Z===(Z=J(t))&&Y?Y.p(t,e):(Y&&Y.d(1),Y=Z&&Z(t),Y&&(Y.c(),Y.m(c,null)))},i(t){a||Q((()=>{a=gt(n,le,{}),a.start()})),V||Q((()=>{V=gt(u,le,{}),V.start()}))},o:t,d(t){t&&$(n),t&&$(l),t&&$(u),Y&&Y.d()}}}function He(t){let e,n,r,o;return r=new Ve({props:{values:t[4],labels:t[6],target:t[8].targetRevDay,percents:t[0]}}),{c(){e=C("h1"),e.textContent="Accuracy",n=N(),ht(r.$$.fragment),F(e,"class","gbHeader")},m(t,i){w(t,e,i),w(t,n,i),vt(r,t,i),o=!0},p(t,e){const n={};16&e&&(n.values=t[4]),64&e&&(n.labels=t[6]),256&e&&(n.target=t[8].targetRevDay),1&e&&(n.percents=t[0]),r.$set(n)},i(t){o||(ft(r.$$.fragment,t),o=!0)},o(t){dt(r.$$.fragment,t),o=!1},d(t){t&&$(e),t&&$(n),yt(r,t)}}}function Ue(t){let e,n,r,o,i,s,a,l,u,c=t[9](t[2][0].start)+"",f=t[2][0].review_count+"";return{c(){e=C("tr"),n=C("th"),r=k(c),o=k(":"),i=N(),s=C("td"),a=k(f),l=N(),u=C("span"),u.textContent="reviews",F(u,"class","secondary")},m(t,c){w(t,e,c),v(e,n),v(n,r),v(n,o),v(e,i),v(e,s),v(s,a),v(s,l),v(s,u)},p(t,e){4&e&&c!==(c=t[9](t[2][0].start)+"")&&W(r,c),4&e&&f!==(f=t[2][0].review_count+"")&&W(a,f)},d(t){t&&$(e)}}}function Ge(t){let e,n,r,o,i,s,a,l,u,c,f,d,p,g,m,h,y,b,x,_=t[9](t[2][0].start)+"",S=t[9](t[2][t[2].length-2].start)+"",j=t[2].slice(0,-1).map(Je).join(" • ")+"",E=t[0].slice(0,-1).map(Ze).join("% • ")+"";return{c(){e=C("tr"),n=C("th"),r=k(_),o=k(" – "),i=k(S),s=k(":"),a=N(),l=C("td"),u=k(j),c=N(),f=C("span"),f.textContent="reviews",d=N(),p=C("tr"),g=C("th"),m=N(),h=C("td"),y=k(E),b=k("% "),x=C("span"),x.textContent="accuracy",F(f,"class","secondary"),F(x,"class","secondary")},m(t,$){w(t,e,$),v(e,n),v(n,r),v(n,o),v(n,i),v(n,s),v(e,a),v(e,l),v(l,u),v(l,c),v(l,f),w(t,d,$),w(t,p,$),v(p,g),v(p,m),v(p,h),v(h,y),v(h,b),v(h,x)},p(t,e){4&e&&_!==(_=t[9](t[2][0].start)+"")&&W(r,_),4&e&&S!==(S=t[9](t[2][t[2].length-2].start)+"")&&W(i,S),4&e&&j!==(j=t[2].slice(0,-1).map(Je).join(" • ")+"")&&W(u,j),1&e&&E!==(E=t[0].slice(0,-1).map(Ze).join("% • ")+"")&&W(y,E)},d(t){t&&$(e),t&&$(d),t&&$(p)}}}function Xe(t){let e,n,r,o;const i=[He,Ke],s=[];function a(t,e){return"chart"===t[7]?0:1}return n=a(t),r=s[n]=i[n](t),{c(){e=C("div"),r.c(),F(e,"class","gbWidget"),F(e,"data-testid","reviews-per-day-gauge")},m(t,r){w(t,e,r),s[n].m(e,null),o=!0},p(t,[o]){let l=n;n=a(t),n===l?s[n].p(t,o):(ut(),dt(s[l],1,1,(()=>{s[l]=null})),ct(),r=s[n],r?r.p(t,o):(r=s[n]=i[n](t),r.c()),ft(r,1),r.m(e,null))},i(t){o||(ft(r),o=!0)},o(t){dt(r),o=!1},d(t){t&&$(e),s[n].d()}}}const Je=t=>t.review_count,Ze=t=>(100*t).toFixed();function Ye(t,e,n){let r,o,i,s,a,u,c,f,d,p;l(t,we,(t=>n(2,c=t))),l(t,pe,(t=>n(10,f=t))),l(t,fe,(t=>n(7,d=t))),l(t,xe,(t=>n(8,p=t)));const g=t=>new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(t);return t.$$.update=()=>{4&t.$$.dirty&&n(6,r=c.map((t=>g(t.start)))),4&t.$$.dirty&&n(1,o=c.reduce(((t,e)=>t+e.review_count),0)),1026&t.$$.dirty&&n(5,i=(o/f[0]).toFixed()),4&t.$$.dirty&&n(4,s=c.map((t=>t.review_count))),4&t.$$.dirty&&n(0,a=c.map((t=>t.accuracy))),1&t.$$.dirty&&n(3,u=100*a.reduce(((t,e)=>t+e),0)/a.length)},[a,o,c,u,s,i,r,d,p,g,f]}class Qe extends $t{constructor(t){super(),wt(this,t,Ye,Xe,s,{})}}function tn(t){let e,n,r,i,s,a,l,c,f,d,p;const g=t[5].default,m=function(t,e,n,r){if(t){const o=u(t,e,n,r);return t[0](o)}}(g,t,t[4],null);return{c(){e=C("div"),n=C("div"),r=_("svg"),i=_("circle"),s=_("line"),a=_("line"),l=N(),c=C("div"),m&&m.c(),F(i,"cx","6"),F(i,"cy","6"),F(i,"r","6"),F(s,"x1","3"),F(s,"y1","3"),F(s,"x2","9"),F(s,"y2","9"),F(s,"class","svelte-18s3qyj"),F(a,"x1","9"),F(a,"y1","3"),F(a,"x2","3"),F(a,"y2","9"),F(a,"class","svelte-18s3qyj"),F(r,"id","close"),F(r,"viewBox","0 0 12 12"),F(r,"class","svelte-18s3qyj"),F(c,"id","modal-content"),F(c,"class","svelte-18s3qyj"),F(n,"id","modal"),F(n,"class","svelte-18s3qyj"),F(e,"id","topModal"),F(e,"class","svelte-18s3qyj"),q(e,"visible",t[1])},m(o,u){w(o,e,u),v(e,n),v(n,r),v(r,i),v(r,s),v(r,a),v(n,l),v(n,c),m&&m.m(c,null),t[7](e),f=!0,d||(p=[j(r,"click",t[6]),j(n,"click",O(rn)),j(e,"click",t[8])],d=!0)},p(t,[n]){m&&m.p&&(!f||16&n)&&function(t,e,n,r,o,i){if(o){const s=u(e,n,r,i);t.p(s,o)}}(m,g,t,t[4],f?function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(g,t[4],n,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[4]),null),2&n&&q(e,"visible",t[1])},i(t){f||(ft(m,t),f=!0)},o(t){dt(m,t),f=!1},d(n){n&&$(e),m&&m.d(n),t[7](null),d=!1,o(p)}}}let en;const nn={};const rn=()=>{};function on(t,e,n){let r,o,i,{$$slots:s={},$$scope:a}=e,l=!1,{id:u=""}=e;function c(t){"Escape"==t.key&&en==r&&f(null)}function f(t){l&&(window.removeEventListener("keydown",c),en=o,null==en&&(document.body.style.overflow=""),n(1,l=!1),i&&i(t))}nn[u]={open:function(t){i=t,l||(o=en,en=r,window.addEventListener("keydown",c),document.body.style.overflow="hidden",n(1,l=!0),document.body.appendChild(r))},close:f},function(t){K().$$.on_destroy.push(t)}((()=>{delete nn[u],window.removeEventListener("keydown",c)}));return t.$$set=t=>{"id"in t&&n(3,u=t.id),"$$scope"in t&&n(4,a=t.$$scope)},[r,l,f,u,a,s,()=>f(null),function(t){G[t?"unshift":"push"]((()=>{r=t,n(0,r)}))},()=>f(null)]}class sn extends $t{constructor(t){super(),wt(this,t,on,tn,s,{id:3})}}function an(t){let e,n;return{c(){e=C("span"),n=k(t[0]),F(e,"class","errors svelte-9nbcyp")},m(t,r){w(t,e,r),v(e,n)},p(t,e){1&e&&W(n,t[0])},d(t){t&&$(e)}}}function ln(e){let n,r=e[0]&&an(e);return{c(){r&&r.c(),n=S()},m(t,e){r&&r.m(t,e),w(t,n,e)},p(t,[e]){t[0]?r?r.p(t,e):(r=an(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&$(n)}}}function un(t,e,n){let r,{errors:o={}}=e,{path:i}=e;return t.$$set=t=>{"errors"in t&&n(1,o=t.errors),"path"in t&&n(2,i=t.path)},t.$$.update=()=>{6&t.$$.dirty&&n(0,r=o[i]&&o[i].length?o[i][0]:void 0)},[r,o,i]}class cn extends $t{constructor(t){super(),wt(this,t,un,ln,s,{errors:1,path:2})}}function fn(){return(fn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}function dn(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||e)}var pn=Object.assign;function gn(t){return"function"==typeof t}function mn(t,e){function n(t){r=!0,o=t}for(var r=!1,o=null,i=0;i<t.length;i++)if(e(t[i],n,i),r)return o}function hn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return gn(t)?t.apply(void 0,e):t}function vn(t,e){var n;return null!==(n=hn(t))&&void 0!==n?n:e}function yn(t,e){return t={pass:t},e&&(t.message=e),t}function bn(t,e){try{return t.run(e)}catch(t){return yn(!1)}}function wn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(void 0,e)}}function $n(t,e){return t.length===Number(e)}var xn=wn($n);function Cn(t,e){return t.length>Number(e)}function _n(t){return null===t}var kn=wn(_n);function Nn(t){return void 0===t}var Sn=wn(Nn);function jn(t){return String(t)===t}function En(t,e){return jn(t)&&jn(e)&&t.endsWith(e)}var On=wn(En);function Fn(t,e){return t===e}var Tn=wn(Fn);function Wn(t){var e=Number(t);return!(isNaN(parseFloat(String(t)))||isNaN(Number(t))||!isFinite(e))}var An=wn(Wn);function Rn(t,e){return Wn(t)&&Wn(e)&&Number(t)>Number(e)}function Dn(t,e){return Wn(t)&&Wn(e)&&Number(t)>=Number(e)}function qn(t){return!!Array.isArray(t)}var Pn=wn(qn);function Mn(t,e){return!!(qn(e)||jn(e)&&jn(t))&&-1!==e.indexOf(t)}var In=wn(Mn);function Ln(t,e){return Wn(t)&&Wn(e)&&Number(t)<=Number(e)}function zn(t,e,n){return Dn(t,e)&&Ln(t,n)}var Bn=wn(zn);function Vn(t){return jn(t)&&!t.trim()}var Kn=wn(Vn);function Hn(t){return!!t===t}var Un=wn(Hn);function Gn(t){return"number"==typeof t}var Xn=wn(Gn);function Jn(t){if(t){if(Gn(t))return 0===t;if(Object.prototype.hasOwnProperty.call(t,"length"))return $n(t,0);if("object"==typeof t)return $n(Object.keys(t),0)}return!0}var Zn=wn(Jn);function Yn(t){return Number.isNaN(t)}var Qn=wn(Yn);function tr(t){return!!Wn(t)&&0>Number(t)}var er=wn(tr),nr=wn(jn);function rr(t){return!!t}var or=wn(rr);function ir(t,e){return Wn(t)&&Wn(e)&&Number(t)<Number(e)}function sr(t,e){return e instanceof RegExp?e.test(t):!!jn(e)&&new RegExp(e).test(t)}var ar=wn(sr);function lr(t,e){return Wn(t)&&Wn(e)&&Number(t)===Number(e)}var ur=wn(lr);function cr(t,e){return jn(t)&&jn(e)&&t.startsWith(e)}var fr=wn(cr);function dr(t,e){throw Error(vn(e,t))}function pr(t){function e(e,o){var i,s,a=n();return e=pn({},a||{},null!==(i=hn(t,e,a))&&void 0!==i?i:e),i=r.ctx=Object.freeze(e),r.ancestry.unshift(i),o=o(i),r.ancestry.shift(),r.ctx=null!==(s=r.ancestry[0])&&void 0!==s?s:null,o}function n(){return r.ctx}var r={ancestry:[]};return{bind:function(t,n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e(t,(function(){return n.apply(void 0,r)}))}},run:e,use:n,useX:function(t){var e;return null!==(e=r.ctx)&&void 0!==e?e:dr(vn(t,"Context was used after it was closed"))}}}var gr=pr((function(t,e){var n={value:t.value,meta:t.meta||{}};return e?t.set?pn(n,{parent:function(){return e?{value:e.value,meta:e.meta,parent:e.parent}:e}}):e:pn(n,{parent:mr})}));function mr(){return null}function hr(t,e){function n(n){var r=t[n],o=e[n];if(!(n=gr.run({value:r,set:!0,meta:{key:n}},(function(){return bn(o,r)}))).pass)return{value:n}}for(var r in e){var o=n(r);if("object"==typeof o)return o.value}return yn(!0)}var vr=pn({condition:function(t,e){try{return e(t)}catch(t){return!1}},doesNotEndWith:On,doesNotStartWith:fr,endsWith:En,equals:Fn,greaterThan:Rn,greaterThanOrEquals:Dn,gt:Rn,gte:Dn,inside:Mn,isArray:qn,isBetween:zn,isBlank:Vn,isBoolean:Hn,isEmpty:Jn,isEven:function(t){return!!Wn(t)&&0==t%2},isFalsy:or,isNaN:Yn,isNegative:tr,isNotArray:Pn,isNotBetween:Bn,isNotBlank:Kn,isNotBoolean:Un,isNotEmpty:Zn,isNotNaN:Qn,isNotNull:kn,isNotNumber:Xn,isNotNumeric:An,isNotString:nr,isNotUndefined:Sn,isNull:_n,isNumber:Gn,isNumeric:Wn,isOdd:function(t){return!!Wn(t)&&0!=t%2},isPositive:er,isString:jn,isTruthy:rr,isUndefined:Nn,lengthEquals:$n,lengthNotEquals:xn,lessThan:ir,lessThanOrEquals:Ln,longerThan:Cn,longerThanOrEquals:function(t,e){return t.length>=Number(e)},lt:ir,lte:Ln,matches:sr,notEquals:Tn,notInside:In,notMatches:ar,numberEquals:lr,numberNotEquals:ur,shorterThan:function(t,e){return t.length<Number(e)},shorterThanOrEquals:function(t,e){return t.length<=Number(e)},startsWith:cr},{allOf:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return vn(mn(e,(function(e,n){(e=bn(e,t)).pass||n(e)})),yn(!0))},anyOf:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return vn(mn(e,(function(e,n){(e=bn(e,t)).pass&&n(e)})),yn(!1))},noneOf:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return vn(mn(e,(function(e,n){bn(e,t).pass&&n(yn(!1))})),yn(!0))},oneOf:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=[];return e.some((function(e){if(Cn(r,1))return!1;(e=bn(e,t)).pass&&r.push(e)})),yn($n(r,1))},optional:function(t,e){return Nn(t)||null===t?yn(!0):bn(e,t)}},{shape:function(t,e){var n=hr(t,e);if(!n.pass)return n;for(var r in t)if(!Object.prototype.hasOwnProperty.call(e,r))return yn(!1);return yn(!0)},loose:hr,isArrayOf:function(t,e){return vn(mn(t,(function(t,n,r){(r=gr.run({value:t,set:!0,meta:{index:r}},(function(){return bn(e,t)}))).pass||n(r)})),yn(!0))}});function yr(t){for(var e in vr){var n=vr[e];gn(n)&&t(e,n)}}function br(){try{return gn(Proxy)}catch(t){return!1}}function wr(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return Hn(t)||t&&Hn(t.pass)||dr("Incorrect return value for rule: "+JSON.stringify(t)),Hn(t)?yn(t):yn(t.pass,hn.apply(void 0,dn([t.message,e,n],r)))}function $r(t){var e,n=[];return function t(r){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=vr[r];n.push((function(t){return wr.apply(void 0,dn([s.apply(void 0,dn([t],o)),r,t],o))}));var a={run:function(t){return vn(mn(n,(function(n,r){var o,i=gr.run({value:t},(function(){return n(t)}));i.pass||r(yn(!!i.pass,null!==(o=hn(e,t,i.message))&&void 0!==o?o:i.message))})),yn(!0))},test:function(t){return a.run(t).pass},message:function(t){return t&&(e=t),a}};return br()?a=new Proxy(a,{get:function(e,n){return vr[n]?t(n):e[n]}}):(yr((function(e){a[e]=t(e)})),a)}}(t)}var xr,Cr=(xr=fn({context:function(){return gr.useX()},extend:function(t){pn(vr,t)}},{partial:function(t){var e,n={};for(e in t)n[e]=Cr.optional(t[e]);return n}}),br()?new Proxy(pn((function(t){function e(e,n,r){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(!(i=wr.apply(void 0,dn([gr.run({value:t},(function(){return n.apply(void 0,dn([t],o))})),r,t],o))).pass){if(!Jn(i.message))throw i.message;dr("enforce/"+r+" failed with "+JSON.stringify(t))}return e}}var n={};if(!br())return yr((function(t,r){n[t]=e(n,r,t)})),n;var r=new Proxy(n,{get:function(t,n){if(t=vr[n])return e(r,t,n)}});return r}),xr),{get:function(t,e){return e in t?t[e]:vr[e]?$r(e):void 0}}):(yr((function(t){xr[t]=$r(t)})),xr)),_r=function(t){return function(){return""+t++}}(0);function kr(t){function e(t,e,o){return r.references.push(),n(t,hn(e,o)),function(){return[r.references[t],function(e){return n(t,hn(e,r.references[t]))}]}}function n(e,n){var i=r.references[e];r.references[e]=n,gn(e=o[e][1])&&e(n,i),gn(t)&&t()}var r={references:[]},o=[];return{registerStateKey:function(t,n){var r=o.length;return o.push([t,n]),e(r,t)},reset:function(){var t=r.references;r.references=[],o.forEach((function(n,r){return e(r,n[0],t[r])}))}}}var Nr,Sr=Nr||(Nr={});function jr(t,e){var n=e.suiteId;return e=e.suiteName,{optionalFields:t.registerStateKey((function(){return{}})),suiteId:t.registerStateKey(n),suiteName:t.registerStateKey(e),testCallbacks:t.registerStateKey((function(){return{fieldCallbacks:{},doneCallbacks:[]}})),testObjects:t.registerStateKey((function(t){return{prev:t?t.current:[],current:[]}}))}}function Er(t){return(t=[].concat(t))[t.length-1]}function Or(){function t(){e=[0]}var e=[];return t(),{addLevel:function(){e.push(0)},cursorAt:function(){return Er(e)},getCursor:function(){return[].concat(e)},next:function(){return e[e.length-1]++,Er(e)},removeLevel:function(){e.pop()},reset:t}}Sr[Sr.DEFAULT=0]="DEFAULT",Sr[Sr.SUITE=1]="SUITE",Sr[Sr.EACH=2]="EACH",Sr[Sr.SKIP_WHEN=3]="SKIP_WHEN",Sr[Sr.GROUP=4]="GROUP";var Fr=pr((function(t,e){return e?null:pn({},{isolate:{type:Nr.DEFAULT},testCursor:Or(),exclusion:{tests:{},groups:{}}},t)}));function Tr(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r];qn(o)?n.push(Tr(o,e)):(o=e(o),kn(o)&&n.push(o))}return n}function Wr(t){return[].concat(t).reduce((function(t,e){return qn(e)?t.concat(Wr(e)):[].concat(t).concat(e)}),[])}function Ar(t,e){var n=0;for(e=e.slice(0,-1);n<e.length;n++){var r=e[n];t[r]=vn(t[r],[]),t=t[r]}return t}function Rr(t){function e(r,o){var i=e.get(r);return i?i[1]:(o=o(),n.unshift([r.concat(),o]),Cn(n,t)&&(n.length=t),o)}void 0===t&&(t=1);var n=[];return e.invalidate=function(t){var e=n.findIndex((function(e){var n=e[0];return $n(t,n.length)&&t.every((function(t,e){return t===n[e]}))}));-1<e&&n.splice(e,1)},e.get=function(t){return n[n.findIndex((function(e){var n=e[0];return $n(t,n.length)&&t.every((function(t,e){return t===n[e]}))}))]||null},e}function Dr(){return Fr.useX().stateRef}function qr(){(0,Dr().testObjects()[1])((function(t){return{prev:t.prev,current:[].concat(t.current)}}))}function Pr(t){(0,Dr().testObjects()[1])((function(e){return{prev:e.prev,current:[].concat(t(e.current))}}))}function Mr(){return Wr(Tr(Dr().testObjects()[0].current,(function(t){return t.isPending()?t:null})))}var Ir=Rr();function Lr(){var t=Dr().testObjects()[0].current;return Ir([t],(function(){return Wr(t)}))}function zr(){return Fr.useX().testCursor.getCursor()}function Br(t,e){if(t=void 0===(t=t.type)?Nr.DEFAULT:t,gn(e)){var n=zr();return Fr.run({isolate:{type:t}},(function(){Fr.useX().testCursor.addLevel(),Pr((function(t){return Ar(t,n)[Er(n)]=[],t}));var t=e();return Fr.useX().testCursor.removeLevel(),Fr.useX().testCursor.next(),t}))}}function Vr(t,e){return!(!e||t.fieldName!==e)}function Kr(t){var e=Mr();return!Jn(e)&&(t?e.some((function(e){return Vr(e,t)})):Zn(e))}function Hr(t,e){function n(t,e){i[t]++,o&&(i[e]=(i[e]||[]).concat(o))}var r=e.fieldName,o=e.message;t[r]=t[r]||{errorCount:0,warnCount:0,testCount:0};var i=t[r];return e.isSkipped()||(t[r].testCount++,e.isFailing()?n("errorCount","errors"):e.isWarning()&&n("warnCount","warnings")),i}function Ur(t,e,n){var r;void 0===n&&(n={});var o=(n=n||{}).group,i=n.fieldName;return e.reduce((function(e,n){if(o&&n.groupName!==o)var r=!0;else i&&!Vr(n,i)?r=!0:(r=n.warns(),r="warnings"===t!=!!r);return r||!n.hasFailures()||(e[n.fieldName]=(e[n.fieldName]||[]).concat(n.message||[])),e}),fn({},i&&((r={})[i]=[],r)))}function Gr(t){return Jr("errors",t)}function Xr(t){return Jr("warnings",t)}function Jr(t,e){return t=Ur(t,Lr(),{fieldName:e}),e?t[e]:t}function Zr(t,e){return t=Qr("errors",t,e),e?t[e]:t}function Yr(t,e){return t=Qr("warnings",t,e),e?t[e]:t}function Qr(t,e,n){return e||dr("get"+t[0].toUpperCase()+t.slice(1)+"ByGroup requires a group name. Received `"+e+"` instead."),Ur(t,Lr(),{group:e,fieldName:n})}function to(t,e,n){return(n=!t.hasFailures()||n&&!Vr(t,n))||(n="warnings"===e!=!!(t=t.warns())),!n}function eo(t){return ro("errors",t)}function no(t){return ro("warnings",t)}function ro(t,e){return Lr().some((function(n){return to(n,t,e)}))}function oo(t,e){return so("errors",t,e)}function io(t,e){return so("warnings",t,e)}function so(t,e,n){return Lr().some((function(r){return e===r.groupName&&to(r,t,n)}))}var ao=Rr(20);function lo(){var t=Lr(),e={stateRef:Dr()};return ao([t],Fr.bind(e,(function(){var t=Dr().suiteName()[0];return pn(function(){var t={errorCount:0,groups:{},testCount:0,tests:{},warnCount:0};return Lr().forEach((function(e){var n=e.fieldName,r=e.groupName;t.tests[n]=Hr(t.tests,e),r&&(t.groups[r]=t.groups[r]||{},t.groups[r][n]=Hr(t.groups[r],e))})),function(t){for(var e in t.tests)t.errorCount+=t.tests[e].errorCount,t.warnCount+=t.tests[e].warnCount,t.testCount+=t.tests[e].testCount;return t}(t)}(),{getErrors:Fr.bind(e,Gr),getErrorsByGroup:Fr.bind(e,Zr),getWarnings:Fr.bind(e,Xr),getWarningsByGroup:Fr.bind(e,Yr),hasErrors:Fr.bind(e,eo),hasErrorsByGroup:Fr.bind(e,oo),hasWarnings:Fr.bind(e,no),hasWarningsByGroup:Fr.bind(e,io),isValid:Fr.bind(e,(function(t){var e=lo(),n=Lr().reduce((function(t,e){return t[e.fieldName]||e.isOmitted()&&(t[e.fieldName]=!0),t}),{});return t=(n=!!t&&!!n[t])||!e.hasErrors(t)&&(!(Jn(n=Lr())||t&&Jn(e.tests[t])||function(t){var e=Dr().optionalFields()[0];return Zn(Mr().filter((function(n){return!(t&&!Vr(n,t))&&!0!==e[n.fieldName]})))}(t))&&function(t){var e=Lr(),n=Dr().optionalFields()[0];return e.every((function(e){return!(!t||Vr(e,t))||!0===n[e.fieldName]||e.isTested()||e.isOmitted()}))}(t))})),suiteName:t})})))}var uo=Rr(20);function co(){var t=Lr(),e={stateRef:Dr()};return uo([t],Fr.bind(e,(function(){return pn({},lo(),{done:Fr.bind(e,go)})})))}function fo(t,e,n){return!(gn(t)&&(!e||n.tests[e]&&0!==n.tests[e].testCount))}function po(t){return!(Kr()&&(!t||Kr(t)))}function go(){function t(){return r(lo())}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(e=e.reverse())[0];return e=e[1],n=co(),fo(r,e,n)?n:po(e)?(t(),n):(mo(t,e),n)}function mo(t,e){var n=Fr.bind({},t);(0,Dr().testCallbacks()[1])((function(t){return e?t.fieldCallbacks[e]=(t.fieldCallbacks[e]||[]).concat(n):t.doneCallbacks.push(n),t}))}function ho(t){return t.forEach((function(t){return t()}))}function vo(){var t=function(){var t={};return{emit:function(e,n){t[e]&&t[e].forEach((function(t){t(n)}))},on:function(e,n){return t[e]||(t[e]=[]),t[e].push(n),{off:function(){t[e]=t[e].filter((function(t){return t!==n}))}}}}}();return t.on(bo.TEST_COMPLETED,(function(t){if(!t.isCanceled()){t.done(),t=t.fieldName;var e=Dr().testCallbacks()[0].fieldCallbacks;t&&!Kr(t)&&qn(e[t])&&ho(e[t]),t=Dr().testCallbacks()[0].doneCallbacks,Kr()||ho(t)}})),t.on(bo.SUITE_COMPLETED,(function(){!function(){var t=Dr().optionalFields()[0];if(!Jn(t)){var e={};Pr((function(n){return Tr(n,(function(n){var r=n.fieldName;if(e.hasOwnProperty(r))e[n.fieldName]&&n.omit();else{var o=t[r];gn(o)&&(e[r]=o(),e[n.fieldName]&&n.omit())}return n}))}))}}()})),t.on(bo.REMOVE_FIELD,(function(t){Lr().forEach((function(e){Vr(e,t)&&(e.cancel(),function(t){Pr((function(e){return Tr(e,(function(e){return t!==e?e:null}))}))}(e))}))})),t}function yo(){var t=Fr.useX();return t.bus||dr(),t.bus}var bo,wo=bo||(bo={});function $o(t){return xo(0,"tests",t)}function xo(t,e,n){var r=Fr.useX("hook called outside of a running suite.");n&&[].concat(n).forEach((function(n){jn(n)&&(r.exclusion[e][n]=0===t)}))}function Co(t){for(var e in t)if(!0===t[e])return!0;return!1}wo.TEST_COMPLETED="test_completed",wo.REMOVE_FIELD="remove_field",wo.SUITE_COMPLETED="suite_completed",$o.group=function(t){return xo(0,"groups",t)};var _o,ko=_o||(_o={});ko.Error="error",ko.Warning="warning";var No=function(){function t(t,e,n){var r=void 0===n?{}:n;n=r.message,r=r.groupName,this.id=_r(),this.severity=_o.Error,this.status=So,this.fieldName=t,this.testFn=e,r&&(this.groupName=r),n&&(this.message=n)}return t.prototype.run=function(){try{var t=this.testFn()}catch(e){t=e,Nn(this.message)&&jn(t)&&(this.message=e),t=!1}return!1===t&&this.fail(),t},t.prototype.setStatus=function(t){this.isFinalStatus()&&t!==Ao||(this.status=t)},t.prototype.warns=function(){return this.severity===_o.Warning},t.prototype.setPending=function(){this.setStatus(To)},t.prototype.fail=function(){this.setStatus(this.warns()?Oo:Eo)},t.prototype.done=function(){this.isFinalStatus()||this.setStatus(Fo)},t.prototype.warn=function(){this.severity=_o.Warning},t.prototype.isFinalStatus=function(){return this.hasFailures()||this.isCanceled()||this.isPassing()},t.prototype.skip=function(){this.isPending()||this.setStatus(jo)},t.prototype.cancel=function(){this.setStatus(Wo),qr()},t.prototype.omit=function(){this.setStatus(Ao)},t.prototype.valueOf=function(){return!this.isFailing()},t.prototype.hasFailures=function(){return this.isFailing()||this.isWarning()},t.prototype.isPending=function(){return this.status===To},t.prototype.isTested=function(){return this.hasFailures()||this.isPassing()},t.prototype.isOmitted=function(){return this.status===Ao},t.prototype.isUntested=function(){return this.status===So},t.prototype.isFailing=function(){return this.status===Eo},t.prototype.isCanceled=function(){return this.status===Wo},t.prototype.isSkipped=function(){return this.status===jo},t.prototype.isPassing=function(){return this.status===Fo},t.prototype.isWarning=function(){return this.status===Oo},t}(),So="UNTESTED",jo="SKIPPED",Eo="FAILED",Oo="WARNING",Fo="PASSING",To="PENDING",Wo="CANCELED",Ao="OMITTED";function Ro(t){var e=t.asyncTest,n=t.message;if(e&&gn(e.then)){var r=yo().emit,o=Dr(),i=Fr.bind({stateRef:o},(function(){qr(),r(bo.TEST_COMPLETED,t)}));o=Fr.bind({stateRef:o},(function(e){t.isCanceled()||(t.message=jn(e)?e:n,t.fail(),i())}));try{e.then(i,o)}catch(t){o()}}}function Do(t){var e=zr();Pr((function(n){return Ar(n,e)[Er(e)]=t,n}))}function qo(t){var e=function(t){var e=Dr().testObjects(),n=e[1],r=e[0].prev;if(Jn(r))return Do(t),t;if(function(t,e){return Zn(t)&&!(t.fieldName===e.fieldName&&t.groupName===e.groupName)}(e=function(t){var e=zr();return Ar(t,e)[Er(e)]}(r),t)){!function(t,e){Fr.useX().isolate.type!==Nr.EACH&&function(t,e){setTimeout((function(){dr(t,void 0)}),0)}("Vest Critical Error: Tests called in different order than previous run.\n    expected: "+t.fieldName+"\n    received: "+e.fieldName+"\n    This happens when you conditionally call your tests using if/else.\n    This might lead to incorrect validation results.\n    Replacing if/else with skipWhen solves these issues.")}(e,t),e=Ar(r,zr());var o=Fr.useX().testCursor.cursorAt();e.splice(o),n((function(t){return{prev:r,current:t.current}})),e=null}return Do(t=vn(e,t)),t}(t);if(function(t){var e=t.fieldName;t=t.groupName;var n=Fr.useX();if(n.skipped)return!0;var r=(n=n.exclusion).tests,o=r[e];if(!1===o)return!0;if(o=!0===o,t){t:{var i=Fr.useX().exclusion.groups;if(Object.prototype.hasOwnProperty.call(i,t))var s=!1===i[t];else{for(s in i)if(!0===i[s]){s=!0;break t}s=!1}}if(s)return!0;if(!0===n.groups[t])return!(o||!Co(r)&&!1!==r[e])}return!o&&Co(r)}(t))return t.skip(),Fr.useX().testCursor.next(),e;if(t!==e&&e.fieldName===t.fieldName&&e.groupName===t.groupName&&e.isPending()&&e.cancel(),Do(t),Fr.useX().testCursor.next(),t.isUntested()){e=yo();var n=function(t){return Fr.run({currentTest:t},(function(){try{var e=t.testFn()}catch(n){e=n,Nn(t.message)&&jn(e)&&(t.message=n),e=!1}return!1===e&&t.fail(),e}))}(t);try{n&&gn(n.then)?(t.asyncTest=n,t.setPending(),Ro(t)):e.emit(bo.TEST_COMPLETED,t)}catch(e){dr("Your test function "+t.fieldName+' returned a value. Only "false" or Promise returns are supported.')}}else(e=t.asyncTest)&&gn(e.then)&&(t.setPending(),Ro(t));return t}function Po(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];n=e.reverse(),e=n[0],n=n[1];var r=Fr.useX();return qo(e=new No(t,e,{message:n,groupName:r.groupName}))}var Mo=pn(Po,{each:function(t){return function(e){return qn(e)||dr("test.each: Expected table to be an array."),function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=(r=r.reverse())[0],s=r[1];return Br({type:Nr.EACH},(function(){return e.map((function(e){return e=[].concat(e),t(hn.apply(void 0,dn([n],e)),hn.apply(void 0,dn([s],e)),(function(){return i.apply(void 0,e)}))}))}))}}}(Po),memo:function(t){var e=Rr(100);return function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];o=Fr.useX().testCursor.cursorAt();var i=(r=r.reverse())[0],s=r[1],a=r[2];return o=[Dr().suiteId()[0],n,o].concat(i),null===(r=e.get(o))?e(o,(function(){return t(n,a,s)})):r[1].isCanceled()?(e.invalidate(o),e(o,(function(){return t(n,a,s)}))):qo(r[1])}}(Po)});const Io=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(t=t.reverse())[0];t=t[1],gn(n)||dr("vest.create: Expected callback to be a function.");var r=vo(),o=kr();return t={stateRef:jr(o,{suiteId:_r(),suiteName:t}),bus:r},pn(Fr.bind(t,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.reset(),Br({type:Nr.SUITE},(function(){n.apply(void 0,t)})),r.emit(bo.SUITE_COMPLETED),co()})),{get:Fr.bind(t,lo),reset:o.reset,remove:Fr.bind(t,(function(t){r.emit(bo.REMOVE_FIELD,t)}))})}("Settings Form",((t={},e)=>{$o(e),Mo("newRWeight","Must be between 0 and 3",(()=>{Cr(t.newRWeight).gte(0),Cr(t.newRWeight).lte(3)})),Mo("newKWeight","Must be between 0 and 3",(()=>{Cr(t.newKWeight).gte(0),Cr(t.newKWeight).lte(3)})),Mo("newVWeight","Must be between 0 and 3",(()=>{Cr(t.newVWeight).gte(0),Cr(t.newVWeight).lte(3)}))}));function Lo(t){let e,n,r,i,s,a,l,u,c,f,d,p,g,m,h,y,b,x,_,S,O,q,P,M,I,L,z,B,V,K,H,U,G,X,J,Z,Y,tt,et,nt,rt,ot,it,st,at,lt,ut,ct,pt,gt,mt,bt,wt,$t,xt,Ct,_t,kt,Nt,St,jt,Et,Ot,Ft,Tt,Wt,At,Rt,Dt,qt,Pt,Mt,It,Lt,zt,Bt,Vt,Kt,Ht,Ut,Gt,Xt,Jt,Zt,Yt,Qt,te,ee,ne,re,oe,ie,se,ae,le,ue,ce,fe,de,pe,ge,me,he,ve,ye,be,we,$e,xe,Ce,_e,ke,Ne,Se,je,Ee,Oe,Fe,Te,We,Ae,Re,De,qe=t[0].targetApprentice+"",Pe=t[0].targetSpeed+"",Me=t[0].targetRevDay+"",Ie=t[0].madCutoff+"",Le=t[0].tzOffset+"";return y=new cn({props:{errors:t[1],path:"newRWeight"}}),q=new cn({props:{errors:t[1],path:"newKWeight"}}),B=new cn({props:{errors:t[1],path:"newVWeight"}}),we=new cn({props:{errors:t[1],path:"madCutoff"}}),Ee=new cn({props:{errors:t[1],path:"tzOffset"}}),{c(){e=C("form"),n=C("fieldset"),r=C("legend"),r.textContent="Behavior Settings",i=N(),s=C("label"),s.textContent="Desired number of apprentice items",a=N(),l=C("input"),u=N(),c=C("p"),f=k(qe),d=N(),p=C("label"),p.textContent="Weighting factor for new radicals",g=N(),m=C("input"),h=N(),ht(y.$$.fragment),b=N(),x=C("label"),x.textContent="Weighting factor for new kanji",_=N(),S=C("input"),O=N(),ht(q.$$.fragment),P=N(),M=C("label"),M.textContent="Weighting factor for new vocabulary",I=N(),L=C("input"),z=N(),ht(B.$$.fragment),V=N(),K=C("hr"),H=N(),U=C("label"),U.textContent="Target speed (seconds-per-question)",G=N(),X=C("input"),J=N(),Z=C("p"),Y=k(Pe),tt=N(),et=C("label"),et.textContent="Target reviews-per-day",nt=N(),rt=C("input"),ot=N(),it=C("p"),st=k(Me),at=N(),lt=C("fieldset"),ut=C("legend"),ut.textContent="General Settings",ct=N(),pt=C("label"),pt.textContent="Position:",gt=N(),mt=C("select"),bt=k('// position: "Top" | "Below Forecast" | "Below SRS" | "Below Panels" | "Bottom"\n      '),wt=C("option"),wt.textContent="Top",$t=C("option"),$t.textContent="Below Forecast",xt=C("option"),xt.textContent="Below SRS",Ct=C("option"),Ct.textContent="Below Panels",_t=C("option"),_t.textContent="Bottom",kt=N(),Nt=C("div"),St=C("h3"),jt=k("Sample Text"),Et=N(),Ot=C("div"),Ft=C("div"),Tt=C("div"),Wt=C("div"),At=N(),Rt=C("label"),Rt.textContent="Text",Dt=N(),qt=C("input"),Pt=N(),Mt=C("label"),Mt.textContent="Background",It=N(),Lt=C("input"),zt=N(),Bt=C("label"),Bt.textContent="Fill",Vt=N(),Kt=C("input"),Ht=N(),Ut=C("div"),Gt=C("label"),Gt.textContent="Good",Xt=N(),Jt=C("input"),Zt=N(),Yt=C("label"),Yt.textContent="Warning",Qt=N(),te=C("input"),ee=N(),ne=C("label"),ne.textContent="Alert",re=N(),oe=C("input"),ie=k("\n    Theme:\n    \n    "),se=C("button"),se.textContent="Light",ae=N(),le=C("button"),le.textContent="dark",ue=N(),ce=C("fieldset"),fe=C("legend"),fe.textContent="Advanced Settings",de=N(),pe=C("label"),pe.textContent="MAD cutoff",ge=N(),me=C("input"),he=N(),ve=C("p"),ye=k(Ie),be=N(),ht(we.$$.fragment),$e=N(),xe=C("label"),xe.textContent="Time zone offset for start-of-day calculations",Ce=N(),_e=C("input"),ke=N(),Ne=C("p"),Se=k(Le),je=N(),ht(Ee.$$.fragment),Oe=N(),Fe=C("button"),Fe.textContent="Save",Te=N(),We=C("button"),We.textContent="Reset",F(s,"for","apprenticeItems"),F(s,"class","svelte-1ljtm41"),F(l,"type","range"),F(l,"name","apprenticeItems"),F(l,"id","apprenticeItems"),F(l,"min","0"),F(l,"max","200"),F(l,"step","10"),F(p,"for","newRWeight"),F(p,"class","svelte-1ljtm41"),F(m,"type","number"),F(m,"name","newRWeight"),F(m,"id","newRWeight"),F(m,"min","0"),F(m,"max","3"),F(m,"step","0.25"),F(x,"for","newKWeight"),F(x,"class","svelte-1ljtm41"),F(S,"type","number"),F(S,"name","newKWeight"),F(S,"id","newKWeight"),F(S,"min","0"),F(S,"max","3"),F(S,"step","0.25"),F(M,"for","newVWeight"),F(M,"class","svelte-1ljtm41"),F(L,"type","number"),F(L,"name","newVWeight"),F(L,"id","newVWeight"),F(L,"min","0"),F(L,"max","3"),F(L,"step","0.25"),F(U,"for","targetSpeed"),F(U,"class","svelte-1ljtm41"),F(X,"type","range"),F(X,"min","3"),F(X,"max","15"),F(X,"step","0.5"),F(X,"name","targetSpeed"),F(X,"id","targetSpeed"),F(et,"for","targetRevDay"),F(et,"class","svelte-1ljtm41"),F(rt,"type","range"),F(rt,"min","1"),F(rt,"max","300"),F(rt,"name","targetRevDay"),F(rt,"id","targetRevDay"),F(pt,"for","gbPosition"),F(pt,"class","svelte-1ljtm41"),wt.__value="Top",wt.value=wt.__value,$t.__value="Below Forecast",$t.value=$t.__value,xt.__value="Below SRS",xt.value=xt.__value,Ct.__value="Below Panels",Ct.value=Ct.__value,_t.__value="Bottom",_t.value=_t.__value,F(mt,"name","position"),F(mt,"id","gbPosition"),void 0===t[0].position&&Q((()=>t[13].call(mt))),R(St,"color",t[0].textColor),F(Ft,"class","goodBar svelte-1ljtm41"),R(Ft,"background-color",t[0].goodColor),F(Tt,"class","warnBar svelte-1ljtm41"),R(Tt,"background-color",t[0].warnColor),F(Wt,"class","errorBar svelte-1ljtm41"),R(Wt,"background-color",t[0].errorColor),F(Ot,"class","gaugeBar svelte-1ljtm41"),R(Ot,"background-color",t[0].fillColor),F(Nt,"class","colorSample svelte-1ljtm41"),R(Nt,"background-color",t[0].bgColor),F(Rt,"for","textColor"),F(Rt,"class","svelte-1ljtm41"),F(qt,"type","color"),F(qt,"name","textColor"),F(qt,"id","textColor"),F(qt,"class","svelte-1ljtm41"),F(Mt,"for","bgColor"),F(Mt,"class","svelte-1ljtm41"),F(Lt,"type","color"),F(Lt,"name","bgColor"),F(Lt,"id","bgColor"),F(Lt,"class","svelte-1ljtm41"),F(Bt,"for","fillColor"),F(Bt,"class","svelte-1ljtm41"),F(Kt,"type","color"),F(Kt,"name","fillColor"),F(Kt,"id","fillColor"),F(Kt,"class","svelte-1ljtm41"),F(Gt,"for","goodColor"),F(Gt,"class","svelte-1ljtm41"),F(Jt,"type","color"),F(Jt,"name","goodColor"),F(Jt,"id","goodColor"),F(Jt,"class","svelte-1ljtm41"),F(Yt,"for","warnColor"),F(Yt,"class","svelte-1ljtm41"),F(te,"type","color"),F(te,"name","warnColor"),F(te,"id","warnColor"),F(te,"class","svelte-1ljtm41"),F(ne,"for","alertColor"),F(ne,"class","svelte-1ljtm41"),F(oe,"type","color"),F(oe,"name","alertColor"),F(oe,"id","alertColor"),F(oe,"class","svelte-1ljtm41"),F(se,"class","svelte-1ljtm41"),F(le,"class","svelte-1ljtm41"),F(pe,"for","madCutoff"),F(pe,"class","svelte-1ljtm41"),F(me,"type","range"),F(me,"min","1"),F(me,"max","20"),F(me,"step","0.1"),F(me,"name","madCutoff"),F(me,"id","madCutoff"),F(xe,"for","tzOffset"),F(xe,"class","svelte-1ljtm41"),F(_e,"type","range"),F(_e,"min","-23"),F(_e,"max","23"),F(_e,"name","tzOffset"),F(_e,"id","tzOffset"),F(Fe,"type","submit"),F(Fe,"class","svelte-1ljtm41"),F(We,"type","reset"),F(We,"class","svelte-1ljtm41"),F(e,"aria-label","Settings Form"),F(e,"class","svelte-1ljtm41")},m(o,$){w(o,e,$),v(e,n),v(n,r),v(n,i),v(n,s),v(n,a),v(n,l),A(l,t[0].targetApprentice),v(n,u),v(n,c),v(c,f),v(n,d),v(n,p),v(n,g),v(n,m),A(m,t[0].newRWeight),v(n,h),vt(y,n,null),v(n,b),v(n,x),v(n,_),v(n,S),A(S,t[0].newKWeight),v(n,O),vt(q,n,null),v(n,P),v(n,M),v(n,I),v(n,L),A(L,t[0].newVWeight),v(n,z),vt(B,n,null),v(n,V),v(n,K),v(n,H),v(n,U),v(n,G),v(n,X),A(X,t[0].targetSpeed),v(n,J),v(n,Z),v(Z,Y),v(n,tt),v(n,et),v(n,nt),v(n,rt),A(rt,t[0].targetRevDay),v(n,ot),v(n,it),v(it,st),v(e,at),v(e,lt),v(lt,ut),v(lt,ct),v(lt,pt),v(lt,gt),v(lt,mt),v(mt,bt),v(mt,wt),v(mt,$t),v(mt,xt),v(mt,Ct),v(mt,_t),D(mt,t[0].position),v(lt,kt),v(lt,Nt),v(Nt,St),v(St,jt),v(Nt,Et),v(Nt,Ot),v(Ot,Ft),v(Ot,Tt),v(Ot,Wt),v(lt,At),v(lt,Rt),v(lt,Dt),v(lt,qt),A(qt,t[0].textColor),v(lt,Pt),v(lt,Mt),v(lt,It),v(lt,Lt),A(Lt,t[0].bgColor),v(lt,zt),v(lt,Bt),v(lt,Vt),v(lt,Kt),A(Kt,t[0].fillColor),v(lt,Ht),v(lt,Ut),v(Ut,Gt),v(Ut,Xt),v(Ut,Jt),A(Jt,t[0].goodColor),v(Ut,Zt),v(Ut,Yt),v(Ut,Qt),v(Ut,te),A(te,t[0].warnColor),v(Ut,ee),v(Ut,ne),v(Ut,re),v(Ut,oe),A(oe,t[0].alertColor),v(lt,ie),v(lt,se),v(lt,ae),v(lt,le),v(e,ue),v(e,ce),v(ce,fe),v(ce,de),v(ce,pe),v(ce,ge),v(ce,me),A(me,t[0].madCutoff),v(ce,he),v(ce,ve),v(ve,ye),v(ce,be),vt(we,ce,null),v(ce,$e),v(ce,xe),v(ce,Ce),v(ce,_e),A(_e,t[0].tzOffset),v(ce,ke),v(ce,Ne),v(Ne,Se),v(ce,je),vt(Ee,ce,null),v(e,Oe),v(e,Fe),v(e,Te),v(e,We),Ae=!0,Re||(De=[j(l,"change",t[7]),j(l,"input",t[7]),j(m,"input",t[8]),j(m,"change",t[2]("newRWeight")),j(S,"input",t[9]),j(S,"change",t[2]("newKWeight")),j(L,"input",t[10]),j(L,"change",t[2]("newVWeight")),j(X,"change",t[11]),j(X,"input",t[11]),j(rt,"change",t[12]),j(rt,"input",t[12]),j(mt,"change",t[13]),j(qt,"input",t[14]),j(Lt,"input",t[15]),j(Kt,"input",t[16]),j(Jt,"input",t[17]),j(te,"input",t[18]),j(oe,"input",t[19]),j(se,"click",t[5]),j(le,"click",t[6]),j(me,"change",t[20]),j(me,"input",t[20]),j(_e,"change",t[21]),j(_e,"input",t[21]),j(We,"click",t[4]),j(e,"submit",E(t[3]))],Re=!0)},p(t,[e]){1&e&&A(l,t[0].targetApprentice),(!Ae||1&e)&&qe!==(qe=t[0].targetApprentice+"")&&W(f,qe),1&e&&T(m.value)!==t[0].newRWeight&&A(m,t[0].newRWeight);const n={};2&e&&(n.errors=t[1]),y.$set(n),1&e&&T(S.value)!==t[0].newKWeight&&A(S,t[0].newKWeight);const r={};2&e&&(r.errors=t[1]),q.$set(r),1&e&&T(L.value)!==t[0].newVWeight&&A(L,t[0].newVWeight);const o={};2&e&&(o.errors=t[1]),B.$set(o),1&e&&A(X,t[0].targetSpeed),(!Ae||1&e)&&Pe!==(Pe=t[0].targetSpeed+"")&&W(Y,Pe),1&e&&A(rt,t[0].targetRevDay),(!Ae||1&e)&&Me!==(Me=t[0].targetRevDay+"")&&W(st,Me),1&e&&D(mt,t[0].position),(!Ae||1&e)&&R(St,"color",t[0].textColor),(!Ae||1&e)&&R(Ft,"background-color",t[0].goodColor),(!Ae||1&e)&&R(Tt,"background-color",t[0].warnColor),(!Ae||1&e)&&R(Wt,"background-color",t[0].errorColor),(!Ae||1&e)&&R(Ot,"background-color",t[0].fillColor),(!Ae||1&e)&&R(Nt,"background-color",t[0].bgColor),1&e&&A(qt,t[0].textColor),1&e&&A(Lt,t[0].bgColor),1&e&&A(Kt,t[0].fillColor),1&e&&A(Jt,t[0].goodColor),1&e&&A(te,t[0].warnColor),1&e&&A(oe,t[0].alertColor),1&e&&A(me,t[0].madCutoff),(!Ae||1&e)&&Ie!==(Ie=t[0].madCutoff+"")&&W(ye,Ie);const i={};2&e&&(i.errors=t[1]),we.$set(i),1&e&&A(_e,t[0].tzOffset),(!Ae||1&e)&&Le!==(Le=t[0].tzOffset+"")&&W(Se,Le);const s={};2&e&&(s.errors=t[1]),Ee.$set(s)},i(t){Ae||(ft(y.$$.fragment,t),ft(q.$$.fragment,t),ft(B.$$.fragment,t),ft(we.$$.fragment,t),ft(Ee.$$.fragment,t),Ae=!0)},o(t){dt(y.$$.fragment,t),dt(q.$$.fragment,t),dt(B.$$.fragment,t),dt(we.$$.fragment,t),dt(Ee.$$.fragment,t),Ae=!1},d(t){t&&$(e),yt(y),yt(q),yt(B),yt(we),yt(Ee),Re=!1,o(De)}}}function zo(t,e,n){let r;l(t,xe,(t=>n(22,r=t)));let o=Object.assign({},r),i={};return[o,i,t=>()=>{const e=Io(o,t);n(1,i=e.getErrors())},()=>{const t=Io(o);t.hasErrors()?n(1,i=t.getErrors()):(n(1,i={}),c(xe,r=Object.assign(Object.assign({},r),o),r))},()=>{n(0,o=Object.assign({},$e)),n(1,i={})},()=>{n(0,o.textColor="#333333",o),n(0,o.bgColor="#f4f4f4",o),n(0,o.fillColor="#b4c0be",o),n(0,o.goodColor="#59c273",o),n(0,o.warnColor="#fbb623",o),n(0,o.alertColor="#ff00aa",o)},()=>{n(0,o.textColor="#ffffff",o),n(0,o.bgColor="#232629",o),n(0,o.fillColor="#747474",o),n(0,o.goodColor="#59c273",o),n(0,o.warnColor="#fcbd4b",o),n(0,o.alertColor="#d94353",o)},function(){o.targetApprentice=T(this.value),n(0,o)},function(){o.newRWeight=T(this.value),n(0,o)},function(){o.newKWeight=T(this.value),n(0,o)},function(){o.newVWeight=T(this.value),n(0,o)},function(){o.targetSpeed=T(this.value),n(0,o)},function(){o.targetRevDay=T(this.value),n(0,o)},function(){o.position=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,o)},function(){o.textColor=this.value,n(0,o)},function(){o.bgColor=this.value,n(0,o)},function(){o.fillColor=this.value,n(0,o)},function(){o.goodColor=this.value,n(0,o)},function(){o.warnColor=this.value,n(0,o)},function(){o.alertColor=this.value,n(0,o)},function(){o.madCutoff=T(this.value),n(0,o)},function(){o.tzOffset=T(this.value),n(0,o)}]}class Bo extends $t{constructor(t){super(),wt(this,t,zo,Lo,s,{})}}function Vo(e){let n,r,o;return{c(){n=C("button"),n.innerHTML='<svg id="b76ee484-33fd-42f4-92f5-780eb817404e" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 344.6 297.7"><path d="M200.9,314.2l-43.7,27.5a15.4,15.4,0,0,1-21.2-4.8L31,169.9a15.4,15.4,0,0,1,4.8-21.2l57.1-35.9L144,80.7" transform="translate(-23.6 -51.3)" style="fill: none;stroke: #000;stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path d="M197.2,286.8,147.9,284a15.4,15.4,0,0,1-14.5-16.2l9.9-170.3.9-16.3.6-10.4a15.4,15.4,0,0,1,16.3-14.4l132,7.6a15.4,15.4,0,0,1,14.5,16.2l-.6,10" transform="translate(-23.6 -51.3)" style="fill: none;stroke: #000;stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path d="M200.9,314.2l.7,5.1a15.3,15.3,0,0,0,17.3,13.1L350,314.5a15.3,15.3,0,0,0,13.1-17.3L336.4,101.7a15.3,15.3,0,0,0-17.3-13.1L307,90.2,188,106.5a15.3,15.3,0,0,0-13.1,17.3l22.3,163Z" transform="translate(-23.6 -51.3)" style="fill: none;stroke: #000;stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path d="M306.6,155.8c7.9-1.8,12.3.4,14.1,7.8l3.8,16.2c.6,2.5-.8,4.5-4.2,5.2s-5.3-.3-5.9-2.8L311,167.9c-.7-3.1-2.1-3.5-5.1-2.7l-90.6,21.4c-2.8.6-4,1.6-3.3,4.7l3.4,14.3c.6,2.5-1.1,4.5-4.1,5.2s-5.4-.3-5.9-2.8l-3.9-16.3c-1.7-7.3,1.1-11.3,9.1-13.2l14.6-3.5a151.7,151.7,0,0,0-11.7-10.7,3.8,3.8,0,0,1-1.3-1.9c-.4-1.5.4-3.2,2.2-4.3a10,10,0,0,1,2.5-1,5.2,5.2,0,0,1,4.6.8,144.6,144.6,0,0,1,14.9,14.5l19.7-4.7a110.2,110.2,0,0,0-10.9-12.4,3.6,3.6,0,0,1-1.2-1.7c-.4-1.7.6-3.4,2.6-4.6l2.1-.9a5,5,0,0,1,5,1.6,87.1,87.1,0,0,1,12.9,15.6l14.6-3.5a80.5,80.5,0,0,0,6.4-19.3,4.7,4.7,0,0,1,3.6-3.6,8.6,8.6,0,0,1,2.8-.1c2.5.2,3.9,1.3,4.3,3a2.8,2.8,0,0,1-.1,2,71.7,71.7,0,0,1-5.8,15.4Zm-60.2,94.6c-7.4,1.8-11.6-.4-13.2-7.3l-9.1-38.5c-1.7-7.2,1.2-10.8,9.2-12.7L292,178c8-1.9,12.3.1,14,7.2l9.1,38.5c1.6,6.9-1.1,10.7-8.6,12.5l-12.7,3,4,16.7c.7,3,2.1,3.9,4.2,3.7s6.5-1,13.1-2.6,9.9-2.3,12.1-3.5a6,6,0,0,0,3.7-4.1c.5-2.2.2-6-.6-11.4-.5-2.3.7-4.2,3.6-4.9l1.1-.3c3.4-.5,5.3,1.1,6,3.7v.3c1,6.2,1.2,13.7,0,17s-4,5.9-8,7.7-7.9,2.9-16.1,4.9-15.1,3.4-18.6,3.5c-5.1,0-8.9-2.1-10.4-8.3l-4.7-19.9-17.5,4.2c.3,19.7-14,33.8-37.1,43.2a3.1,3.1,0,0,1-1.2.5,5.2,5.2,0,0,1-6.4-3.2,3.5,3.5,0,0,1-.5-1.3c-.6-2.6.7-4.7,3.2-5.7,20-7.7,30.7-17.5,31.1-31Zm51.5-56.1-1.3-5.8c-.6-2.5-2-2.9-4.5-2.3l-55.2,13c-2.5.6-3.5,1.6-3,4.1l1.4,5.8Zm3.9,16.5-2.1-8.9-62.6,14.8,2.1,8.9ZM241,233.2l1.6,6.6c.6,2.5,2,2.9,4.5,2.3l55.1-13c2.5-.6,3.6-1.6,3-4.1l-1.6-6.6Z" transform="translate(-23.6 -51.3)"></path></svg>',F(n,"class","quiz-button svelte-o42zy6")},m(t,i){w(t,n,i),r||(o=j(n,"click",e[0]),r=!0)},p:t,i:t,o:t,d(t){t&&$(n),r=!1,o()}}}function Ko(t){return[function(e){H.call(this,t,e)}]}class Ho extends $t{constructor(t){super(),wt(this,t,Ko,Vo,s,{})}}function Uo(e){let n,r,o;return{c(){n=C("button"),n.innerHTML='<svg id="edd52277-873a-4c78-9f5a-11032a27aff1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 297 292"><path d="M163.5,98h180m-287,0h30m226,102h31m-287,0h179m-72,102h180m-287,0h30m77-204.5A38.5,38.5,0,1,0,125,136,38.5,38.5,0,0,0,163.5,97.5ZM125,264a38.5,38.5,0,1,0,38.5,38.5A38.5,38.5,0,0,0,125,264ZM274,161a38.5,38.5,0,1,0,38.5,38.5A38.5,38.5,0,0,0,274,161Z" transform="translate(-51.5 -54)" style="fill: none;stroke: #000;stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path></svg>',F(n,"aria-label","settings"),F(n,"class","settings svelte-1gfktvr")},m(t,i){w(t,n,i),r||(o=j(n,"click",e[0]),r=!0)},p:t,i:t,o:t,d(t){t&&$(n),r=!1,o()}}}function Go(t){return[function(e){H.call(this,t,e)}]}class Xo extends $t{constructor(t){super(),wt(this,t,Go,Uo,s,{})}}const Jo=(t,e)=>t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear(),Zo=t=>{if(0===t.length)return 0;const e=t.slice().sort(((t,e)=>t-e)),n=Math.floor(e.length/2);return e.length%2?e[n]:(e[n-1]+e[n])/2},Yo=t=>{if(0===t.length)return[];const e=(t=>{const e=t.map((t=>t.duration)),n=Math.min(...e);if(Math.max(...e),n>6e5)return e.map(((t,e)=>e));{const n=Zo(e),r=t.map((t=>Math.abs(t.duration-n))),o=1.4826,i=Zo(r)*o,s=r.map((t=>i>0?Math.abs(t-n)/i:Math.abs(t-n)/n)),a=10,l=s[s.length-1]>a?s:[...s.slice(0,-1),999999],u=t.map(((t,e)=>e)),c=u.filter(((t,e)=>l[e]>a));return c}})(t),n=[0,...e.map((t=>t+1))].slice(0,-1),r=e.map(((e,r)=>({reviews:t.slice(n[r],e+1)})));return r.map((t=>({questions:t.reviews.reduce(((t,e)=>t+e.questions),0),reading_incorrect:t.reviews.reduce(((t,e)=>t+e.reading_incorrect),0),meaning_incorrect:t.reviews.reduce(((t,e)=>t+e.meaning_incorrect),0),startTime:t.reviews[0].started,endTime:t.reviews[t.reviews.length-1].started,reviews:t.reviews})))},Qo=t=>({subject_id:t.data.subject_id,started:new Date(t.data.created_at),duration:0,reading_incorrect:+t.data.incorrect_reading_answers,meaning_incorrect:+t.data.incorrect_meaning_answers,questions:0}),ti=(t,e,n)=>{if(n[e+1]){const r=n[e+1].started.getTime(),o=t.started.getTime();if(r<o)throw"Reviews not in sequential creation order!";return Object.assign(Object.assign({},t),{duration:r-o})}return t},ei=async t=>{if(!(null==t?void 0:t.length))return[];const e=t.map(Qo).map(ti),n=await(async t=>{let e=t.slice();for(let t of e){const e=await _e(+t.subject_id);t.questions="radical"===e.object?1:2,t.questions+=t.meaning_incorrect+t.reading_incorrect}return e})(e);let r=n.slice(0,-1).map((t=>t.duration)),o=Zo(r);return n.length&&(n[n.length-1].duration=o),n},ni=async t=>{const e=((t=0)=>{const e=new Date;let n,r=e.getTime()-3600*e.getHours()*1e3-60*e.getMinutes()*1e3-1e3*e.getSeconds()-e.getMilliseconds();return n=t>1?new Date(r-24*(t-1)*3600*1e3):new Date(r),n})(t);wkof.include("Apiv2"),await wkof.ready("Apiv2");const n=await wkof.Apiv2.fetch_endpoint("reviews",{last_update:e.toISOString()});return ei(null==n?void 0:n.data)},ri=/[a-zA-Z]/,oi=(t,e=0)=>[...Array(t).keys()].map((t=>t+e));function ii(t,e,n){const r=t.slice();return r[6]=e[n],r}function si(t){let e;return{c(){e=C("div"),F(e,"class","dot svelte-14w6xk7"),R(e,"--dotSize",.25*+t[3]+t[1]),R(e,"--color",t[0]),R(e,"animation-delay",t[6]*(+t[5]/10)+t[4])},m(t,n){w(t,e,n)},p(t,n){10&n&&R(e,"--dotSize",.25*+t[3]+t[1]),1&n&&R(e,"--color",t[0])},d(t){t&&$(e)}}}function ai(e){let n,r=oi(3,1),o=[];for(let t=0;t<r.length;t+=1)o[t]=si(ii(e,r,t));return{c(){n=C("div");for(let t=0;t<o.length;t+=1)o[t].c();F(n,"class","wrapper svelte-14w6xk7"),R(n,"--size",e[3]+e[1]),R(n,"--duration",e[2])},m(t,e){w(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(59&e){let i;for(r=oi(3,1),i=0;i<r.length;i+=1){const s=ii(t,r,i);o[i]?o[i].p(s,e):(o[i]=si(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}10&e&&R(n,"--size",t[3]+t[1]),4&e&&R(n,"--duration",t[2])},i:t,o:t,d(t){t&&$(n),x(o,t)}}}function li(t,e,n){let{color:r="#FF3E00"}=e,{unit:o="px"}=e,{duration:i="0.6s"}=e,{size:s="60"}=e,a=i.match(ri)[0],l=i.replace(ri,"");return t.$$set=t=>{"color"in t&&n(0,r=t.color),"unit"in t&&n(1,o=t.unit),"duration"in t&&n(2,i=t.duration),"size"in t&&n(3,s=t.size)},[r,o,i,s,a,l]}class ui extends $t{constructor(t){super(),wt(this,t,li,ai,s,{color:0,unit:1,duration:2,size:3})}}function ci(t){let e,n,r,o;return n=new ui({props:{size:"25",unit:"px"}}),{c(){e=C("div"),ht(n.$$.fragment),F(e,"class","spinner svelte-11jxw4m")},m(t,r){w(t,e,r),vt(n,e,null),o=!0},i(t){o||(ft(n.$$.fragment,t),Q((()=>{r||(r=mt(e,le,{},!0)),r.run(1)})),o=!0)},o(t){dt(n.$$.fragment,t),r||(r=mt(e,le,{},!1)),r.run(0),o=!1},d(t){t&&$(e),yt(n),t&&r&&r.end()}}}function fi(e){let n,r;return n=new Ho({}),n.$on("click",e[5]),{c(){ht(n.$$.fragment)},m(t,e){vt(n,t,e),r=!0},p:t,i(t){r||(ft(n.$$.fragment,t),r=!0)},o(t){dt(n.$$.fragment,t),r=!1},d(t){yt(n,t)}}}function di(t){let e,n;return e=new Bo({}),{c(){ht(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function pi(t){let e,n,r,i,s,a,l,u,c,f,d,p,g,m,h,y,b,x,_,k,S,O,T,W,A,R,D=t[1]&&ci();function P(e){t[8](e)}let M={float:!0,pips:!0,suffix:t[3],min:1,max:7};void 0!==t[0]&&(M.values=t[0]),c=new ne({props:M}),G.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(c,"values",P)));let I=t[2]&&fi(t);return m=new Xo({}),m.$on("click",t[9]),b=new Oe({}),_=new qe({}),S=new Qe({}),T=new sn({props:{$$slots:{default:[di]},$$scope:{ctx:t}}}),{c(){e=C("div"),n=C("nav"),r=C("li"),r.textContent="Graphs",i=N(),s=C("li"),s.textContent="Data",a=N(),D&&D.c(),l=N(),u=C("div"),ht(c.$$.fragment),d=N(),p=C("div"),I&&I.c(),g=N(),ht(m.$$.fragment),h=N(),y=C("div"),ht(b.$$.fragment),x=N(),ht(_.$$.fragment),k=N(),ht(S.$$.fragment),O=N(),ht(T.$$.fragment),F(r,"class","svelte-11jxw4m"),q(r,"active","chart"===t[4]),F(s,"class","svelte-11jxw4m"),q(s,"active","data"===t[4]),F(n,"class","chart-data-nav svelte-11jxw4m"),F(u,"class","dayRange svelte-11jxw4m"),F(u,"data-testid","daySlider"),F(p,"class","action-buttons svelte-11jxw4m"),F(e,"class","controls svelte-11jxw4m"),F(y,"data-testid","gbwidgets"),F(y,"class","gbwidgets svelte-11jxw4m")},m(o,f){w(o,e,f),v(e,n),v(n,r),v(n,i),v(n,s),v(e,a),D&&D.m(e,null),v(e,l),v(e,u),vt(c,u,null),v(e,d),v(e,p),I&&I.m(p,null),v(p,g),vt(m,p,null),w(o,h,f),w(o,y,f),vt(b,y,null),v(y,x),vt(_,y,null),v(y,k),vt(S,y,null),w(o,O,f),vt(T,o,f),W=!0,A||(R=[j(r,"click",E(t[6])),j(s,"click",E(t[7]))],A=!0)},p(t,[n]){16&n&&q(r,"active","chart"===t[4]),16&n&&q(s,"active","data"===t[4]),t[1]?D?2&n&&ft(D,1):(D=ci(),D.c(),ft(D,1),D.m(e,l)):D&&(ut(),dt(D,1,1,(()=>{D=null})),ct());const o={};8&n&&(o.suffix=t[3]),!f&&1&n&&(f=!0,o.values=t[0],function(t){J.push(t)}((()=>f=!1))),c.$set(o),t[2]?I?(I.p(t,n),4&n&&ft(I,1)):(I=fi(t),I.c(),ft(I,1),I.m(p,g)):I&&(ut(),dt(I,1,1,(()=>{I=null})),ct());const i={};8192&n&&(i.$$scope={dirty:n,ctx:t}),T.$set(i)},i(t){W||(ft(D),ft(c.$$.fragment,t),ft(I),ft(m.$$.fragment,t),ft(b.$$.fragment,t),ft(_.$$.fragment,t),ft(S.$$.fragment,t),ft(T.$$.fragment,t),W=!0)},o(t){dt(D),dt(c.$$.fragment,t),dt(I),dt(m.$$.fragment,t),dt(b.$$.fragment,t),dt(_.$$.fragment,t),dt(S.$$.fragment,t),dt(T.$$.fragment,t),W=!1},d(t){t&&$(e),D&&D.d(),yt(c),I&&I.d(),yt(m),t&&$(h),t&&$(y),yt(b),yt(_),yt(S),t&&$(O),yt(T,t),A=!1,o(R)}}}function gi(t,e,n){let r,o,i,s,a;l(t,pe,(t=>n(0,o=t))),l(t,ye,(t=>n(10,i=t))),l(t,we,(t=>n(11,s=t))),l(t,fe,(t=>n(4,a=t)));let u=!1;const f=async t=>{let e;n(1,u=!0);try{e=await ni(t)}catch(t){console.warn(t)}c(we,s=(t=>{const e=t.filter(((e,n)=>!(n>0&&Jo(e.started,t[n-1].started)))).map((t=>t.started)).map((e=>t.filter((t=>Jo(t.started,e)))));let n=[];return e.forEach(((t,e)=>{const r=t.filter((t=>0===t.reading_incorrect)).reduce(((t,e)=>t+1),0),o=t.filter((t=>0===t.meaning_incorrect)).reduce(((t,e)=>t+1),0),i=t.filter((t=>t.meaning_incorrect+t.reading_incorrect===0)).reduce(((t,e)=>t+1),0),s=t.reduce(((t,e)=>t+e.questions),0),a=t.length,l={start:t[0].started,end:t[t.length-1].started,review_count:t.length,question_count:s,accuracy:i/a,reading_accuracy:r/a,meaning_accuracy:o/a};n.push(l)})),n})(e),s),c(ye,i=(t=>{const e=Yo(t);let n=[];return e.forEach((t=>{const e=t.reviews.reduce(((t,e)=>t+e.questions),0),r=t.reviews.reduce(((t,e)=>t+(e.meaning_incorrect+e.reading_incorrect)),0),o=e-r,i={start:t.startTime,end:t.endTime,reviewCount:t.reviews.length,questionCount:e,correctAnswerCount:o};n.push(i)})),n})(e),i),n(1,u=!1)};let d=!1;wkof.wait_state("ss_quiz","ready").then((()=>{"function"==typeof(null===ss_quiz||void 0===ss_quiz?void 0:ss_quiz.open)&&n(2,d=!0)}));return t.$$.update=()=>{1&t.$$.dirty&&f(o[0]),1&t.$$.dirty&&n(3,r=o[0]>1?" days":" day")},[o,u,d,r,a,async()=>{await wkof.wait_state("ss_quiz","ready"),ss_quiz.open({ipreset:{name:"New Kanji",content:{wk_items:{enabled:!0,filters:{srs:{enabled:!0,value:{appr1:!0,appr2:!0}},item_type:{enabled:!0,value:"kan"}}}}}})},()=>c(fe,a="chart",a),()=>c(fe,a="data",a),function(t){o=t,pe.set(o)},()=>function(t=""){return nn[t]}().open()]}class mi extends $t{constructor(t){super(),wt(this,t,gi,pi,s,{})}}function hi(e){let n;return{c(){n=C("div"),n.innerHTML='<h2>GanbarOmeter</h2>   \n    <p>The GanbarOmeter needs the Wankani Open Framework to be installed prior to use.</p>  \n    \n    <p>Please refer to the <a href="http://community.wanikani.com/t/instructions-installing-wanikani-open-framework/28549">WKOF\n    installation instructions.</a></p>',F(n,"class","placeholder svelte-1xrt8d7")},m(t,e){w(t,n,e)},i:t,o:t,d(t){t&&$(n)}}}function vi(t){let e,n;return e=new mi({}),{c(){ht(e.$$.fragment)},m(t,r){vt(e,t,r),n=!0},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){dt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function yi(e){let n,r,o,i;const s=[vi,hi],a=[];return r=function(t,e){return t[0]?0:1}(e),o=a[r]=s[r](e),{c(){n=C("section"),o.c(),F(n,"data-testid","ganbarometer"),F(n,"class","svelte-1xrt8d7")},m(t,e){w(t,n,e),a[r].m(n,null),i=!0},p:t,i(t){i||(ft(o),i=!0)},o(t){dt(o),i=!1},d(t){t&&$(n),a[r].d()}}}function bi(t){return[!!wkof]}let wi;xe.subscribe((t=>wi=t.position));const $i=document.querySelector(".dashboard .span12");let xi={target:$i,anchor:null};switch(wi){case"Top":xi.anchor=$i.querySelector(".progress-and-forecast");break;case"Below Forecast":xi.anchor=$i.querySelector(".srs-progress");break;case"Below SRS":xi.anchor=$i.querySelector(".row");break;case"Below Panels":xi.anchor=$i.querySelector(".row:last-of-type");break;default:xi.anchor=null}const Ci=new class extends $t{constructor(t){super(),wt(this,t,bi,yi,s,{})}}(xi);return Ci}();
//# sourceMappingURL=bundle.js.map
