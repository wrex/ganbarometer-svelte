// ==UserScript==
// @name        ganbarometer-svelte
// @description The GanbarOmeter (Wanikani dashboard widgets)
// @namespace   https://github.com/wrex/
// @version     4.0.4
// @homepage    https://github.com/wrex/ganbarometer-svelte#readme
// @author      Rex Walters -- rw [at] pobox.com
// @license     MIT-0
// @resource    css https://raw.githubusercontent.com/wrex/ganbarometer-svelte/main/published/v4/bundle.css
// @include     /^https://(www|preview).wanikani.com/(dashboard)?$/
// @connect     github.com
// @run-at      document-idle
// @downloadURL https://raw.githubusercontent.com/wrex/ganbarometer-svelte/main/published/v4/bundle.user.js
// @updateURL   https://raw.githubusercontent.com/wrex/ganbarometer-svelte/main/published/v4/bundle.user.js
// @grant       GM_addStyle
// @grant       GM_getResourceText
// @grant       GM_xmlhttpRequest
// ==/UserScript==
GM_addStyle(GM_getResourceText("css"));var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function s(t){t.forEach(n)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(t,e,n){t.$$.on_destroy.push(a(e,n))}function u(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function c(t,e,n){return t.set(n),e}const d="undefined"!=typeof window;let f=d?()=>window.performance.now():()=>Date.now(),p=d?t=>requestAnimationFrame(t):t;const m=new Set;function v(t){m.forEach((e=>{e.c(t)||(m.delete(e),e.f())})),0!==m.size&&p(v)}function g(t){let e;return 0===m.size&&p(v),{promise:new Promise((n=>{m.add(e={c:t,f:n})})),abort(){m.delete(e)}}}function h(t,e){t.appendChild(e)}function b(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function $(t){const e=C("style");return function(t,e){h(t.head||t,e)}(b(t),e),e}function y(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode.removeChild(t)}function w(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function C(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function M(){return T(" ")}function z(){return T("")}function _(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function N(t){return function(e){return e.preventDefault(),t.call(this,e)}}function S(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t){return""===t?null:+t}function q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function P(t,e){t.value=null==e?"":e}function F(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function O(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function Q(t,e,n){t.classList[n?"add":"remove"](e)}function W(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}const A=new Set;let j,D=0;function R(t,e,n,r,s,o,i,a=0){const l=16.666/r;let u="{\n";for(let t=0;t<=1;t+=l){const r=e+(n-e)*o(t);u+=100*t+`%{${i(r,1-r)}}\n`}const c=u+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${a}`,f=b(t);A.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=$(t).sheet),m=f.__svelte_rules||(f.__svelte_rules={});m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${c}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${d} ${r}ms linear ${s}ms 1 both`,D+=1,d}function I(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-r.length;s&&(t.style.animation=r.join(", "),D-=s,D||p((()=>{D||(A.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),A.clear())})))}function L(t){j=t}function B(){if(!j)throw new Error("Function called outside component initialization");return j}function V(t){B().$$.on_mount.push(t)}function H(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const G=[],Z=[],U=[],K=[],X=Promise.resolve();let J=!1;function Y(t){U.push(t)}function tt(t){K.push(t)}let et=!1;const nt=new Set;function rt(){if(!et){et=!0;do{for(let t=0;t<G.length;t+=1){const e=G[t];L(e),st(e.$$)}for(L(null),G.length=0;Z.length;)Z.pop()();for(let t=0;t<U.length;t+=1){const e=U[t];nt.has(e)||(nt.add(e),e())}U.length=0}while(G.length);for(;K.length;)K.pop()();J=!1,et=!1,nt.clear()}}function st(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}let ot;function it(){return ot||(ot=Promise.resolve(),ot.then((()=>{ot=null}))),ot}function at(t,e,n){t.dispatchEvent(W(`${e?"intro":"outro"}${n}`))}const lt=new Set;let ut;function ct(){ut={r:0,c:[],p:ut}}function dt(){ut.r||s(ut.c),ut=ut.p}function ft(t,e){t&&t.i&&(lt.delete(t),t.i(e))}function pt(t,e,n,r){if(t&&t.o){if(lt.has(t))return;lt.add(t),ut.c.push((()=>{lt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const mt={duration:0};function vt(n,r,s){let i,a,l=r(n,s),u=!1,c=0;function d(){i&&I(n,i)}function p(){const{delay:r=0,duration:s=300,easing:o=e,tick:p=t,css:m}=l||mt;m&&(i=R(n,0,1,s,r,o,m,c++)),p(0,1);const v=f()+r,h=v+s;a&&a.abort(),u=!0,Y((()=>at(n,!0,"start"))),a=g((t=>{if(u){if(t>=h)return p(1,0),at(n,!0,"end"),d(),u=!1;if(t>=v){const e=o((t-v)/s);p(e,1-e)}}return u}))}let m=!1;return{start(){m||(m=!0,I(n),o(l)?(l=l(),it().then(p)):p())},invalidate(){m=!1},end(){u&&(d(),u=!1)}}}function gt(n,r,i,a){let l=r(n,i),u=a?0:1,c=null,d=null,p=null;function m(){p&&I(n,p)}function v(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function h(r){const{delay:o=0,duration:i=300,easing:a=e,tick:h=t,css:b}=l||mt,$={start:f()+o,b:r};r||($.group=ut,ut.r+=1),c||d?d=$:(b&&(m(),p=R(n,u,r,i,o,a,b)),r&&h(0,1),c=v($,i),Y((()=>at(n,r,"start"))),g((t=>{if(d&&t>d.start&&(c=v(d,i),d=null,at(n,c.b,"start"),b&&(m(),p=R(n,u,c.b,c.duration,0,a,l.css))),c)if(t>=c.end)h(u=c.b,1-u),at(n,c.b,"end"),d||(c.b?m():--c.group.r||s(c.group.c)),c=null;else if(t>=c.start){const e=t-c.start;u=c.a+c.d*a(e/c.duration),h(u,1-u)}return!(!c&&!d)})))}return{run(t){o(l)?it().then((()=>{l=l(),h(t)})):h(t)},end(){m(),c=d=null}}}function ht(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function bt(t){t&&t.c()}function $t(t,e,r,i){const{fragment:a,on_mount:l,on_destroy:u,after_update:c}=t.$$;a&&a.m(e,r),i||Y((()=>{const e=l.map(n).filter(o);u?u.push(...e):s(e),t.$$.on_mount=[]})),c.forEach(Y)}function yt(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function xt(t,e){-1===t.$$.dirty[0]&&(G.push(t),J||(J=!0,X.then(rt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function wt(e,n,o,i,a,l,u,c=[-1]){const d=j;L(e);const f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:c,skip_bound:!1,root:n.target||d.$$.root};u&&u(f.root);let p=!1;if(f.ctx=o?o(e,n.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),p&&xt(e,t)),n})):[],f.update(),p=!0,s(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(x)}else f.fragment&&f.fragment.c();n.intro&&ft(e.$$.fragment),$t(e,n.target,n.anchor,n.customElement),rt()}L(d)}class Ct{$destroy(){yt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const kt=[];function Tt(e,n=t){let r;const s=new Set;function o(t){if(i(e,t)&&(e=t,r)){const t=!kt.length;for(const t of s)t[1](),kt.push(t,e);if(t){for(let t=0;t<kt.length;t+=2)kt[t][0](kt[t+1]);kt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,a=t){const l=[i,a];return s.add(l),1===s.size&&(r=n(o)||t),i(e),()=>{s.delete(l),0===s.size&&(r(),r=null)}}}}function Mt(t){return"[object Date]"===Object.prototype.toString.call(t)}function zt(t,e,n,r){if("number"==typeof n||Mt(n)){const s=r-n,o=(n-e)/(t.dt||1/60),i=(o+(t.opts.stiffness*s-t.opts.damping*o)*t.inv_mass)*t.dt;return Math.abs(i)<t.opts.precision&&Math.abs(s)<t.opts.precision?r:(t.settled=!1,Mt(n)?new Date(n.getTime()+i):n+i)}if(Array.isArray(n))return n.map(((s,o)=>zt(t,e[o],n[o],r[o])));if("object"==typeof n){const s={};for(const o in n)s[o]=zt(t,e[o],n[o],r[o]);return s}throw new Error(`Cannot spring ${typeof n} values`)}function _t(t,e={}){const n=Tt(t),{stiffness:r=.15,damping:s=.8,precision:o=.01}=e;let i,a,l,u=t,c=t,d=1,p=0,m=!1;function v(e,r={}){c=e;const s=l={};if(null==t||r.hard||h.stiffness>=1&&h.damping>=1)return m=!0,i=f(),u=e,n.set(t=c),Promise.resolve();if(r.soft){const t=!0===r.soft?.5:+r.soft;p=1/(60*t),d=0}return a||(i=f(),m=!1,a=g((e=>{if(m)return m=!1,a=null,!1;d=Math.min(d+p,1);const r={inv_mass:d,opts:h,settled:!0,dt:60*(e-i)/1e3},s=zt(r,u,t,c);return i=e,u=t,n.set(t=s),r.settled&&(a=null),!r.settled}))),new Promise((t=>{a.promise.then((()=>{s===l&&t()}))}))}const h={set:v,update:(e,n)=>v(e(c,t),n),subscribe:n.subscribe,stiffness:r,damping:s,precision:o};return h}function Nt(t,e,n){const r=t.slice();return r[27]=e[n],r[29]=n,r}function St(t){let e,n,r,i,a=("label"===t[6]||"label"===t[7])&&Et(t);return{c(){e=C("span"),a&&a.c(),S(e,"class","pip first"),S(e,"style",n=t[14]+": 0%;"),Q(e,"selected",t[17](t[0])),Q(e,"in-range",t[16](t[0]))},m(n,s){y(n,e,s),a&&a.m(e,null),r||(i=[_(e,"click",(function(){o(t[20](t[0]))&&t[20](t[0]).apply(this,arguments)})),_(e,"touchend",N((function(){o(t[20](t[0]))&&t[20](t[0]).apply(this,arguments)})))],r=!0)},p(r,s){"label"===(t=r)[6]||"label"===t[7]?a?a.p(t,s):(a=Et(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null),16384&s&&n!==(n=t[14]+": 0%;")&&S(e,"style",n),131073&s&&Q(e,"selected",t[17](t[0])),65537&s&&Q(e,"in-range",t[16](t[0]))},d(t){t&&x(e),a&&a.d(),r=!1,s(i)}}}function Et(t){let e,n,r=t[12](t[0],0,0)+"",s=t[10]&&qt(t),o=t[11]&&Pt(t);return{c(){e=C("span"),s&&s.c(),n=T(r),o&&o.c(),S(e,"class","pipVal")},m(t,r){y(t,e,r),s&&s.m(e,null),h(e,n),o&&o.m(e,null)},p(t,i){t[10]?s?s.p(t,i):(s=qt(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),4097&i&&r!==(r=t[12](t[0],0,0)+"")&&q(n,r),t[11]?o?o.p(t,i):(o=Pt(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&x(e),s&&s.d(),o&&o.d()}}}function qt(t){let e,n;return{c(){e=C("span"),n=T(t[10]),S(e,"class","pipVal-prefix")},m(t,r){y(t,e,r),h(e,n)},p(t,e){1024&e&&q(n,t[10])},d(t){t&&x(e)}}}function Pt(t){let e,n;return{c(){e=C("span"),n=T(t[11]),S(e,"class","pipVal-suffix")},m(t,r){y(t,e,r),h(e,n)},p(t,e){2048&e&&q(n,t[11])},d(t){t&&x(e)}}}function Ft(t){let e,n=Array(t[19]+1),r=[];for(let e=0;e<n.length;e+=1)r[e]=jt(Nt(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=z()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);y(t,e,n)},p(t,s){if(2088515&s){let o;for(n=Array(t[19]+1),o=0;o<n.length;o+=1){const i=Nt(t,n,o);r[o]?r[o].p(i,s):(r[o]=jt(i),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){w(r,t),t&&x(e)}}}function Ot(t){let e,n,r,i,a,l=("label"===t[6]||"label"===t[9])&&Qt(t);return{c(){e=C("span"),l&&l.c(),n=M(),S(e,"class","pip"),S(e,"style",r=t[14]+": "+t[15](t[18](t[29]))+"%;"),Q(e,"selected",t[17](t[18](t[29]))),Q(e,"in-range",t[16](t[18](t[29])))},m(r,s){y(r,e,s),l&&l.m(e,null),h(e,n),i||(a=[_(e,"click",(function(){o(t[20](t[18](t[29])))&&t[20](t[18](t[29])).apply(this,arguments)})),_(e,"touchend",N((function(){o(t[20](t[18](t[29])))&&t[20](t[18](t[29])).apply(this,arguments)})))],i=!0)},p(s,o){"label"===(t=s)[6]||"label"===t[9]?l?l.p(t,o):(l=Qt(t),l.c(),l.m(e,n)):l&&(l.d(1),l=null),311296&o&&r!==(r=t[14]+": "+t[15](t[18](t[29]))+"%;")&&S(e,"style",r),393216&o&&Q(e,"selected",t[17](t[18](t[29]))),327680&o&&Q(e,"in-range",t[16](t[18](t[29])))},d(t){t&&x(e),l&&l.d(),i=!1,s(a)}}}function Qt(t){let e,n,r=t[12](t[18](t[29]),t[29],t[15](t[18](t[29])))+"",s=t[10]&&Wt(t),o=t[11]&&At(t);return{c(){e=C("span"),s&&s.c(),n=T(r),o&&o.c(),S(e,"class","pipVal")},m(t,r){y(t,e,r),s&&s.m(e,null),h(e,n),o&&o.m(e,null)},p(t,i){t[10]?s?s.p(t,i):(s=Wt(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),299008&i&&r!==(r=t[12](t[18](t[29]),t[29],t[15](t[18](t[29])))+"")&&q(n,r),t[11]?o?o.p(t,i):(o=At(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&x(e),s&&s.d(),o&&o.d()}}}function Wt(t){let e,n;return{c(){e=C("span"),n=T(t[10]),S(e,"class","pipVal-prefix")},m(t,r){y(t,e,r),h(e,n)},p(t,e){1024&e&&q(n,t[10])},d(t){t&&x(e)}}}function At(t){let e,n;return{c(){e=C("span"),n=T(t[11]),S(e,"class","pipVal-suffix")},m(t,r){y(t,e,r),h(e,n)},p(t,e){2048&e&&q(n,t[11])},d(t){t&&x(e)}}}function jt(t){let e,n=t[18](t[29])!==t[0]&&t[18](t[29])!==t[1],r=n&&Ot(t);return{c(){r&&r.c(),e=z()},m(t,n){r&&r.m(t,n),y(t,e,n)},p(t,s){262147&s&&(n=t[18](t[29])!==t[0]&&t[18](t[29])!==t[1]),n?r?r.p(t,s):(r=Ot(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(t){r&&r.d(t),t&&x(e)}}}function Dt(t){let e,n,r,i,a=("label"===t[6]||"label"===t[8])&&Rt(t);return{c(){e=C("span"),a&&a.c(),S(e,"class","pip last"),S(e,"style",n=t[14]+": 100%;"),Q(e,"selected",t[17](t[1])),Q(e,"in-range",t[16](t[1]))},m(n,s){y(n,e,s),a&&a.m(e,null),r||(i=[_(e,"click",(function(){o(t[20](t[1]))&&t[20](t[1]).apply(this,arguments)})),_(e,"touchend",N((function(){o(t[20](t[1]))&&t[20](t[1]).apply(this,arguments)})))],r=!0)},p(r,s){"label"===(t=r)[6]||"label"===t[8]?a?a.p(t,s):(a=Rt(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null),16384&s&&n!==(n=t[14]+": 100%;")&&S(e,"style",n),131074&s&&Q(e,"selected",t[17](t[1])),65538&s&&Q(e,"in-range",t[16](t[1]))},d(t){t&&x(e),a&&a.d(),r=!1,s(i)}}}function Rt(t){let e,n,r=t[12](t[1],t[19],100)+"",s=t[10]&&It(t),o=t[11]&&Lt(t);return{c(){e=C("span"),s&&s.c(),n=T(r),o&&o.c(),S(e,"class","pipVal")},m(t,r){y(t,e,r),s&&s.m(e,null),h(e,n),o&&o.m(e,null)},p(t,i){t[10]?s?s.p(t,i):(s=It(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),528386&i&&r!==(r=t[12](t[1],t[19],100)+"")&&q(n,r),t[11]?o?o.p(t,i):(o=Lt(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&x(e),s&&s.d(),o&&o.d()}}}function It(t){let e,n;return{c(){e=C("span"),n=T(t[10]),S(e,"class","pipVal-prefix")},m(t,r){y(t,e,r),h(e,n)},p(t,e){1024&e&&q(n,t[10])},d(t){t&&x(e)}}}function Lt(t){let e,n;return{c(){e=C("span"),n=T(t[11]),S(e,"class","pipVal-suffix")},m(t,r){y(t,e,r),h(e,n)},p(t,e){2048&e&&q(n,t[11])},d(t){t&&x(e)}}}function Bt(e){let n,r,s,o=(e[6]&&!1!==e[7]||e[7])&&St(e),i=(e[6]&&!1!==e[9]||e[9])&&Ft(e),a=(e[6]&&!1!==e[8]||e[8])&&Dt(e);return{c(){n=C("div"),o&&o.c(),r=M(),i&&i.c(),s=M(),a&&a.c(),S(n,"class","rangePips"),Q(n,"disabled",e[5]),Q(n,"hoverable",e[4]),Q(n,"vertical",e[2]),Q(n,"reversed",e[3]),Q(n,"focus",e[13])},m(t,e){y(t,n,e),o&&o.m(n,null),h(n,r),i&&i.m(n,null),h(n,s),a&&a.m(n,null)},p(t,[e]){t[6]&&!1!==t[7]||t[7]?o?o.p(t,e):(o=St(t),o.c(),o.m(n,r)):o&&(o.d(1),o=null),t[6]&&!1!==t[9]||t[9]?i?i.p(t,e):(i=Ft(t),i.c(),i.m(n,s)):i&&(i.d(1),i=null),t[6]&&!1!==t[8]||t[8]?a?a.p(t,e):(a=Dt(t),a.c(),a.m(n,null)):a&&(a.d(1),a=null),32&e&&Q(n,"disabled",t[5]),16&e&&Q(n,"hoverable",t[4]),4&e&&Q(n,"vertical",t[2]),8&e&&Q(n,"reversed",t[3]),8192&e&&Q(n,"focus",t[13])},i:t,o:t,d(t){t&&x(n),o&&o.d(),i&&i.d(),a&&a.d()}}}function Vt(t,e,n){let r,s,o,i,a,{range:l=!1}=e,{min:u=0}=e,{max:c=100}=e,{step:d=1}=e,{values:f=[(c+u)/2]}=e,{vertical:p=!1}=e,{reversed:m=!1}=e,{hoverable:v=!0}=e,{disabled:g=!1}=e,{pipstep:h}=e,{all:b=!0}=e,{first:$}=e,{last:y}=e,{rest:x}=e,{prefix:w=""}=e,{suffix:C=""}=e,{formatter:k=((t,e)=>t)}=e,{focus:T}=e,{orientationStart:M}=e,{percentOf:z}=e,{moveHandle:_}=e;return t.$$set=t=>{"range"in t&&n(21,l=t.range),"min"in t&&n(0,u=t.min),"max"in t&&n(1,c=t.max),"step"in t&&n(22,d=t.step),"values"in t&&n(23,f=t.values),"vertical"in t&&n(2,p=t.vertical),"reversed"in t&&n(3,m=t.reversed),"hoverable"in t&&n(4,v=t.hoverable),"disabled"in t&&n(5,g=t.disabled),"pipstep"in t&&n(24,h=t.pipstep),"all"in t&&n(6,b=t.all),"first"in t&&n(7,$=t.first),"last"in t&&n(8,y=t.last),"rest"in t&&n(9,x=t.rest),"prefix"in t&&n(10,w=t.prefix),"suffix"in t&&n(11,C=t.suffix),"formatter"in t&&n(12,k=t.formatter),"focus"in t&&n(13,T=t.focus),"orientationStart"in t&&n(14,M=t.orientationStart),"percentOf"in t&&n(15,z=t.percentOf),"moveHandle"in t&&n(25,_=t.moveHandle)},t.$$.update=()=>{20971527&t.$$.dirty&&n(26,r=h||((c-u)/d>=(p?50:100)?(c-u)/(p?10:20):1)),71303171&t.$$.dirty&&n(19,s=parseInt((c-u)/(d*r),10)),71303169&t.$$.dirty&&n(18,o=function(t){return u+t*d*r}),8388608&t.$$.dirty&&n(17,i=function(t){return f.some((e=>e===t))}),10485760&t.$$.dirty&&n(16,a=function(t){return"min"===l?f[0]>t:"max"===l?f[0]<t:l?f[0]<t&&f[1]>t:void 0})},[u,c,p,m,v,g,b,$,y,x,w,C,k,T,M,z,a,i,o,s,function(t){_(void 0,t)},l,d,f,h,_,r]}class Ht extends Ct{constructor(t){super(),wt(this,t,Vt,Bt,i,{range:21,min:0,max:1,step:22,values:23,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:24,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:25})}}function Gt(t,e,n){const r=t.slice();return r[63]=e[n],r[65]=n,r}function Zt(t){let e,n,r=t[20](t[63],t[65],t[22](t[63]))+"",s=t[17]&&Ut(t),o=t[18]&&Kt(t);return{c(){e=C("span"),s&&s.c(),n=T(r),o&&o.c(),S(e,"class","rangeFloat")},m(t,r){y(t,e,r),s&&s.m(e,null),h(e,n),o&&o.m(e,null)},p(t,i){t[17]?s?s.p(t,i):(s=Ut(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),5242881&i[0]&&r!==(r=t[20](t[63],t[65],t[22](t[63]))+"")&&q(n,r),t[18]?o?o.p(t,i):(o=Kt(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(t){t&&x(e),s&&s.d(),o&&o.d()}}}function Ut(t){let e,n;return{c(){e=C("span"),n=T(t[17]),S(e,"class","rangeFloat-prefix")},m(t,r){y(t,e,r),h(e,n)},p(t,e){131072&e[0]&&q(n,t[17])},d(t){t&&x(e)}}}function Kt(t){let e,n;return{c(){e=C("span"),n=T(t[18]),S(e,"class","rangeFloat-suffix")},m(t,r){y(t,e,r),h(e,n)},p(t,e){262144&e[0]&&q(n,t[18])},d(t){t&&x(e)}}}function Xt(t){let e,n,r,o,i,a,l,u,c,d,f,p,m,v=t[6]&&Zt(t);return{c(){e=C("span"),n=C("span"),r=M(),v&&v.c(),S(n,"class","rangeNub"),S(e,"role","slider"),S(e,"class","rangeHandle"),S(e,"data-handle",o=t[65]),S(e,"style",i=t[28]+": "+t[29][t[65]]+"%; z-index: "+(t[26]===t[65]?3:2)+";"),S(e,"aria-valuemin",a=!0===t[1]&&1===t[65]?t[0][0]:t[2]),S(e,"aria-valuemax",l=!0===t[1]&&0===t[65]?t[0][1]:t[3]),S(e,"aria-valuenow",u=t[63]),S(e,"aria-valuetext",c=""+(t[17]+t[20](t[63],t[65],t[22](t[63]))+t[18])),S(e,"aria-orientation",d=t[5]?"vertical":"horizontal"),S(e,"aria-disabled",t[9]),S(e,"disabled",t[9]),S(e,"tabindex",f=t[9]?-1:0),Q(e,"active",t[24]&&t[26]===t[65]),Q(e,"press",t[25]&&t[26]===t[65])},m(s,o){y(s,e,o),h(e,n),h(e,r),v&&v.m(e,null),p||(m=[_(e,"blur",t[33]),_(e,"focus",t[34]),_(e,"keydown",t[35])],p=!0)},p(t,n){t[6]?v?v.p(t,n):(v=Zt(t),v.c(),v.m(e,null)):v&&(v.d(1),v=null),872415232&n[0]&&i!==(i=t[28]+": "+t[29][t[65]]+"%; z-index: "+(t[26]===t[65]?3:2)+";")&&S(e,"style",i),7&n[0]&&a!==(a=!0===t[1]&&1===t[65]?t[0][0]:t[2])&&S(e,"aria-valuemin",a),11&n[0]&&l!==(l=!0===t[1]&&0===t[65]?t[0][1]:t[3])&&S(e,"aria-valuemax",l),1&n[0]&&u!==(u=t[63])&&S(e,"aria-valuenow",u),5636097&n[0]&&c!==(c=""+(t[17]+t[20](t[63],t[65],t[22](t[63]))+t[18]))&&S(e,"aria-valuetext",c),32&n[0]&&d!==(d=t[5]?"vertical":"horizontal")&&S(e,"aria-orientation",d),512&n[0]&&S(e,"aria-disabled",t[9]),512&n[0]&&S(e,"disabled",t[9]),512&n[0]&&f!==(f=t[9]?-1:0)&&S(e,"tabindex",f),83886080&n[0]&&Q(e,"active",t[24]&&t[26]===t[65]),100663296&n[0]&&Q(e,"press",t[25]&&t[26]===t[65])},d(t){t&&x(e),v&&v.d(),p=!1,s(m)}}}function Jt(t){let e,n;return{c(){e=C("span"),S(e,"class","rangeBar"),S(e,"style",n=t[28]+": "+t[31](t[29])+"%; "+t[27]+": "+t[32](t[29])+"%;")},m(t,n){y(t,e,n)},p(t,r){939524096&r[0]&&n!==(n=t[28]+": "+t[31](t[29])+"%; "+t[27]+": "+t[32](t[29])+"%;")&&S(e,"style",n)},d(t){t&&x(e)}}}function Yt(t){let e,n;return e=new Ht({props:{values:t[0],min:t[2],max:t[3],step:t[4],range:t[1],vertical:t[5],reversed:t[7],orientationStart:t[28],hoverable:t[8],disabled:t[9],all:t[12],first:t[13],last:t[14],rest:t[15],pipstep:t[11],prefix:t[17],suffix:t[18],formatter:t[19],focus:t[24],percentOf:t[22],moveHandle:t[30]}}),{c(){bt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},p(t,n){const r={};1&n[0]&&(r.values=t[0]),4&n[0]&&(r.min=t[2]),8&n[0]&&(r.max=t[3]),16&n[0]&&(r.step=t[4]),2&n[0]&&(r.range=t[1]),32&n[0]&&(r.vertical=t[5]),128&n[0]&&(r.reversed=t[7]),268435456&n[0]&&(r.orientationStart=t[28]),256&n[0]&&(r.hoverable=t[8]),512&n[0]&&(r.disabled=t[9]),4096&n[0]&&(r.all=t[12]),8192&n[0]&&(r.first=t[13]),16384&n[0]&&(r.last=t[14]),32768&n[0]&&(r.rest=t[15]),2048&n[0]&&(r.pipstep=t[11]),131072&n[0]&&(r.prefix=t[17]),262144&n[0]&&(r.suffix=t[18]),524288&n[0]&&(r.formatter=t[19]),16777216&n[0]&&(r.focus=t[24]),4194304&n[0]&&(r.percentOf=t[22]),e.$set(r)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function te(t){let e,n,r,o,i,a,l=t[0],u=[];for(let e=0;e<l.length;e+=1)u[e]=Xt(Gt(t,l,e));let c=t[1]&&Jt(t),d=t[10]&&Yt(t);return{c(){e=C("div");for(let t=0;t<u.length;t+=1)u[t].c();n=M(),c&&c.c(),r=M(),d&&d.c(),S(e,"id",t[16]),S(e,"class","rangeSlider"),Q(e,"range",t[1]),Q(e,"disabled",t[9]),Q(e,"hoverable",t[8]),Q(e,"vertical",t[5]),Q(e,"reversed",t[7]),Q(e,"focus",t[24]),Q(e,"min","min"===t[1]),Q(e,"max","max"===t[1]),Q(e,"pips",t[10]),Q(e,"pip-labels","label"===t[12]||"label"===t[13]||"label"===t[14]||"label"===t[15])},m(s,l){y(s,e,l);for(let t=0;t<u.length;t+=1)u[t].m(e,null);h(e,n),c&&c.m(e,null),h(e,r),d&&d.m(e,null),t[49](e),o=!0,i||(a=[_(window,"mousedown",t[38]),_(window,"touchstart",t[38]),_(window,"mousemove",t[39]),_(window,"touchmove",t[39]),_(window,"mouseup",t[40]),_(window,"touchend",t[41]),_(window,"keydown",t[42]),_(e,"mousedown",t[36]),_(e,"mouseup",t[37]),_(e,"touchstart",N(t[36])),_(e,"touchend",N(t[37]))],i=!0)},p(t,s){if(928383599&s[0]|28&s[1]){let r;for(l=t[0],r=0;r<l.length;r+=1){const o=Gt(t,l,r);u[r]?u[r].p(o,s):(u[r]=Xt(o),u[r].c(),u[r].m(e,n))}for(;r<u.length;r+=1)u[r].d(1);u.length=l.length}t[1]?c?c.p(t,s):(c=Jt(t),c.c(),c.m(e,r)):c&&(c.d(1),c=null),t[10]?d?(d.p(t,s),1024&s[0]&&ft(d,1)):(d=Yt(t),d.c(),ft(d,1),d.m(e,null)):d&&(ct(),pt(d,1,1,(()=>{d=null})),dt()),(!o||65536&s[0])&&S(e,"id",t[16]),2&s[0]&&Q(e,"range",t[1]),512&s[0]&&Q(e,"disabled",t[9]),256&s[0]&&Q(e,"hoverable",t[8]),32&s[0]&&Q(e,"vertical",t[5]),128&s[0]&&Q(e,"reversed",t[7]),16777216&s[0]&&Q(e,"focus",t[24]),2&s[0]&&Q(e,"min","min"===t[1]),2&s[0]&&Q(e,"max","max"===t[1]),1024&s[0]&&Q(e,"pips",t[10]),61440&s[0]&&Q(e,"pip-labels","label"===t[12]||"label"===t[13]||"label"===t[14]||"label"===t[15])},i(t){o||(ft(d),o=!0)},o(t){pt(d),o=!1},d(n){n&&x(e),w(u,n),c&&c.d(),d&&d.d(),t[49](null),i=!1,s(a)}}}function ee(t){if(!t)return-1;for(var e=0;t=t.previousElementSibling;)e++;return e}function ne(t){return t.type.includes("touch")?t.touches[0]:t}function re(e,n,r){let s,o,i,l,u,c,d=t;e.$$.on_destroy.push((()=>d()));let{range:f=!1}=n,{pushy:p=!1}=n,{min:m=0}=n,{max:v=100}=n,{step:g=1}=n,{values:h=[(v+m)/2]}=n,{vertical:b=!1}=n,{float:$=!1}=n,{reversed:y=!1}=n,{hoverable:x=!0}=n,{disabled:w=!1}=n,{pips:C=!1}=n,{pipstep:k}=n,{all:T}=n,{first:M}=n,{last:z}=n,{rest:_}=n,{id:N}=n,{prefix:S=""}=n,{suffix:E=""}=n,{formatter:q=((t,e,n)=>t)}=n,{handleFormatter:P=q}=n,{precision:F=2}=n,{springValues:O={stiffness:.15,damping:.4}}=n;const Q=function(){const t=B();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const s=W(e,n);r.slice().forEach((e=>{e.call(t,s)}))}}}();let A,j,D,R,I=0,L=!1,V=!1,H=!1,G=!1,U=h.length-1;function K(){return A.getBoundingClientRect()}function X(t){const e=K();let n=0,r=0,s=0;b?(n=t.clientY-e.top,r=n/e.height*100,r=y?r:100-r):(n=t.clientX-e.left,r=n/e.width*100,r=y?100-r:r),s=(v-m)/100*r+m,J(U,s)}function J(t,e){return e=i(e),void 0===t&&(t=U),f&&(0===t&&e>h[1]?p?r(0,h[1]=e,h):e=h[1]:1===t&&e<h[0]&&(p?r(0,h[0]=e,h):e=h[0])),h[t]!==e&&r(0,h[t]=e,h),D!==e&&(!w&&Q("change",{activeHandle:U,startValue:j,previousValue:void 0===D?j:D,value:h[U],values:h.map((t=>i(t)))}),D=e),e}function Y(){!w&&Q("stop",{activeHandle:U,startValue:j,value:h[U],values:h.map((t=>i(t)))})}return e.$$set=t=>{"range"in t&&r(1,f=t.range),"pushy"in t&&r(43,p=t.pushy),"min"in t&&r(2,m=t.min),"max"in t&&r(3,v=t.max),"step"in t&&r(4,g=t.step),"values"in t&&r(0,h=t.values),"vertical"in t&&r(5,b=t.vertical),"float"in t&&r(6,$=t.float),"reversed"in t&&r(7,y=t.reversed),"hoverable"in t&&r(8,x=t.hoverable),"disabled"in t&&r(9,w=t.disabled),"pips"in t&&r(10,C=t.pips),"pipstep"in t&&r(11,k=t.pipstep),"all"in t&&r(12,T=t.all),"first"in t&&r(13,M=t.first),"last"in t&&r(14,z=t.last),"rest"in t&&r(15,_=t.rest),"id"in t&&r(16,N=t.id),"prefix"in t&&r(17,S=t.prefix),"suffix"in t&&r(18,E=t.suffix),"formatter"in t&&r(19,q=t.formatter),"handleFormatter"in t&&r(20,P=t.handleFormatter),"precision"in t&&r(44,F=t.precision),"springValues"in t&&r(45,O=t.springValues)},e.$$.update=()=>{12&e.$$.dirty[0]&&r(48,o=function(t){return t<=m?m:t>=v?v:t}),28&e.$$.dirty[0]|139264&e.$$.dirty[1]&&r(47,i=function(t){if(t<=m)return m;if(t>=v)return v;let e=(t-m)%g,n=t-e;return 2*Math.abs(e)>=g&&(n+=e>0?g:-g),n=o(n),parseFloat(n.toFixed(F))}),12&e.$$.dirty[0]|8192&e.$$.dirty[1]&&r(22,s=function(t){let e=(t-m)/(v-m)*100;return isNaN(e)||e<=0?0:e>=100?100:parseFloat(e.toFixed(F))}),6291469&e.$$.dirty[0]|114688&e.$$.dirty[1]&&(Array.isArray(h)||(r(0,h=[(v+m)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),r(0,h=function(t){return"min"===f||"max"===f?t.slice(0,1):f?t.slice(0,2):t}(h.map((t=>i(t))))),I!==h.length?(r(21,R=_t(h.map((t=>s(t))),O)),d(),d=a(R,(t=>r(29,c=t)))):R.set(h.map((t=>s(t)))),r(46,I=h.length)),160&e.$$.dirty[0]&&r(28,l=b?y?"top":"bottom":y?"right":"left"),160&e.$$.dirty[0]&&r(27,u=b?y?"bottom":"top":y?"left":"right")},[h,f,m,v,g,b,$,y,x,w,C,k,T,M,z,_,N,S,E,q,P,R,s,A,L,H,U,u,l,c,J,function(t){return"min"===f?0:t[0]},function(t){return"max"===f?0:"min"===f?100-t[0]:100-t[1]},function(t){G&&(r(24,L=!1),V=!1,r(25,H=!1))},function(t){w||(r(26,U=ee(t.target)),r(24,L=!0))},function(t){if(!w){const e=ee(t.target);let n=t.ctrlKey||t.metaKey||t.shiftKey?10*g:g,r=!1;switch(t.key){case"PageDown":n*=10;case"ArrowRight":case"ArrowUp":J(e,h[e]+n),r=!0;break;case"PageUp":n*=10;case"ArrowLeft":case"ArrowDown":J(e,h[e]-n),r=!0;break;case"Home":J(e,m),r=!0;break;case"End":J(e,v),r=!0}r&&(t.preventDefault(),t.stopPropagation())}},function(t){if(!w){const e=t.target,n=ne(t);r(24,L=!0),V=!0,r(25,H=!0),r(26,U=function(t){const e=K();let n,r=0,s=0,o=0;return b?(r=t.clientY-e.top,s=r/e.height*100,s=y?s:100-s):(r=t.clientX-e.left,s=r/e.width*100,s=y?100-s:s),o=(v-m)/100*s+m,!0===f&&h[0]===h[1]?o>h[1]?1:0:(n=h.indexOf([...h].sort(((t,e)=>Math.abs(o-t)-Math.abs(o-e)))[0]),n)}(n)),j=D=i(h[U]),!w&&Q("start",{activeHandle:U,value:j,values:h.map((t=>i(t)))}),"touchstart"!==t.type||e.matches(".pipVal")||X(n)}},function(t){"touchend"===t.type&&Y(),r(25,H=!1)},function(t){G=!1,L&&t.target!==A&&!A.contains(t.target)&&r(24,L=!1)},function(t){w||V&&X(ne(t))},function(t){if(!w){const e=t.target;V&&((e===A||A.contains(e))&&(r(24,L=!0),function(t){const e=A.querySelectorAll(".handle"),n=Array.prototype.includes.call(e,t),r=Array.prototype.some.call(e,(e=>e.contains(t)));return n||r}(e)||e.matches(".pipVal")||X(ne(t))),Y())}V=!1,r(25,H=!1)},function(t){V=!1,r(25,H=!1)},function(t){w||(t.target===A||A.contains(t.target))&&(G=!0)},p,F,O,I,i,o,function(t){Z[t?"unshift":"push"]((()=>{A=t,r(23,A)}))}]}class se extends Ct{constructor(t){super(),wt(this,t,re,te,i,{range:1,pushy:43,min:2,max:3,step:4,values:0,vertical:5,float:6,reversed:7,hoverable:8,disabled:9,pips:10,pipstep:11,all:12,first:13,last:14,rest:15,id:16,prefix:17,suffix:18,formatter:19,handleFormatter:20,precision:44,springValues:45},null,[-1,-1,-1])}}function oe(t){let e;return{c(){e=C("div"),S(e,"class","gauge__fill centerMark svelte-141x32p")},m(t,n){y(t,e,n)},d(t){t&&x(e)}}}function ie(t){let e;return{c(){e=C("div"),S(e,"class","gauge__fill lowZone svelte-141x32p")},m(t,n){y(t,e,n)},d(t){t&&x(e)}}}function ae(t){let e;return{c(){e=C("div"),S(e,"class","gauge__fill hiZone svelte-141x32p")},m(t,n){y(t,e,n)},d(t){t&&x(e)}}}function le(t){let e,n,r,s=(100*t[0]).toFixed()+"";return{c(){e=C("div"),n=T(s),r=T("%"),S(e,"class","gauge__cover svelte-141x32p")},m(t,s){y(t,e,s),h(e,n),h(e,r)},p(t,e){1&e&&s!==(s=(100*t[0]).toFixed()+"")&&q(n,s)},d(t){t&&x(e)}}}function ue(t){let e,n;return{c(){e=C("div"),n=T(t[1]),S(e,"class","gauge__cover svelte-141x32p")},m(t,r){y(t,e,r),h(e,n)},p(t,e){2&e&&q(n,t[1])},d(t){t&&x(e)}}}function ce(e){let n,r,s,o,i,a,l,u=e[2]&&oe(),c=e[3]&&ie(),d=e[4]&&ae();function f(t,e){return null!==t[1]?ue:le}let p=f(e),m=p(e);return{c(){n=C("div"),r=C("div"),s=C("div"),o=M(),u&&u.c(),i=M(),c&&c.c(),a=M(),d&&d.c(),l=M(),m.c(),S(s,"class","gauge__fill svelte-141x32p"),S(s,"style",e[5]),Q(s,"needle",e[2]),S(r,"class","gauge__body svelte-141x32p"),S(n,"class","gauge svelte-141x32p"),S(n,"data-testid","gauge")},m(t,e){y(t,n,e),h(n,r),h(r,s),h(r,o),u&&u.m(r,null),h(r,i),c&&c.m(r,null),h(r,a),d&&d.m(r,null),h(r,l),m.m(r,null)},p(t,[e]){32&e&&S(s,"style",t[5]),4&e&&Q(s,"needle",t[2]),t[2]?u||(u=oe(),u.c(),u.m(r,i)):u&&(u.d(1),u=null),t[3]?c||(c=ie(),c.c(),c.m(r,a)):c&&(c.d(1),c=null),t[4]?d||(d=ae(),d.c(),d.m(r,l)):d&&(d.d(1),d=null),p===(p=f(t))&&m?m.p(t,e):(m.d(1),m=p(t),m&&(m.c(),m.m(r,null)))},i:t,o:t,d(t){t&&x(n),u&&u.d(),c&&c.d(),d&&d.d(),m.d()}}}function de(t,e,n){let r,{value:s=.5}=e,{label:o=null}=e,{needle:i=!1}=e,{lowZone:a=!1}=e,{hiZone:l=!1}=e;return t.$$set=t=>{"value"in t&&n(0,s=t.value),"label"in t&&n(1,o=t.label),"needle"in t&&n(2,i=t.needle),"lowZone"in t&&n(3,a=t.lowZone),"hiZone"in t&&n(4,l=t.hiZone)},t.$$.update=()=>{1&t.$$.dirty&&n(5,r=`transform: rotate(${s/2}turn)`)},[s,o,i,a,l,r]}class fe extends Ct{constructor(t){super(),wt(this,t,de,ce,i,{value:0,label:1,needle:2,lowZone:3,hiZone:4})}}function pe(t,{delay:n=0,duration:r=400,easing:s=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:s,css:t=>"opacity: "+t*o}}var me;const ve="gbSettings",ge="4.0.3",he=Tt("chart"),be={daysToReview:[4],srsCounts:{expectedDaily:0,new:{radicals:0,kanji:0,vocabulary:0,total:0},apprentice:{early:0,late:0,total:0},lesson:0,guru:0,master:0,enlightened:0,burned:0},sessionSummaries:[],reviewCounts:[],gbSettings:{version:ge,position:"Top",bgColor:"#f4f4f4",trackColor:"#e0e0e0",textColor:"#333333",hlTextColor:"#fbb623",fillColor:"#59c273",warnColor:"#fbb623",hlTrackColor:"#d1e8d4",gbMinTarget:130,gbMaxTarget:170,aboveTerm:"休",belowTerm:"努力",inRangeTerm:"良",newRWeight:.6,newKWeight:3,newVWeight:1,apprWeight:1,guruWeight:.1,masterWeight:0,enlightenedWeight:0,targetQPM:8.5,minQPM:7,maxQPM:10,madCutoff:10,rpdMin:120,rpdMax:180,tzOffset:0,rQuiz:!1,kQuiz:!0,vQuiz:!1}},$e=localStorage.getItem("daysToReview"),ye=Tt($e?JSON.parse($e):be.daysToReview);ye.subscribe((t=>{localStorage.setItem("daysToReview",JSON.stringify(t))}));const xe=t=>JSON.parse(t).map((t=>Object.assign(Object.assign({},t),{start:new Date(t.start),end:new Date(t.end)}))),we=localStorage.getItem("srsCounts"),Ce=Tt(we?JSON.parse(we):be.srsCounts);Ce.subscribe((t=>{localStorage.setItem("srsCounts",JSON.stringify(t))}));const ke=localStorage.getItem("sessionSummaries"),Te=Tt(ke?xe(ke):be.sessionSummaries);Te.subscribe((t=>{localStorage.setItem("sessionSummaries",JSON.stringify(t))}));const Me=localStorage.getItem("reviewCounts"),ze=Tt(Me?xe(Me):be.reviewCounts);ze.subscribe((t=>{localStorage.setItem("reviewCounts",JSON.stringify(t))}));const _e=be.gbSettings,Ne=Tt(null!==(me=JSON.parse(localStorage.getItem(ve)))&&void 0!==me?me:_e);Ne.subscribe((t=>{t.version===ge?localStorage.setItem(ve,JSON.stringify(t)):(Ne.set(_e),ye.set(be.daysToReview),Ce.set(be.srsCounts),Te.set(be.sessionSummaries),ze.set(be.reviewCounts))}));function Se(e){let n,r,s,o,i,a,l,u,c,d,f,p,m,v,g,b,$,w,k,z,_,N,E,P,F,O,Q,W,A,j,D,R,I,L,B,V,H,G,Z,U,K,X,J,tt,et,nt,rt,st,ot,it,at,lt,ut,ct,dt,ft,pt,mt=e[3].new.radicals+"",gt=e[3].new.kanji+"",ht=e[3].new.vocabulary+"",bt=e[3].apprentice.total+"",$t=e[3].apprentice.early+"",yt=e[3].guru+"",xt=e[3].master+"",wt=e[3].enlightened+"",Ct=e[0].toFixed()+"",kt=e[2].gbMinTarget+"",Tt=e[2].gbMaxTarget+"";return{c(){n=C("h1"),r=T("GanbarOmeter: "),s=T(e[5]),i=M(),a=C("div"),l=C("table"),u=C("tr"),c=C("th"),c.textContent="Early Apprentice",d=M(),f=C("td"),p=T(mt),m=C("span"),m.textContent="r",v=M(),g=T(gt),b=C("span"),b.textContent="k",$=M(),w=T(ht),k=C("span"),k.textContent="v",z=M(),_=C("tr"),N=C("th"),N.textContent="Apprentice",E=M(),P=C("td"),F=T(bt),O=M(),Q=C("span"),W=T("items\n            ("),A=T($t),j=T(" early-stage)"),D=M(),R=C("tr"),I=C("th"),I.textContent="Guru'd",L=M(),B=C("td"),V=T(yt),H=C("span"),H.textContent="g",G=M(),Z=T(xt),U=C("span"),U.textContent="m",K=M(),X=T(wt),J=C("span"),J.textContent="e",tt=M(),et=C("tr"),nt=C("th"),nt.textContent="Weighted count",rt=M(),st=C("td"),ot=T(Ct),it=M(),at=C("span"),lt=T("(target "),ut=T(kt),ct=T("–"),dt=T(Tt),ft=T(")"),S(n,"class","gbHeader"),S(m,"class","secondary"),S(b,"class","secondary"),S(k,"class","secondary"),S(Q,"class","secondary"),S(H,"class","secondary"),S(U,"class","secondary"),S(J,"class","secondary"),S(at,"class","secondary"),S(l,"class","gbContent"),S(a,"data-testid","ganbarometer-table")},m(t,e){y(t,n,e),h(n,r),h(n,s),y(t,i,e),y(t,a,e),h(a,l),h(l,u),h(u,c),h(u,d),h(u,f),h(f,p),h(f,m),h(f,v),h(f,g),h(f,b),h(f,$),h(f,w),h(f,k),h(l,z),h(l,_),h(_,N),h(_,E),h(_,P),h(P,F),h(P,O),h(P,Q),h(Q,W),h(Q,A),h(Q,j),h(l,D),h(l,R),h(R,I),h(R,L),h(R,B),h(B,V),h(B,H),h(B,G),h(B,Z),h(B,U),h(B,K),h(B,X),h(B,J),h(l,tt),h(l,et),h(et,nt),h(et,rt),h(et,st),h(st,ot),h(st,it),h(st,at),h(at,lt),h(at,ut),h(at,ct),h(at,dt),h(at,ft)},p(t,e){32&e&&q(s,t[5]),8&e&&mt!==(mt=t[3].new.radicals+"")&&q(p,mt),8&e&&gt!==(gt=t[3].new.kanji+"")&&q(g,gt),8&e&&ht!==(ht=t[3].new.vocabulary+"")&&q(w,ht),8&e&&bt!==(bt=t[3].apprentice.total+"")&&q(F,bt),8&e&&$t!==($t=t[3].apprentice.early+"")&&q(A,$t),8&e&&yt!==(yt=t[3].guru+"")&&q(V,yt),8&e&&xt!==(xt=t[3].master+"")&&q(Z,xt),8&e&&wt!==(wt=t[3].enlightened+"")&&q(X,wt),1&e&&Ct!==(Ct=t[0].toFixed()+"")&&q(ot,Ct),4&e&&kt!==(kt=t[2].gbMinTarget+"")&&q(ut,kt),4&e&&Tt!==(Tt=t[2].gbMaxTarget+"")&&q(dt,Tt)},i(t){o||Y((()=>{o=vt(n,pe,{}),o.start()})),pt||Y((()=>{pt=vt(a,pe,{}),pt.start()}))},o:t,d(t){t&&x(n),t&&x(i),t&&x(a)}}}function Ee(t){let e,n,r,s,o,i;return r=new fe({props:{value:t[1],label:t[4],needle:!0,lowZone:!0,hiZone:!0}}),{c(){e=C("h1"),e.textContent="GanbarOmeter",n=M(),bt(r.$$.fragment),s=M(),o=C("div"),o.innerHTML='<span class="left-aligned svelte-1rtibr8">遅</span><span class="right-aligned svelte-1rtibr8">早</span>',S(e,"class","gbHeader"),S(o,"class","units svelte-1rtibr8")},m(t,a){y(t,e,a),y(t,n,a),$t(r,t,a),y(t,s,a),y(t,o,a),i=!0},p(t,e){const n={};2&e&&(n.value=t[1]),16&e&&(n.label=t[4]),r.$set(n)},i(t){i||(ft(r.$$.fragment,t),i=!0)},o(t){pt(r.$$.fragment,t),i=!1},d(t){t&&x(e),t&&x(n),yt(r,t),t&&x(s),t&&x(o)}}}function qe(t){let e,n,r,s;const o=[Ee,Se],i=[];function a(t,e){return"chart"===t[6]?0:1}return n=a(t),r=i[n]=o[n](t),{c(){e=C("div"),r.c(),S(e,"class","gbWidget"),F(e,"--trackColor",t[2].hlTrackColor),F(e,"--hlTrackColor",t[2].trackColor)},m(t,r){y(t,e,r),i[n].m(e,null),s=!0},p(t,[l]){let u=n;n=a(t),n===u?i[n].p(t,l):(ct(),pt(i[u],1,1,(()=>{i[u]=null})),dt(),r=i[n],r?r.p(t,l):(r=i[n]=o[n](t),r.c()),ft(r,1),r.m(e,null)),(!s||4&l)&&F(e,"--trackColor",t[2].hlTrackColor),(!s||4&l)&&F(e,"--hlTrackColor",t[2].trackColor)},i(t){s||(ft(r),s=!0)},o(t){pt(r),s=!1},d(t){t&&x(e),i[n].d()}}}function Pe(t,e,n){let r,s,o,i,a,u,c,d,f,p;l(t,Ne,(t=>n(2,d=t))),l(t,Ce,(t=>n(3,f=t))),l(t,he,(t=>n(6,p=t)));const m=2/3*.5;return t.$$.update=()=>{12&t.$$.dirty&&n(0,r=f.new.radicals*d.newRWeight+f.new.kanji*d.newKWeight+f.new.vocabulary*d.newVWeight+f.apprentice.late*d.apprWeight+f.guru*d.guruWeight+f.master*d.masterWeight+f.enlightened*d.enlightenedWeight),4&t.$$.dirty&&n(9,s=m/(d.gbMaxTarget-d.gbMinTarget)),517&t.$$.dirty&&n(8,o=m+(r-d.gbMinTarget)*s),256&t.$$.dirty&&n(1,i=o<0?0:o>1?1:o),2&t.$$.dirty&&n(7,a=(i-.5).toFixed(2)),130&t.$$.dirty&&n(5,u=i>.5?"+"+a:a),5&t.$$.dirty&&n(4,c=r<d.gbMinTarget?d.belowTerm:r>d.gbMaxTarget?d.aboveTerm:d.inRangeTerm)},(async()=>{wkof.include("ItemData"),await wkof.ready("ItemData");const t=await wkof.ItemData.get_items("subjects,assignments"),e=await wkof.ItemData.get_index(t,"srs_stage");let n;e[1]&&e[2]?n=[...e[1],...e[2]]:e[1]&&(n=[...e[1]]);const r=n.filter((t=>"radical"===t.object)),s=n.filter((t=>"kanji"===t.object)),o=n.filter((t=>"vocabulary"===t.object)),i=[0,.5,1,1,2,7,14,30,120,0];let a=[];return[0,1,2,3,4,5,6,7,8,9].forEach((t=>{var n,r;a[t]=null!==(r=null===(n=e[t])||void 0===n?void 0:n.length)&&void 0!==r?r:0})),{expectedDaily:[1,2,3,4,5,6,7,8].map((t=>a[t]/i[t])).reduce(((t,e)=>t+e)),new:{radicals:r.length,kanji:s.length,vocabulary:o.length,total:n.length},apprentice:{early:a[1]+a[2],late:a[3]+a[4],total:a[1]+a[2]+a[3]+a[4]},lesson:a[0],guru:a[5]+a[6],master:a[7],enlightened:a[8],burned:a[9]}})().then((t=>Ce.set(t))),[r,i,d,f,c,u,p,a,o,s]}class Fe extends Ct{constructor(t){super(),wt(this,t,Pe,qe,i,{})}}function Oe(t,e,n){const r=t.slice();return r[17]=e[n],r[19]=n,r}function Qe(e){let n,r,s,o,i,a,l,u,c,d,f,p,m,v,g,b,$,k,z,_=e[0].toFixed(1)+"",N=e[1].toFixed(1)+"",E=e[3].length+"",P=e[3],F=[];for(let t=0;t<P.length;t+=1)F[t]=Ae(Oe(e,P,t));return{c(){n=C("h1"),r=T("Speed: "),s=T(_),o=T(" s/q • "),i=T(N),a=T(" q/m"),u=M(),c=C("div"),d=C("div"),f=C("h4"),p=T(E),m=T(" sessions • "),v=T(e[7]),g=T(" items • "),b=T(e[2]),$=T(" questions"),k=M();for(let t=0;t<F.length;t+=1)F[t].c();S(n,"class","gbHeader"),S(f,"class","svelte-ziwm73"),S(d,"class","gbContent scrollbox svelte-ziwm73"),S(c,"data-testid","speed-table")},m(t,e){y(t,n,e),h(n,r),h(n,s),h(n,o),h(n,i),h(n,a),y(t,u,e),y(t,c,e),h(c,d),h(d,f),h(f,p),h(f,m),h(f,v),h(f,g),h(f,b),h(f,$),h(d,k);for(let t=0;t<F.length;t+=1)F[t].m(d,null)},p(t,e){if(1&e&&_!==(_=t[0].toFixed(1)+"")&&q(s,_),2&e&&N!==(N=t[1].toFixed(1)+"")&&q(i,N),8&e&&E!==(E=t[3].length+"")&&q(p,E),128&e&&q(v,t[7]),4&e&&q(b,t[2]),32264&e){let n;for(P=t[3],n=0;n<P.length;n+=1){const r=Oe(t,P,n);F[n]?F[n].p(r,e):(F[n]=Ae(r),F[n].c(),F[n].m(d,null))}for(;n<F.length;n+=1)F[n].d(1);F.length=P.length}},i(t){l||Y((()=>{l=vt(n,pe,{}),l.start()})),z||Y((()=>{z=vt(c,pe,{}),z.start()}))},o:t,d(t){t&&x(n),t&&x(u),t&&x(c),w(F,t)}}}function We(t){let e,n,r,s,o,i;return r=new fe({props:{value:t[5],label:t[6]}}),{c(){e=C("h1"),e.textContent="Speed",n=M(),bt(r.$$.fragment),s=M(),o=C("div"),o.textContent="questions/min",S(e,"class","gbHeader"),S(o,"class","units")},m(t,a){y(t,e,a),y(t,n,a),$t(r,t,a),y(t,s,a),y(t,o,a),i=!0},p(t,e){const n={};32&e&&(n.value=t[5]),64&e&&(n.label=t[6]),r.$set(n)},i(t){i||(ft(r.$$.fragment,t),i=!0)},o(t){pt(r.$$.fragment,t),i=!1},d(t){t&&x(e),t&&x(n),yt(r,t),t&&x(s),t&&x(o)}}}function Ae(t){let e,n,r,s,o,i,a,l,u,c,d,f,p,m,v,g,b,$,w,k,z,_,N,E,P,F,O,Q,W,A=t[19]+1+"",j=t[10](t[17].start)+"",D=t[11](t[17].end)+"",R=(t[9](t[17])/60).toFixed()+"",I=t[17].reviewCount+"",L=t[17].questionCount+"",B=t[13](t[9](t[17]),t[17].questionCount)+"",V=t[14](t[9](t[17]),t[17].questionCount)+"",H=t[17].correctAnswerCount+"",G=t[17].questionCount+"",Z=t[12](t[17])+"";return{c(){e=C("article"),n=C("h5"),r=T(A),s=T(": "),o=T(j),i=T(" – "),a=T(D),l=T("\n            ("),u=T(R),c=T("m)"),d=M(),f=C("p"),p=T(I),m=T(" items • "),v=T(L),g=T(" questions •\n            "),b=T(B),$=T(" s/q •\n            "),w=T(V),k=T(" q/m"),z=C("br"),_=M(),N=T(H),E=T("/"),P=T(G),F=T(" =\n            "),O=T(Z),Q=T("% correct"),W=M(),S(n,"class","svelte-ziwm73"),S(f,"class","svelte-ziwm73"),S(e,"class","svelte-ziwm73")},m(t,x){y(t,e,x),h(e,n),h(n,r),h(n,s),h(n,o),h(n,i),h(n,a),h(n,l),h(n,u),h(n,c),h(e,d),h(e,f),h(f,p),h(f,m),h(f,v),h(f,g),h(f,b),h(f,$),h(f,w),h(f,k),h(f,z),h(f,_),h(f,N),h(f,E),h(f,P),h(f,F),h(f,O),h(f,Q),h(e,W)},p(t,e){8&e&&j!==(j=t[10](t[17].start)+"")&&q(o,j),8&e&&D!==(D=t[11](t[17].end)+"")&&q(a,D),8&e&&R!==(R=(t[9](t[17])/60).toFixed()+"")&&q(u,R),8&e&&I!==(I=t[17].reviewCount+"")&&q(p,I),8&e&&L!==(L=t[17].questionCount+"")&&q(v,L),8&e&&B!==(B=t[13](t[9](t[17]),t[17].questionCount)+"")&&q(b,B),8&e&&V!==(V=t[14](t[9](t[17]),t[17].questionCount)+"")&&q(w,V),8&e&&H!==(H=t[17].correctAnswerCount+"")&&q(N,H),8&e&&G!==(G=t[17].questionCount+"")&&q(P,G),8&e&&Z!==(Z=t[12](t[17])+"")&&q(O,Z)},d(t){t&&x(e)}}}function je(t){let e,n,r,s;const o=[We,Qe],i=[];function a(t,e){return"chart"===t[8]?0:1}return n=a(t),r=i[n]=o[n](t),{c(){e=C("div"),r.c(),S(e,"class","gbWidget svelte-ziwm73"),S(e,"data-testid","speedWidget"),F(e,"--fillColor",t[4])},m(t,r){y(t,e,r),i[n].m(e,null),s=!0},p(t,[l]){let u=n;n=a(t),n===u?i[n].p(t,l):(ct(),pt(i[u],1,1,(()=>{i[u]=null})),dt(),r=i[n],r?r.p(t,l):(r=i[n]=o[n](t),r.c()),ft(r,1),r.m(e,null)),(!s||16&l)&&F(e,"--fillColor",t[4])},i(t){s||(ft(r),s=!0)},o(t){pt(r),s=!1},d(t){t&&x(e),i[n].d()}}}function De(t,e,n){let r,s,o,i,a,u,c,d,f,p;l(t,Ne,(t=>n(16,d=t))),l(t,Te,(t=>n(3,f=t))),l(t,he,(t=>n(8,p=t)));const m=t=>(t.end-t.start)/1e3;let v;return t.$$.update=()=>{8&t.$$.dirty&&n(7,r=f.reduce(((t,e)=>t+ +e.reviewCount),0)),8&t.$$.dirty&&n(2,s=f.reduce(((t,e)=>t+ +e.questionCount),0)),8&t.$$.dirty&&n(15,v=f.reduce(((t,e)=>t+m(e)),0)),32772&t.$$.dirty&&n(0,o=s>0?v/s:0),1&t.$$.dirty&&n(1,i=60/o),2&t.$$.dirty&&n(6,a=`${i.toFixed(1)}`),65538&t.$$.dirty&&n(5,u=i/(2*d.targetQPM)),65539&t.$$.dirty&&n(4,c=i<d.minQPM||o>d.maxQPM?d.warnColor:d.fillColor)},[o,i,s,f,c,u,a,r,p,m,t=>Intl.DateTimeFormat("en-US",{dateStyle:"short",timeStyle:"short"}).format(t),t=>Intl.DateTimeFormat("en-US",{timeStyle:"short"}).format(t),t=>(100*t.correctAnswerCount/t.questionCount).toFixed(1),(t,e)=>(t/e).toFixed(1),(t,e)=>(60*e/t).toFixed(1),v,d]}class Re extends Ct{constructor(t){super(),wt(this,t,De,je,i,{})}}function Ie(t,e,n){const r=t.slice();return r[11]=e[n],r[13]=n,r}function Le(t){let e;return{c(){e=C("td"),S(e,"aria-label","percents"),S(e,"class","percents svelte-qotrzq"),F(e,"height",(100*t[1][t[13]]).toFixed(1)+"%")},m(t,n){y(t,e,n)},p(t,n){2&n&&F(e,"height",(100*t[1][t[13]]).toFixed(1)+"%")},d(t){t&&x(e)}}}function Be(t){let e,n,r,s=(100*t[1][t[13]]).toFixed()+"";return{c(){e=C("br"),n=T(s),r=T("%")},m(t,s){y(t,e,s),y(t,n,s),y(t,r,s)},p(t,e){2&e&&s!==(s=(100*t[1][t[13]]).toFixed()+"")&&q(n,s)},d(t){t&&x(e),t&&x(n),t&&x(r)}}}function Ve(t){let e,n,r,s,o,i,a,l,u,c=(t[2][t[13]]?t[2][t[13]]:"")+"",d=t[11]+"",f=t[1].length&&Le(t),p=t[1].length&&Be(t);return{c(){e=C("tr"),n=C("th"),r=T(c),s=M(),o=C("td"),i=M(),f&&f.c(),a=M(),l=C("span"),u=T(d),p&&p.c(),S(n,"scope","row"),S(n,"aria-label","label"),S(n,"class","svelte-qotrzq"),S(o,"aria-label","value"),S(o,"class","svelte-qotrzq"),S(l,"class","displayBox svelte-qotrzq"),S(l,"data-testid","displayBox"),S(e,"aria-label","values"),F(e,"height",t[10][t[13]]+"%"),S(e,"class","svelte-qotrzq")},m(t,c){y(t,e,c),h(e,n),h(n,r),h(e,s),h(e,o),h(e,i),f&&f.m(e,null),h(e,a),h(e,l),h(l,u),p&&p.m(l,null)},p(t,n){4&n&&c!==(c=(t[2][t[13]]?t[2][t[13]]:"")+"")&&q(r,c),t[1].length?f?f.p(t,n):(f=Le(t),f.c(),f.m(e,a)):f&&(f.d(1),f=null),1&n&&d!==(d=t[11]+"")&&q(u,d),t[1].length?p?p.p(t,n):(p=Be(t),p.c(),p.m(l,null)):p&&(p.d(1),p=null),1024&n&&F(e,"height",t[10][t[13]]+"%")},d(t){t&&x(e),f&&f.d(),p&&p.d()}}}function He(e){let n,r,s,o,i,a,l,u,c,d,f,p,m,v,g,b,$,k=e[0],z=[];for(let t=0;t<k.length;t+=1)z[t]=Ve(Ie(e,k,t));return{c(){n=C("table"),r=C("thead"),r.innerHTML='<tr class="svelte-qotrzq"><th scope="col" class="svelte-qotrzq">Item</th> \n      <th scope="col" class="svelte-qotrzq">Value</th></tr>',s=M(),o=C("tbody");for(let t=0;t<z.length;t+=1)z[t].c();i=M(),a=C("div"),u=M(),c=C("div"),f=M(),p=C("p"),m=T(e[4]),v=M(),g=T(e[5]),b=M(),$=T(e[3]),S(r,"class","svelte-qotrzq"),S(a,"class","minmax svelte-qotrzq"),a.hidden=l=e[4]+e[5]===0,F(a,"bottom",e[7]+"%"),F(a,"height",e[8]+"%"),c.hidden=d=0===e[9],S(c,"class","expected svelte-qotrzq"),F(c,"height",e[9]+"%"),S(o,"class","svelte-qotrzq"),S(n,"class","graph svelte-qotrzq"),S(n,"aria-label","bar-chart"),F(n,"--max-label",e[6].toFixed()),p.hidden=!0},m(t,e){y(t,n,e),h(n,r),h(n,s),h(n,o);for(let t=0;t<z.length;t+=1)z[t].m(o,null);h(o,i),h(o,a),h(o,u),h(o,c),y(t,f,e),y(t,p,e),h(p,m),h(p,v),h(p,g),h(p,b),h(p,$)},p(t,[e]){if(1031&e){let n;for(k=t[0],n=0;n<k.length;n+=1){const r=Ie(t,k,n);z[n]?z[n].p(r,e):(z[n]=Ve(r),z[n].c(),z[n].m(o,i))}for(;n<z.length;n+=1)z[n].d(1);z.length=k.length}48&e&&l!==(l=t[4]+t[5]===0)&&(a.hidden=l),128&e&&F(a,"bottom",t[7]+"%"),256&e&&F(a,"height",t[8]+"%"),512&e&&d!==(d=0===t[9])&&(c.hidden=d),512&e&&F(c,"height",t[9]+"%"),64&e&&F(n,"--max-label",t[6].toFixed()),16&e&&q(m,t[4]),32&e&&q(g,t[5]),8&e&&q($,t[3])},i:t,o:t,d(t){t&&x(n),w(z,t),t&&x(f),t&&x(p)}}}function Ge(t,e,n){let r,s,o,i,a,{values:l}=e,{percents:u=[]}=e,{labels:c=[]}=e,{expected:d=0}=e,{minTarget:f=0}=e,{maxTarget:p=0}=e;return t.$$set=t=>{"values"in t&&n(0,l=t.values),"percents"in t&&n(1,u=t.percents),"labels"in t&&n(2,c=t.labels),"expected"in t&&n(3,d=t.expected),"minTarget"in t&&n(4,f=t.minTarget),"maxTarget"in t&&n(5,p=t.maxTarget)},t.$$.update=()=>{41&t.$$.dirty&&n(6,r=Math.max(...l,d,p)),65&t.$$.dirty&&n(10,s=l.map((t=>Math.round(t/r*100)))),72&t.$$.dirty&&n(9,o=Math.round(d/r*100)),112&t.$$.dirty&&n(8,i=Math.round((p-f)/r*100)),80&t.$$.dirty&&n(7,a=Math.round(f/r*100))},[l,u,c,d,f,p,r,a,i,o,s]}class Ze extends Ct{constructor(t){super(),wt(this,t,Ge,He,i,{values:0,percents:1,labels:2,expected:3,minTarget:4,maxTarget:5})}}function Ue(e){let n,r,s,o,i,a,l,u,c,d,f,p,m,v,g,b,$,w,k,z,_,N,E,P,F,O,Q,W,A,j,D,R,I,L,B,V,H,G,Z,U=e[3].toFixed()+"",K=e[8].expectedDaily.toFixed()+"",X=e[9].rpdMin+"",J=e[9].rpdMax+"",tt=e[10](e[2][e[2].length-1]?.start)+"",et=e[2][e[2].length-1]?.review_count+"",nt=(100*e[0][e[0].length-1]).toFixed()+"";function rt(t,e){return t[2].length>2?Je:2===t[2].length?Xe:void 0}let st=rt(e),ot=st&&st(e);return{c(){n=C("h1"),r=T(e[1]),s=T(" Reviews @"),o=T(U),i=T("%"),l=M(),u=C("div"),c=C("table"),d=C("tr"),f=C("th"),f.textContent="Expected Daily:",p=M(),m=C("td"),v=T(K),g=M(),b=C("span"),$=T("(avg.: "),w=T(e[5]),k=T(", target: "),z=T(X),_=T("–"),N=T(J),E=T(")"),P=M(),F=C("tr"),O=C("th"),Q=T("Latest ("),W=T(tt),A=T("):"),j=M(),D=C("td"),R=T(et),I=M(),L=C("span"),B=T("reviews @ "),V=T(nt),H=T("%"),G=M(),ot&&ot.c(),S(n,"class","gbHeader"),S(b,"class","secondary"),S(L,"class","secondary"),S(c,"class","gbContent"),S(u,"data-testid","reviews-per-day-table")},m(t,e){y(t,n,e),h(n,r),h(n,s),h(n,o),h(n,i),y(t,l,e),y(t,u,e),h(u,c),h(c,d),h(d,f),h(d,p),h(d,m),h(m,v),h(m,g),h(m,b),h(b,$),h(b,w),h(b,k),h(b,z),h(b,_),h(b,N),h(b,E),h(c,P),h(c,F),h(F,O),h(O,Q),h(O,W),h(O,A),h(F,j),h(F,D),h(D,R),h(D,I),h(D,L),h(L,B),h(L,V),h(L,H),h(c,G),ot&&ot.m(c,null)},p(t,e){2&e&&q(r,t[1]),8&e&&U!==(U=t[3].toFixed()+"")&&q(o,U),256&e&&K!==(K=t[8].expectedDaily.toFixed()+"")&&q(v,K),32&e&&q(w,t[5]),512&e&&X!==(X=t[9].rpdMin+"")&&q(z,X),512&e&&J!==(J=t[9].rpdMax+"")&&q(N,J),4&e&&tt!==(tt=t[10](t[2][t[2].length-1]?.start)+"")&&q(W,tt),4&e&&et!==(et=t[2][t[2].length-1]?.review_count+"")&&q(R,et),1&e&&nt!==(nt=(100*t[0][t[0].length-1]).toFixed()+"")&&q(V,nt),st===(st=rt(t))&&ot?ot.p(t,e):(ot&&ot.d(1),ot=st&&st(t),ot&&(ot.c(),ot.m(c,null)))},i(t){a||Y((()=>{a=vt(n,pe,{}),a.start()})),Z||Y((()=>{Z=vt(u,pe,{}),Z.start()}))},o:t,d(t){t&&x(n),t&&x(l),t&&x(u),ot&&ot.d()}}}function Ke(t){let e,n,r,s;return r=new Ze({props:{values:t[4],labels:t[6],expected:t[8].expectedDaily,minTarget:t[9].rpdMin,maxTarget:t[9].rpdMax,percents:t[0]}}),{c(){e=C("h1"),e.textContent="Reviews",n=M(),bt(r.$$.fragment),S(e,"class","gbHeader")},m(t,o){y(t,e,o),y(t,n,o),$t(r,t,o),s=!0},p(t,e){const n={};16&e&&(n.values=t[4]),64&e&&(n.labels=t[6]),256&e&&(n.expected=t[8].expectedDaily),512&e&&(n.minTarget=t[9].rpdMin),512&e&&(n.maxTarget=t[9].rpdMax),1&e&&(n.percents=t[0]),r.$set(n)},i(t){s||(ft(r.$$.fragment,t),s=!0)},o(t){pt(r.$$.fragment,t),s=!1},d(t){t&&x(e),t&&x(n),yt(r,t)}}}function Xe(t){let e,n,r,s,o,i,a,l,u,c=t[10](t[2][0].start)+"",d=t[2][0].review_count+"";return{c(){e=C("tr"),n=C("th"),r=T(c),s=T(":"),o=M(),i=C("td"),a=T(d),l=M(),u=C("span"),u.textContent="reviews",S(u,"class","secondary")},m(t,c){y(t,e,c),h(e,n),h(n,r),h(n,s),h(e,o),h(e,i),h(i,a),h(i,l),h(i,u)},p(t,e){4&e&&c!==(c=t[10](t[2][0].start)+"")&&q(r,c),4&e&&d!==(d=t[2][0].review_count+"")&&q(a,d)},d(t){t&&x(e)}}}function Je(t){let e,n,r,s,o,i,a,l,u,c,d,f,p,m,v,g,b,$,w,k=t[10](t[2][0].start)+"",z=t[10](t[2][t[2].length-2].start)+"",_=t[2].slice(0,-1).map(tn).join(" • ")+"",N=t[0].slice(0,-1).map(en).join("% • ")+"";return{c(){e=C("tr"),n=C("th"),r=T(k),s=T(" – "),o=T(z),i=T(":"),a=M(),l=C("td"),u=T(_),c=M(),d=C("span"),d.textContent="reviews",f=M(),p=C("tr"),m=C("th"),v=M(),g=C("td"),b=T(N),$=T("% "),w=C("span"),w.textContent="accuracy",S(d,"class","secondary"),S(w,"class","secondary")},m(t,x){y(t,e,x),h(e,n),h(n,r),h(n,s),h(n,o),h(n,i),h(e,a),h(e,l),h(l,u),h(l,c),h(l,d),y(t,f,x),y(t,p,x),h(p,m),h(p,v),h(p,g),h(g,b),h(g,$),h(g,w)},p(t,e){4&e&&k!==(k=t[10](t[2][0].start)+"")&&q(r,k),4&e&&z!==(z=t[10](t[2][t[2].length-2].start)+"")&&q(o,z),4&e&&_!==(_=t[2].slice(0,-1).map(tn).join(" • ")+"")&&q(u,_),1&e&&N!==(N=t[0].slice(0,-1).map(en).join("% • ")+"")&&q(b,N)},d(t){t&&x(e),t&&x(f),t&&x(p)}}}function Ye(t){let e,n,r,s;const o=[Ke,Ue],i=[];function a(t,e){return"chart"===t[7]?0:1}return n=a(t),r=i[n]=o[n](t),{c(){e=C("div"),r.c(),S(e,"class","gbWidget"),S(e,"data-testid","reviews-per-day-gauge")},m(t,r){y(t,e,r),i[n].m(e,null),s=!0},p(t,[s]){let l=n;n=a(t),n===l?i[n].p(t,s):(ct(),pt(i[l],1,1,(()=>{i[l]=null})),dt(),r=i[n],r?r.p(t,s):(r=i[n]=o[n](t),r.c()),ft(r,1),r.m(e,null))},i(t){s||(ft(r),s=!0)},o(t){pt(r),s=!1},d(t){t&&x(e),i[n].d()}}}const tn=t=>t.review_count,en=t=>(100*t).toFixed();function nn(t,e,n){let r,s,o,i,a,u,c,d,f,p,m;l(t,ze,(t=>n(2,c=t))),l(t,ye,(t=>n(11,d=t))),l(t,he,(t=>n(7,f=t))),l(t,Ce,(t=>n(8,p=t))),l(t,Ne,(t=>n(9,m=t)));const v=t=>new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(t);return t.$$.update=()=>{4&t.$$.dirty&&n(6,r=c.map((t=>v(t.start)))),4&t.$$.dirty&&n(1,s=c.reduce(((t,e)=>t+e.review_count),0)),2050&t.$$.dirty&&n(5,o=(s/d[0]).toFixed()),4&t.$$.dirty&&n(4,i=c.map((t=>t.review_count))),4&t.$$.dirty&&n(0,a=c.map((t=>t.accuracy))),1&t.$$.dirty&&n(3,u=100*a.reduce(((t,e)=>t+e),0)/a.length)},[a,s,c,u,i,o,r,f,p,m,v,d]}class rn extends Ct{constructor(t){super(),wt(this,t,nn,Ye,i,{})}}function sn(t){let e,n,r,s,o,i,a,l,c,d;const f=t[4].default,p=function(t,e,n,r){if(t){const s=u(t,e,n,r);return t[0](s)}}(f,t,t[3],null);return{c(){e=C("div"),n=C("div"),r=k("svg"),s=k("circle"),o=k("line"),i=k("line"),a=M(),p&&p.c(),S(s,"cx","6"),S(s,"cy","6"),S(s,"r","6"),S(o,"x1","3"),S(o,"y1","3"),S(o,"x2","9"),S(o,"y2","9"),S(o,"class","svelte-12qk02z"),S(i,"x1","9"),S(i,"y1","3"),S(i,"x2","3"),S(i,"y2","9"),S(i,"class","svelte-12qk02z"),S(r,"class","closeIcon svelte-12qk02z"),S(r,"viewBox","0 0 12 12"),S(n,"class","modal svelte-12qk02z"),S(e,"class","modal-wrapper svelte-12qk02z")},m(u,f){y(u,e,f),h(e,n),h(n,r),h(r,s),h(r,o),h(r,i),h(n,a),p&&p.m(n,null),l=!0,c||(d=_(r,"click",t[6]),c=!0)},p(t,e){p&&p.p&&(!l||8&e)&&function(t,e,n,r,s,o){if(s){const i=u(e,n,r,o);t.p(i,s)}}(p,f,t,t[3],l?function(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|s[r];return t}return e.dirty|s}return e.dirty}(f,t[3],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[3]),null)},i(t){l||(ft(p,t),l=!0)},o(t){pt(p,t),l=!1},d(t){t&&x(e),p&&p.d(t),c=!1,d()}}}function on(t){let e,n,r,s,o=t[1]&&sn(t);return{c(){o&&o.c(),e=z()},m(i,a){o&&o.m(i,a),y(i,e,a),n=!0,r||(s=_(window,"keydown",t[5]),r=!0)},p(t,[n]){t[1]?o?(o.p(t,n),2&n&&ft(o,1)):(o=sn(t),o.c(),ft(o,1),o.m(e.parentNode,e)):o&&(ct(),pt(o,1,1,(()=>{o=null})),dt())},i(t){n||(ft(o),n=!0)},o(t){pt(o),n=!1},d(t){o&&o.d(t),t&&x(e),r=!1,s()}}}function an(t,e,n){let{$$slots:r={},$$scope:s}=e,o=!1;function i(){n(1,o=!1)}return t.$$set=t=>{"$$scope"in t&&n(3,s=t.$$scope)},[i,o,function(){n(1,o=!0)},s,r,t=>{"Escape"===t.key&&i()},()=>i()]}class ln extends Ct{constructor(t){super(),wt(this,t,an,on,i,{show:2,hide:0})}get show(){return this.$$.ctx[2]}get hide(){return this.$$.ctx[0]}}function un(){return(un=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)}function cn(t,e,n){if(n||2===arguments.length)for(var r,s=0,o=e.length;s<o;s++)!r&&s in e||(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return t.concat(r||e)}var dn=Object.assign;function fn(t){return"function"==typeof t}function pn(t,e){function n(t){r=!0,s=t}for(var r=!1,s=null,o=0;o<t.length;o++)if(e(t[o],n,o),r)return s}function mn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return fn(t)?t.apply(void 0,e):t}function vn(t,e){var n;return null!==(n=mn(t))&&void 0!==n?n:e}function gn(t,e){return t={pass:t},e&&(t.message=e),t}function hn(t,e){try{return t.run(e)}catch(t){return gn(!1)}}function bn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(void 0,e)}}function $n(t,e){return t.length===Number(e)}var yn=bn($n);function xn(t,e){return t.length>Number(e)}function wn(t){return null===t}var Cn=bn(wn);function kn(t){return void 0===t}var Tn=bn(kn);function Mn(t){return String(t)===t}function zn(t,e){return Mn(t)&&Mn(e)&&t.endsWith(e)}var _n=bn(zn);function Nn(t,e){return t===e}var Sn=bn(Nn);function En(t){var e=Number(t);return!(isNaN(parseFloat(String(t)))||isNaN(Number(t))||!isFinite(e))}var qn=bn(En);function Pn(t,e){return En(t)&&En(e)&&Number(t)>Number(e)}function Fn(t,e){return En(t)&&En(e)&&Number(t)>=Number(e)}function On(t){return!!Array.isArray(t)}var Qn=bn(On);function Wn(t,e){return!!(On(e)||Mn(e)&&Mn(t))&&-1!==e.indexOf(t)}var An=bn(Wn);function jn(t,e){return En(t)&&En(e)&&Number(t)<=Number(e)}function Dn(t,e,n){return Fn(t,e)&&jn(t,n)}var Rn=bn(Dn);function In(t){return Mn(t)&&!t.trim()}var Ln=bn(In);function Bn(t){return!!t===t}var Vn=bn(Bn);function Hn(t){return"number"==typeof t}var Gn=bn(Hn);function Zn(t){if(t){if(Hn(t))return 0===t;if(Object.prototype.hasOwnProperty.call(t,"length"))return $n(t,0);if("object"==typeof t)return $n(Object.keys(t),0)}return!0}var Un=bn(Zn);function Kn(t){return Number.isNaN(t)}var Xn=bn(Kn);function Jn(t){return!!En(t)&&0>Number(t)}var Yn=bn(Jn),tr=bn(Mn);function er(t){return!!t}var nr=bn(er);function rr(t,e){return En(t)&&En(e)&&Number(t)<Number(e)}function sr(t,e){return e instanceof RegExp?e.test(t):!!Mn(e)&&new RegExp(e).test(t)}var or=bn(sr);function ir(t,e){return En(t)&&En(e)&&Number(t)===Number(e)}var ar=bn(ir);function lr(t,e){return Mn(t)&&Mn(e)&&t.startsWith(e)}var ur=bn(lr);function cr(t,e){throw Error(vn(e,t))}function dr(t){function e(e,s){var o,i,a=n();return e=dn({},a||{},null!==(o=mn(t,e,a))&&void 0!==o?o:e),o=r.ctx=Object.freeze(e),r.ancestry.unshift(o),s=s(o),r.ancestry.shift(),r.ctx=null!==(i=r.ancestry[0])&&void 0!==i?i:null,s}function n(){return r.ctx}var r={ancestry:[]};return{bind:function(t,n){return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return e(t,(function(){return n.apply(void 0,r)}))}},run:e,use:n,useX:function(t){var e;return null!==(e=r.ctx)&&void 0!==e?e:cr(vn(t,"Context was used after it was closed"))}}}var fr=dr((function(t,e){var n={value:t.value,meta:t.meta||{}};return e?t.set?dn(n,{parent:function(){return e?{value:e.value,meta:e.meta,parent:e.parent}:e}}):e:dn(n,{parent:pr})}));function pr(){return null}function mr(t,e){function n(n){var r=t[n],s=e[n];if(!(n=fr.run({value:r,set:!0,meta:{key:n}},(function(){return hn(s,r)}))).pass)return{value:n}}for(var r in e){var s=n(r);if("object"==typeof s)return s.value}return gn(!0)}var vr=dn({condition:function(t,e){try{return e(t)}catch(t){return!1}},doesNotEndWith:_n,doesNotStartWith:ur,endsWith:zn,equals:Nn,greaterThan:Pn,greaterThanOrEquals:Fn,gt:Pn,gte:Fn,inside:Wn,isArray:On,isBetween:Dn,isBlank:In,isBoolean:Bn,isEmpty:Zn,isEven:function(t){return!!En(t)&&0==t%2},isFalsy:nr,isNaN:Kn,isNegative:Jn,isNotArray:Qn,isNotBetween:Rn,isNotBlank:Ln,isNotBoolean:Vn,isNotEmpty:Un,isNotNaN:Xn,isNotNull:Cn,isNotNumber:Gn,isNotNumeric:qn,isNotString:tr,isNotUndefined:Tn,isNull:wn,isNumber:Hn,isNumeric:En,isOdd:function(t){return!!En(t)&&0!=t%2},isPositive:Yn,isString:Mn,isTruthy:er,isUndefined:kn,lengthEquals:$n,lengthNotEquals:yn,lessThan:rr,lessThanOrEquals:jn,longerThan:xn,longerThanOrEquals:function(t,e){return t.length>=Number(e)},lt:rr,lte:jn,matches:sr,notEquals:Sn,notInside:An,notMatches:or,numberEquals:ir,numberNotEquals:ar,shorterThan:function(t,e){return t.length<Number(e)},shorterThanOrEquals:function(t,e){return t.length<=Number(e)},startsWith:lr},{allOf:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return vn(pn(e,(function(e,n){(e=hn(e,t)).pass||n(e)})),gn(!0))},anyOf:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return vn(pn(e,(function(e,n){(e=hn(e,t)).pass&&n(e)})),gn(!1))},noneOf:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return vn(pn(e,(function(e,n){hn(e,t).pass&&n(gn(!1))})),gn(!0))},oneOf:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=[];return e.some((function(e){if(xn(r,1))return!1;(e=hn(e,t)).pass&&r.push(e)})),gn($n(r,1))},optional:function(t,e){return kn(t)||null===t?gn(!0):hn(e,t)}},{shape:function(t,e){var n=mr(t,e);if(!n.pass)return n;for(var r in t)if(!Object.prototype.hasOwnProperty.call(e,r))return gn(!1);return gn(!0)},loose:mr,isArrayOf:function(t,e){return vn(pn(t,(function(t,n,r){(r=fr.run({value:t,set:!0,meta:{index:r}},(function(){return hn(e,t)}))).pass||n(r)})),gn(!0))}});function gr(t){for(var e in vr){var n=vr[e];fn(n)&&t(e,n)}}function hr(){try{return fn(Proxy)}catch(t){return!1}}function br(t,e,n){for(var r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];return Bn(t)||t&&Bn(t.pass)||cr("Incorrect return value for rule: "+JSON.stringify(t)),Bn(t)?gn(t):gn(t.pass,mn.apply(void 0,cn([t.message,e,n],r)))}function $r(t){var e,n=[];return function t(r){return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var i=vr[r];n.push((function(t){return br.apply(void 0,cn([i.apply(void 0,cn([t],s)),r,t],s))}));var a={run:function(t){return vn(pn(n,(function(n,r){var s,o=fr.run({value:t},(function(){return n(t)}));o.pass||r(gn(!!o.pass,null!==(s=mn(e,t,o.message))&&void 0!==s?s:o.message))})),gn(!0))},test:function(t){return a.run(t).pass},message:function(t){return t&&(e=t),a}};return hr()?a=new Proxy(a,{get:function(e,n){return vr[n]?t(n):e[n]}}):(gr((function(e){a[e]=t(e)})),a)}}(t)}var yr,xr=(yr=un({context:function(){return fr.useX()},extend:function(t){dn(vr,t)}},{partial:function(t){var e,n={};for(e in t)n[e]=xr.optional(t[e]);return n}}),hr()?new Proxy(dn((function(t){function e(e,n,r){return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(!(o=br.apply(void 0,cn([fr.run({value:t},(function(){return n.apply(void 0,cn([t],s))})),r,t],s))).pass){if(!Zn(o.message))throw o.message;cr("enforce/"+r+" failed with "+JSON.stringify(t))}return e}}var n={};if(!hr())return gr((function(t,r){n[t]=e(n,r,t)})),n;var r=new Proxy(n,{get:function(t,n){if(t=vr[n])return e(r,t,n)}});return r}),yr),{get:function(t,e){return e in t?t[e]:vr[e]?$r(e):void 0}}):(gr((function(t){yr[t]=$r(t)})),yr)),wr=function(t){return function(){return""+t++}}(0);function Cr(t){function e(t,e,s){return r.references.push(),n(t,mn(e,s)),function(){return[r.references[t],function(e){return n(t,mn(e,r.references[t]))}]}}function n(e,n){var o=r.references[e];r.references[e]=n,fn(e=s[e][1])&&e(n,o),fn(t)&&t()}var r={references:[]},s=[];return{registerStateKey:function(t,n){var r=s.length;return s.push([t,n]),e(r,t)},reset:function(){var t=r.references;r.references=[],s.forEach((function(n,r){return e(r,n[0],t[r])}))}}}var kr,Tr=kr||(kr={});function Mr(t,e){var n=e.suiteId;return e=e.suiteName,{optionalFields:t.registerStateKey((function(){return{}})),suiteId:t.registerStateKey(n),suiteName:t.registerStateKey(e),testCallbacks:t.registerStateKey((function(){return{fieldCallbacks:{},doneCallbacks:[]}})),testObjects:t.registerStateKey((function(t){return{prev:t?t.current:[],current:[]}}))}}function zr(t){return(t=[].concat(t))[t.length-1]}function _r(){function t(){e=[0]}var e=[];return t(),{addLevel:function(){e.push(0)},cursorAt:function(){return zr(e)},getCursor:function(){return[].concat(e)},next:function(){return e[e.length-1]++,zr(e)},removeLevel:function(){e.pop()},reset:t}}Tr[Tr.DEFAULT=0]="DEFAULT",Tr[Tr.SUITE=1]="SUITE",Tr[Tr.EACH=2]="EACH",Tr[Tr.SKIP_WHEN=3]="SKIP_WHEN",Tr[Tr.GROUP=4]="GROUP";var Nr=dr((function(t,e){return e?null:dn({},{isolate:{type:kr.DEFAULT},testCursor:_r(),exclusion:{tests:{},groups:{}}},t)}));function Sr(t,e){for(var n=[],r=0;r<t.length;r++){var s=t[r];On(s)?n.push(Sr(s,e)):(s=e(s),Cn(s)&&n.push(s))}return n}function Er(t){return[].concat(t).reduce((function(t,e){return On(e)?t.concat(Er(e)):[].concat(t).concat(e)}),[])}function qr(t,e){var n=0;for(e=e.slice(0,-1);n<e.length;n++){var r=e[n];t[r]=vn(t[r],[]),t=t[r]}return t}function Pr(t){function e(r,s){var o=e.get(r);return o?o[1]:(s=s(),n.unshift([r.concat(),s]),xn(n,t)&&(n.length=t),s)}void 0===t&&(t=1);var n=[];return e.invalidate=function(t){var e=n.findIndex((function(e){var n=e[0];return $n(t,n.length)&&t.every((function(t,e){return t===n[e]}))}));-1<e&&n.splice(e,1)},e.get=function(t){return n[n.findIndex((function(e){var n=e[0];return $n(t,n.length)&&t.every((function(t,e){return t===n[e]}))}))]||null},e}function Fr(){return Nr.useX().stateRef}function Or(){(0,Fr().testObjects()[1])((function(t){return{prev:t.prev,current:[].concat(t.current)}}))}function Qr(t){(0,Fr().testObjects()[1])((function(e){return{prev:e.prev,current:[].concat(t(e.current))}}))}function Wr(){return Er(Sr(Fr().testObjects()[0].current,(function(t){return t.isPending()?t:null})))}var Ar=Pr();function jr(){var t=Fr().testObjects()[0].current;return Ar([t],(function(){return Er(t)}))}function Dr(){return Nr.useX().testCursor.getCursor()}function Rr(t,e){if(t=void 0===(t=t.type)?kr.DEFAULT:t,fn(e)){var n=Dr();return Nr.run({isolate:{type:t}},(function(){Nr.useX().testCursor.addLevel(),Qr((function(t){return qr(t,n)[zr(n)]=[],t}));var t=e();return Nr.useX().testCursor.removeLevel(),Nr.useX().testCursor.next(),t}))}}function Ir(t,e){return!(!e||t.fieldName!==e)}function Lr(t){var e=Wr();return!Zn(e)&&(t?e.some((function(e){return Ir(e,t)})):Un(e))}function Br(t,e){function n(t,e){o[t]++,s&&(o[e]=(o[e]||[]).concat(s))}var r=e.fieldName,s=e.message;t[r]=t[r]||{errorCount:0,warnCount:0,testCount:0};var o=t[r];return e.isSkipped()||(t[r].testCount++,e.isFailing()?n("errorCount","errors"):e.isWarning()&&n("warnCount","warnings")),o}function Vr(t,e,n){var r;void 0===n&&(n={});var s=(n=n||{}).group,o=n.fieldName;return e.reduce((function(e,n){if(s&&n.groupName!==s)var r=!0;else o&&!Ir(n,o)?r=!0:(r=n.warns(),r="warnings"===t!=!!r);return r||!n.hasFailures()||(e[n.fieldName]=(e[n.fieldName]||[]).concat(n.message||[])),e}),un({},o&&((r={})[o]=[],r)))}function Hr(t){return Zr("errors",t)}function Gr(t){return Zr("warnings",t)}function Zr(t,e){return t=Vr(t,jr(),{fieldName:e}),e?t[e]:t}function Ur(t,e){return t=Xr("errors",t,e),e?t[e]:t}function Kr(t,e){return t=Xr("warnings",t,e),e?t[e]:t}function Xr(t,e,n){return e||cr("get"+t[0].toUpperCase()+t.slice(1)+"ByGroup requires a group name. Received `"+e+"` instead."),Vr(t,jr(),{group:e,fieldName:n})}function Jr(t,e,n){return(n=!t.hasFailures()||n&&!Ir(t,n))||(n="warnings"===e!=!!(t=t.warns())),!n}function Yr(t){return es("errors",t)}function ts(t){return es("warnings",t)}function es(t,e){return jr().some((function(n){return Jr(n,t,e)}))}function ns(t,e){return ss("errors",t,e)}function rs(t,e){return ss("warnings",t,e)}function ss(t,e,n){return jr().some((function(r){return e===r.groupName&&Jr(r,t,n)}))}var os=Pr(20);function is(){var t=jr(),e={stateRef:Fr()};return os([t],Nr.bind(e,(function(){var t=Fr().suiteName()[0];return dn(function(){var t={errorCount:0,groups:{},testCount:0,tests:{},warnCount:0};return jr().forEach((function(e){var n=e.fieldName,r=e.groupName;t.tests[n]=Br(t.tests,e),r&&(t.groups[r]=t.groups[r]||{},t.groups[r][n]=Br(t.groups[r],e))})),function(t){for(var e in t.tests)t.errorCount+=t.tests[e].errorCount,t.warnCount+=t.tests[e].warnCount,t.testCount+=t.tests[e].testCount;return t}(t)}(),{getErrors:Nr.bind(e,Hr),getErrorsByGroup:Nr.bind(e,Ur),getWarnings:Nr.bind(e,Gr),getWarningsByGroup:Nr.bind(e,Kr),hasErrors:Nr.bind(e,Yr),hasErrorsByGroup:Nr.bind(e,ns),hasWarnings:Nr.bind(e,ts),hasWarningsByGroup:Nr.bind(e,rs),isValid:Nr.bind(e,(function(t){var e=is(),n=jr().reduce((function(t,e){return t[e.fieldName]||e.isOmitted()&&(t[e.fieldName]=!0),t}),{});return t=(n=!!t&&!!n[t])||!e.hasErrors(t)&&(!(Zn(n=jr())||t&&Zn(e.tests[t])||function(t){var e=Fr().optionalFields()[0];return Un(Wr().filter((function(n){return!(t&&!Ir(n,t))&&!0!==e[n.fieldName]})))}(t))&&function(t){var e=jr(),n=Fr().optionalFields()[0];return e.every((function(e){return!(!t||Ir(e,t))||!0===n[e.fieldName]||e.isTested()||e.isOmitted()}))}(t))})),suiteName:t})})))}var as=Pr(20);function ls(){var t=jr(),e={stateRef:Fr()};return as([t],Nr.bind(e,(function(){return dn({},is(),{done:Nr.bind(e,ds)})})))}function us(t,e,n){return!(fn(t)&&(!e||n.tests[e]&&0!==n.tests[e].testCount))}function cs(t){return!(Lr()&&(!t||Lr(t)))}function ds(){function t(){return r(is())}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(e=e.reverse())[0];return e=e[1],n=ls(),us(r,e,n)?n:cs(e)?(t(),n):(fs(t,e),n)}function fs(t,e){var n=Nr.bind({},t);(0,Fr().testCallbacks()[1])((function(t){return e?t.fieldCallbacks[e]=(t.fieldCallbacks[e]||[]).concat(n):t.doneCallbacks.push(n),t}))}function ps(t){return t.forEach((function(t){return t()}))}function ms(){var t=function(){var t={};return{emit:function(e,n){t[e]&&t[e].forEach((function(t){t(n)}))},on:function(e,n){return t[e]||(t[e]=[]),t[e].push(n),{off:function(){t[e]=t[e].filter((function(t){return t!==n}))}}}}}();return t.on(gs.TEST_COMPLETED,(function(t){if(!t.isCanceled()){t.done(),t=t.fieldName;var e=Fr().testCallbacks()[0].fieldCallbacks;t&&!Lr(t)&&On(e[t])&&ps(e[t]),t=Fr().testCallbacks()[0].doneCallbacks,Lr()||ps(t)}})),t.on(gs.SUITE_COMPLETED,(function(){!function(){var t=Fr().optionalFields()[0];if(!Zn(t)){var e={};Qr((function(n){return Sr(n,(function(n){var r=n.fieldName;if(e.hasOwnProperty(r))e[n.fieldName]&&n.omit();else{var s=t[r];fn(s)&&(e[r]=s(),e[n.fieldName]&&n.omit())}return n}))}))}}()})),t.on(gs.REMOVE_FIELD,(function(t){jr().forEach((function(e){Ir(e,t)&&(e.cancel(),function(t){Qr((function(e){return Sr(e,(function(e){return t!==e?e:null}))}))}(e))}))})),t}function vs(){var t=Nr.useX();return t.bus||cr(),t.bus}var gs,hs=gs||(gs={});function bs(t){return $s(0,"tests",t)}function $s(t,e,n){var r=Nr.useX("hook called outside of a running suite.");n&&[].concat(n).forEach((function(n){Mn(n)&&(r.exclusion[e][n]=0===t)}))}function ys(t){for(var e in t)if(!0===t[e])return!0;return!1}hs.TEST_COMPLETED="test_completed",hs.REMOVE_FIELD="remove_field",hs.SUITE_COMPLETED="suite_completed",bs.group=function(t){return $s(0,"groups",t)};var xs,ws=xs||(xs={});ws.Error="error",ws.Warning="warning";var Cs=function(){function t(t,e,n){var r=void 0===n?{}:n;n=r.message,r=r.groupName,this.id=wr(),this.severity=xs.Error,this.status=ks,this.fieldName=t,this.testFn=e,r&&(this.groupName=r),n&&(this.message=n)}return t.prototype.run=function(){try{var t=this.testFn()}catch(e){t=e,kn(this.message)&&Mn(t)&&(this.message=e),t=!1}return!1===t&&this.fail(),t},t.prototype.setStatus=function(t){this.isFinalStatus()&&t!==Es||(this.status=t)},t.prototype.warns=function(){return this.severity===xs.Warning},t.prototype.setPending=function(){this.setStatus(Ns)},t.prototype.fail=function(){this.setStatus(this.warns()?zs:Ms)},t.prototype.done=function(){this.isFinalStatus()||this.setStatus(_s)},t.prototype.warn=function(){this.severity=xs.Warning},t.prototype.isFinalStatus=function(){return this.hasFailures()||this.isCanceled()||this.isPassing()},t.prototype.skip=function(){this.isPending()||this.setStatus(Ts)},t.prototype.cancel=function(){this.setStatus(Ss),Or()},t.prototype.omit=function(){this.setStatus(Es)},t.prototype.valueOf=function(){return!this.isFailing()},t.prototype.hasFailures=function(){return this.isFailing()||this.isWarning()},t.prototype.isPending=function(){return this.status===Ns},t.prototype.isTested=function(){return this.hasFailures()||this.isPassing()},t.prototype.isOmitted=function(){return this.status===Es},t.prototype.isUntested=function(){return this.status===ks},t.prototype.isFailing=function(){return this.status===Ms},t.prototype.isCanceled=function(){return this.status===Ss},t.prototype.isSkipped=function(){return this.status===Ts},t.prototype.isPassing=function(){return this.status===_s},t.prototype.isWarning=function(){return this.status===zs},t}(),ks="UNTESTED",Ts="SKIPPED",Ms="FAILED",zs="WARNING",_s="PASSING",Ns="PENDING",Ss="CANCELED",Es="OMITTED";function qs(t){var e=t.asyncTest,n=t.message;if(e&&fn(e.then)){var r=vs().emit,s=Fr(),o=Nr.bind({stateRef:s},(function(){Or(),r(gs.TEST_COMPLETED,t)}));s=Nr.bind({stateRef:s},(function(e){t.isCanceled()||(t.message=Mn(e)?e:n,t.fail(),o())}));try{e.then(o,s)}catch(t){s()}}}function Ps(t){var e=Dr();Qr((function(n){return qr(n,e)[zr(e)]=t,n}))}function Fs(t){var e=function(t){var e=Fr().testObjects(),n=e[1],r=e[0].prev;if(Zn(r))return Ps(t),t;if(function(t,e){return Un(t)&&!(t.fieldName===e.fieldName&&t.groupName===e.groupName)}(e=function(t){var e=Dr();return qr(t,e)[zr(e)]}(r),t)){!function(t,e){Nr.useX().isolate.type!==kr.EACH&&function(t,e){setTimeout((function(){cr(t,void 0)}),0)}("Vest Critical Error: Tests called in different order than previous run.\n    expected: "+t.fieldName+"\n    received: "+e.fieldName+"\n    This happens when you conditionally call your tests using if/else.\n    This might lead to incorrect validation results.\n    Replacing if/else with skipWhen solves these issues.")}(e,t),e=qr(r,Dr());var s=Nr.useX().testCursor.cursorAt();e.splice(s),n((function(t){return{prev:r,current:t.current}})),e=null}return Ps(t=vn(e,t)),t}(t);if(function(t){var e=t.fieldName;t=t.groupName;var n=Nr.useX();if(n.skipped)return!0;var r=(n=n.exclusion).tests,s=r[e];if(!1===s)return!0;if(s=!0===s,t){t:{var o=Nr.useX().exclusion.groups;if(Object.prototype.hasOwnProperty.call(o,t))var i=!1===o[t];else{for(i in o)if(!0===o[i]){i=!0;break t}i=!1}}if(i)return!0;if(!0===n.groups[t])return!(s||!ys(r)&&!1!==r[e])}return!s&&ys(r)}(t))return t.skip(),Nr.useX().testCursor.next(),e;if(t!==e&&e.fieldName===t.fieldName&&e.groupName===t.groupName&&e.isPending()&&e.cancel(),Ps(t),Nr.useX().testCursor.next(),t.isUntested()){e=vs();var n=function(t){return Nr.run({currentTest:t},(function(){try{var e=t.testFn()}catch(n){e=n,kn(t.message)&&Mn(e)&&(t.message=n),e=!1}return!1===e&&t.fail(),e}))}(t);try{n&&fn(n.then)?(t.asyncTest=n,t.setPending(),qs(t)):e.emit(gs.TEST_COMPLETED,t)}catch(e){cr("Your test function "+t.fieldName+' returned a value. Only "false" or Promise returns are supported.')}}else(e=t.asyncTest)&&fn(e.then)&&(t.setPending(),qs(t));return t}function Os(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];n=e.reverse(),e=n[0],n=n[1];var r=Nr.useX();return Fs(e=new Cs(t,e,{message:n,groupName:r.groupName}))}var Qs=dn(Os,{each:function(t){return function(e){return On(e)||cr("test.each: Expected table to be an array."),function(n){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var o=(r=r.reverse())[0],i=r[1];return Rr({type:kr.EACH},(function(){return e.map((function(e){return e=[].concat(e),t(mn.apply(void 0,cn([n],e)),mn.apply(void 0,cn([i],e)),(function(){return o.apply(void 0,e)}))}))}))}}}(Os),memo:function(t){var e=Pr(100);return function(n){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];s=Nr.useX().testCursor.cursorAt();var o=(r=r.reverse())[0],i=r[1],a=r[2];return s=[Fr().suiteId()[0],n,s].concat(o),null===(r=e.get(s))?e(s,(function(){return t(n,a,i)})):r[1].isCanceled()?(e.invalidate(s),e(s,(function(){return t(n,a,i)}))):Fs(r[1])}}(Os)});const Ws=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(t=t.reverse())[0];t=t[1],fn(n)||cr("vest.create: Expected callback to be a function.");var r=ms(),s=Cr();return t={stateRef:Mr(s,{suiteId:wr(),suiteName:t}),bus:r},dn(Nr.bind(t,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.reset(),Rr({type:kr.SUITE},(function(){n.apply(void 0,t)})),r.emit(gs.SUITE_COMPLETED),ls()})),{get:Nr.bind(t,is),reset:s.reset,remove:Nr.bind(t,(function(t){r.emit(gs.REMOVE_FIELD,t)}))})}("Settings Form",((t={},e)=>{bs(e),Qs("gbMinTarget","Min can't exceed max",(()=>{xr(t.gbMinTarget).lt(t.gbMaxTarget)})),Qs("gbMaxTarget","Min can't exceed max",(()=>{xr(t.gbMinTarget).lt(t.gbMaxTarget)})),Qs("targetQPM","Not between min&max",(()=>{xr(t.targetQPM).gt(t.minQPM),xr(t.targetQPM).lt(t.maxQPM)})),Qs("minQPM","Min can't exceed target",(()=>{xr(t.minQPM).lt(t.targetQPM)})),Qs("minQPM","Min can't exceed max",(()=>{xr(t.minQPM).lt(t.maxQPM)})),Qs("maxQPM","Target can't exceed max",(()=>{xr(t.maxQPM).gt(t.targetQPM)})),Qs("maxQPM","Min can't exceed max",(()=>{xr(t.maxQPM).gt(t.targetQPM)})),Qs("rpdMin","Min can't exceed max",(()=>{xr(t.rpdMin).lt(t.rpdMax)})),Qs("rpdMax","Min can't exceed max",(()=>{xr(t.rpdMin).lt(t.rpdMax)}))}));function As(t){let e,n;return{c(){e=C("span"),n=T(t[0]),S(e,"class","errors svelte-szr21l")},m(t,r){y(t,e,r),h(e,n)},p(t,e){1&e&&q(n,t[0])},d(t){t&&x(e)}}}function js(e){let n,r=e[0]&&As(e);return{c(){r&&r.c(),n=z()},m(t,e){r&&r.m(t,e),y(t,n,e)},p(t,[e]){t[0]?r?r.p(t,e):(r=As(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&x(n)}}}function Ds(t,e,n){let r,s,{result:o}=e,{path:i}=e;return t.$$set=t=>{"result"in t&&n(1,o=t.result),"path"in t&&n(2,i=t.path)},t.$$.update=()=>{2&t.$$.dirty&&n(3,r=o.getErrors()),12&t.$$.dirty&&n(0,s=r[i]&&r[i].length?r[i][0]:void 0)},[s,o,i,r]}class Rs extends Ct{constructor(t){super(),wt(this,t,Ds,js,i,{result:1,path:2})}}function Is(t){let e,n,r,o,i,a,l,u,c,d,f,p,m,v,g,b,$,w,k,z,N,F,O,Q,W,A,j,D,R,I,L,B,V,H,G,U,K,X,J,Y,et,nt,rt,st,ot,it,at,lt,ut,ct,dt,mt,vt,gt,xt,wt,Ct,kt,Tt,Mt,zt,_t,Nt,St,Et,qt,Pt,Ft,Ot,Qt,Wt,At,jt,Dt,Rt,It,Lt,Bt,Vt,Ht,Gt,Zt,Ut,Kt,Xt,Jt,Yt,te,ee,ne,re,se,oe,ie,ae,le,ue,ce,de,fe,pe,me,ve,ge,he,be,$e,ye,xe=t[0].gbMinTarget+"",we=t[0].gbMaxTarget+"";function Ce(e){t[4](e)}let ke={path:"gbMinTarget"};function Te(e){t[6](e)}void 0!==t[1]&&(ke.result=t[1]),c=new Rs({props:ke}),Z.push((()=>ht(c,"result",Ce)));let Me={path:"gbMaxTarget"};return void 0!==t[1]&&(Me.result=t[1]),k=new Rs({props:Me}),Z.push((()=>ht(k,"result",Te))),{c(){e=C("div"),n=C("h4"),n.textContent="Target minimum",r=M(),o=C("input"),i=M(),a=C("label"),l=T(xe),u=M(),bt(c.$$.fragment),f=M(),p=C("h4"),p.textContent="Target maximum",m=M(),v=C("input"),g=M(),b=C("label"),$=T(we),w=M(),bt(k.$$.fragment),N=M(),F=C("hr"),O=M(),Q=C("table"),W=C("tbody"),A=C("tr"),j=C("th"),j.textContent="Labels",D=M(),R=C("td"),I=C("input"),L=M(),B=C("td"),V=C("input"),H=M(),G=C("td"),U=C("input"),K=M(),X=C("thead"),X.innerHTML='<tr class="svelte-mmoi2z"><td class="svelte-mmoi2z"></td> \n        <th class="secondary center col3 svelte-mmoi2z">Below</th> \n        <th class="secondary center svelte-mmoi2z">In range</th> \n        <th class="secondary center svelte-mmoi2z">Above</th></tr>',J=M(),Y=C("hr"),et=M(),nt=C("table"),rt=C("thead"),rt.innerHTML='<tr class="svelte-mmoi2z"><th></th> \n        <th class="col3 svelte-mmoi2z">Weight</th> \n        <th></th> \n        <th class="col5 svelte-mmoi2z">Weight</th></tr>',st=M(),ot=C("tbody"),it=C("tr"),at=C("th"),at.textContent="Radicals12",lt=M(),ut=C("td"),ct=C("input"),dt=M(),mt=C("th"),mt.textContent="Appr34",vt=M(),gt=C("td"),xt=C("input"),wt=M(),Ct=C("tr"),kt=C("th"),kt.textContent="Kanji12",Tt=M(),Mt=C("td"),zt=C("input"),_t=M(),Nt=C("th"),Nt.textContent="Guru",St=M(),Et=C("td"),qt=C("input"),Pt=M(),Ft=C("tr"),Ot=C("th"),Ot.textContent="Vocabulary12",Qt=M(),Wt=C("td"),At=C("input"),jt=M(),Dt=C("th"),Dt.textContent="Master",Rt=M(),It=C("td"),Lt=C("input"),Bt=M(),Vt=C("tr"),Ht=C("td"),Gt=M(),Zt=C("td"),Ut=M(),Kt=C("th"),Kt.textContent="Enlightened",Xt=M(),Jt=C("td"),Yt=C("input"),te=M(),ee=C("hr"),ne=M(),re=C("table"),se=C("thead"),se.innerHTML='<tr class="svelte-mmoi2z"><td class="svelte-mmoi2z"></td> \n        <th class="secondary center col3 svelte-mmoi2z">Radicals12</th> \n        <th class="secondary center svelte-mmoi2z">Kanji12</th> \n        <th class="secondary center svelte-mmoi2z">Vocabulary12</th></tr>',oe=M(),ie=C("tbody"),ae=C("tr"),le=C("th"),le.textContent="Quiz?",ue=M(),ce=C("td"),de=C("input"),fe=M(),pe=C("td"),me=C("input"),ve=M(),ge=C("td"),he=C("input"),S(n,"class","svelte-mmoi2z"),S(o,"id","targetMin"),S(o,"type","range"),S(o,"min",10),S(o,"max",300),S(o,"step",10),S(o,"class","svelte-mmoi2z"),S(a,"for","targetMin"),S(a,"class","svelte-mmoi2z"),S(p,"class","svelte-mmoi2z"),S(v,"id","targetMax"),S(v,"type","range"),S(v,"min",10),S(v,"max",300),S(v,"step",10),S(v,"class","svelte-mmoi2z"),S(b,"for","targetMax"),S(b,"class","svelte-mmoi2z"),S(F,"class","svelte-mmoi2z"),S(j,"class","col2 svelte-mmoi2z"),S(I,"type","text"),S(I,"class","svelte-mmoi2z"),S(R,"class","svelte-mmoi2z"),S(V,"type","text"),S(V,"class","svelte-mmoi2z"),S(B,"class","svelte-mmoi2z"),S(U,"type","text"),S(U,"class","svelte-mmoi2z"),S(G,"class","svelte-mmoi2z"),S(A,"class","svelte-mmoi2z"),S(W,"class","svelte-mmoi2z"),S(X,"class","svelte-mmoi2z"),S(Q,"class","svelte-mmoi2z"),S(Y,"class","svelte-mmoi2z"),S(rt,"class","svelte-mmoi2z"),S(at,"class","secondary right-align col2 svelte-mmoi2z"),S(ct,"class","col3 svelte-mmoi2z"),S(ct,"type","number"),S(ct,"min",0),S(ct,"max",5),S(ct,"step",.1),S(ut,"class","svelte-mmoi2z"),S(mt,"class","secondary right-align col4 svelte-mmoi2z"),S(xt,"class","col5 svelte-mmoi2z"),S(xt,"type","number"),S(xt,"min",0),S(xt,"max",5),S(xt,"step",.1),S(gt,"class","svelte-mmoi2z"),S(it,"class","svelte-mmoi2z"),S(kt,"class","secondary right-align col2 svelte-mmoi2z"),S(zt,"class","col3 svelte-mmoi2z"),S(zt,"type","number"),S(zt,"min",0),S(zt,"max",5),S(zt,"step",.1),S(Mt,"class","svelte-mmoi2z"),S(Nt,"class","secondary right-align col4 svelte-mmoi2z"),S(qt,"class","col5 svelte-mmoi2z"),S(qt,"type","number"),S(qt,"min",0),S(qt,"max",5),S(qt,"step",.1),S(Et,"class","svelte-mmoi2z"),S(Ct,"class","svelte-mmoi2z"),S(Ot,"class","secondary right-align col2 svelte-mmoi2z"),S(At,"class","col3 svelte-mmoi2z"),S(At,"type","number"),S(At,"min",0),S(At,"max",5),S(At,"step",.1),S(Wt,"class","svelte-mmoi2z"),S(Dt,"class","secondary right-align col4 svelte-mmoi2z"),S(Lt,"class","col4 svelte-mmoi2z"),S(Lt,"type","number"),S(Lt,"min",0),S(Lt,"max",5),S(Lt,"step",.1),S(It,"class","svelte-mmoi2z"),S(Ft,"class","svelte-mmoi2z"),S(Ht,"class","svelte-mmoi2z"),S(Zt,"class","svelte-mmoi2z"),S(Kt,"class","secondary right-align col4 svelte-mmoi2z"),S(Yt,"class","col5 svelte-mmoi2z"),S(Yt,"type","number"),S(Yt,"min",0),S(Yt,"max",5),S(Yt,"step",.1),S(Jt,"class","svelte-mmoi2z"),S(Vt,"class","svelte-mmoi2z"),S(ot,"class","svelte-mmoi2z"),S(nt,"class","svelte-mmoi2z"),S(ee,"class","svelte-mmoi2z"),S(se,"class","svelte-mmoi2z"),S(le,"class","col2 svelte-mmoi2z"),S(de,"type","checkbox"),S(de,"name","quizTypes"),S(ce,"class","svelte-mmoi2z"),S(me,"type","checkbox"),S(me,"name","quizTypes"),S(pe,"class","svelte-mmoi2z"),S(he,"type","checkbox"),S(he,"name","quizTypes"),S(ge,"class","svelte-mmoi2z"),S(ae,"class","svelte-mmoi2z"),S(ie,"class","svelte-mmoi2z"),S(re,"class","svelte-mmoi2z"),S(e,"class","settingsComp")},m(s,d){y(s,e,d),h(e,n),h(e,r),h(e,o),P(o,t[0].gbMinTarget),h(e,i),h(e,a),h(a,l),h(e,u),$t(c,e,null),h(e,f),h(e,p),h(e,m),h(e,v),P(v,t[0].gbMaxTarget),h(e,g),h(e,b),h(b,$),h(e,w),$t(k,e,null),h(e,N),h(e,F),h(e,O),h(e,Q),h(Q,W),h(W,A),h(A,j),h(A,D),h(A,R),h(R,I),P(I,t[0].belowTerm),h(A,L),h(A,B),h(B,V),P(V,t[0].inRangeTerm),h(A,H),h(A,G),h(G,U),P(U,t[0].aboveTerm),h(Q,K),h(Q,X),h(e,J),h(e,Y),h(e,et),h(e,nt),h(nt,rt),h(nt,st),h(nt,ot),h(ot,it),h(it,at),h(it,lt),h(it,ut),h(ut,ct),P(ct,t[0].newRWeight),h(it,dt),h(it,mt),h(it,vt),h(it,gt),h(gt,xt),P(xt,t[0].apprWeight),h(ot,wt),h(ot,Ct),h(Ct,kt),h(Ct,Tt),h(Ct,Mt),h(Mt,zt),P(zt,t[0].newKWeight),h(Ct,_t),h(Ct,Nt),h(Ct,St),h(Ct,Et),h(Et,qt),P(qt,t[0].guruWeight),h(ot,Pt),h(ot,Ft),h(Ft,Ot),h(Ft,Qt),h(Ft,Wt),h(Wt,At),P(At,t[0].newVWeight),h(Ft,jt),h(Ft,Dt),h(Ft,Rt),h(Ft,It),h(It,Lt),P(Lt,t[0].masterWeight),h(ot,Bt),h(ot,Vt),h(Vt,Ht),h(Vt,Gt),h(Vt,Zt),h(Vt,Ut),h(Vt,Kt),h(Vt,Xt),h(Vt,Jt),h(Jt,Yt),P(Yt,t[0].enlightenedWeight),h(e,te),h(e,ee),h(e,ne),h(e,re),h(re,se),h(re,oe),h(re,ie),h(ie,ae),h(ae,le),h(ae,ue),h(ae,ce),h(ce,de),de.checked=t[0].rQuiz,h(ae,fe),h(ae,pe),h(pe,me),me.checked=t[0].kQuiz,h(ae,ve),h(ae,ge),h(ge,he),he.checked=t[0].vQuiz,be=!0,$e||(ye=[_(o,"change",t[3]),_(o,"input",t[3]),_(o,"change",t[2]("gbMinTarget")),_(v,"change",t[5]),_(v,"input",t[5]),_(v,"change",t[2]("gbMaxTarget")),_(I,"input",t[7]),_(V,"input",t[8]),_(U,"input",t[9]),_(ct,"input",t[10]),_(xt,"input",t[11]),_(zt,"input",t[12]),_(qt,"input",t[13]),_(At,"input",t[14]),_(Lt,"input",t[15]),_(Yt,"input",t[16]),_(de,"change",t[17]),_(me,"change",t[18]),_(he,"change",t[19])],$e=!0)},p(t,[e]){1&e&&P(o,t[0].gbMinTarget),(!be||1&e)&&xe!==(xe=t[0].gbMinTarget+"")&&q(l,xe);const n={};!d&&2&e&&(d=!0,n.result=t[1],tt((()=>d=!1))),c.$set(n),1&e&&P(v,t[0].gbMaxTarget),(!be||1&e)&&we!==(we=t[0].gbMaxTarget+"")&&q($,we);const r={};!z&&2&e&&(z=!0,r.result=t[1],tt((()=>z=!1))),k.$set(r),1&e&&I.value!==t[0].belowTerm&&P(I,t[0].belowTerm),1&e&&V.value!==t[0].inRangeTerm&&P(V,t[0].inRangeTerm),1&e&&U.value!==t[0].aboveTerm&&P(U,t[0].aboveTerm),1&e&&E(ct.value)!==t[0].newRWeight&&P(ct,t[0].newRWeight),1&e&&E(xt.value)!==t[0].apprWeight&&P(xt,t[0].apprWeight),1&e&&E(zt.value)!==t[0].newKWeight&&P(zt,t[0].newKWeight),1&e&&E(qt.value)!==t[0].guruWeight&&P(qt,t[0].guruWeight),1&e&&E(At.value)!==t[0].newVWeight&&P(At,t[0].newVWeight),1&e&&E(Lt.value)!==t[0].masterWeight&&P(Lt,t[0].masterWeight),1&e&&E(Yt.value)!==t[0].enlightenedWeight&&P(Yt,t[0].enlightenedWeight),1&e&&(de.checked=t[0].rQuiz),1&e&&(me.checked=t[0].kQuiz),1&e&&(he.checked=t[0].vQuiz)},i(t){be||(ft(c.$$.fragment,t),ft(k.$$.fragment,t),be=!0)},o(t){pt(c.$$.fragment,t),pt(k.$$.fragment,t),be=!1},d(t){t&&x(e),yt(c),yt(k),$e=!1,s(ye)}}}function Ls(t,e,n){let{values:r}=e,{result:s}=e;return V((()=>{n(1,s=Ws(r))})),t.$$set=t=>{"values"in t&&n(0,r=t.values),"result"in t&&n(1,s=t.result)},[r,s,t=>()=>{n(1,s=Ws(r,t))},function(){r.gbMinTarget=E(this.value),n(0,r)},function(t){s=t,n(1,s)},function(){r.gbMaxTarget=E(this.value),n(0,r)},function(t){s=t,n(1,s)},function(){r.belowTerm=this.value,n(0,r)},function(){r.inRangeTerm=this.value,n(0,r)},function(){r.aboveTerm=this.value,n(0,r)},function(){r.newRWeight=E(this.value),n(0,r)},function(){r.apprWeight=E(this.value),n(0,r)},function(){r.newKWeight=E(this.value),n(0,r)},function(){r.guruWeight=E(this.value),n(0,r)},function(){r.newVWeight=E(this.value),n(0,r)},function(){r.masterWeight=E(this.value),n(0,r)},function(){r.enlightenedWeight=E(this.value),n(0,r)},function(){r.rQuiz=this.checked,n(0,r)},function(){r.kQuiz=this.checked,n(0,r)},function(){r.vQuiz=this.checked,n(0,r)}]}class Bs extends Ct{constructor(t){super(),wt(this,t,Ls,Is,i,{values:0,result:1})}}function Vs(t){let e,n,r,o,i,a,l,u,c,d,f,p,m,v,g,b,$,w,k,z,N,E,F,O,Q,W,A,j,D,R,I,L,B,V,H,G,U,K,X,J,Y,et,nt,rt,st=t[0].targetQPM.toFixed(1)+"",ot=t[2](t[0].targetQPM)+"",it=t[0].minQPM.toFixed(1)+"",at=t[2](t[0].minQPM)+"",lt=t[0].maxQPM.toFixed(1)+"",ut=t[2](t[0].minQPM)+"";function ct(e){t[5](e)}let dt={path:"targetQPM"};function mt(e){t[7](e)}void 0!==t[1]&&(dt.result=t[1]),p=new Rs({props:dt}),Z.push((()=>ht(p,"result",ct)));let vt={path:"minQPM"};function gt(e){t[9](e)}void 0!==t[1]&&(vt.result=t[1]),j=new Rs({props:vt}),Z.push((()=>ht(j,"result",mt)));let xt={path:"minQPM"};return void 0!==t[1]&&(xt.result=t[1]),J=new Rs({props:xt}),Z.push((()=>ht(J,"result",gt))),{c(){e=C("div"),n=C("h4"),n.textContent="Speed Target",r=M(),o=C("input"),i=M(),a=C("label"),l=T(st),u=T(" q/m ("),c=T(ot),d=T(" s/q)"),f=M(),bt(p.$$.fragment),v=M(),g=C("hr"),b=M(),$=C("h4"),$.textContent="Warnings",w=M(),k=C("input"),z=M(),N=C("label"),E=T("below "),F=T(it),O=T(" q/m ("),Q=T(at),W=T(" s/q)"),A=M(),bt(j.$$.fragment),R=M(),I=C("input"),L=M(),B=C("label"),V=T("above "),H=T(lt),G=T(" q/m ("),U=T(ut),K=T(" s/q)"),X=M(),bt(J.$$.fragment),S(n,"class","svelte-4am15v"),S(o,"id","speedTarget"),S(o,"type","range"),S(o,"min","1"),S(o,"max","15"),S(o,"step","0.2"),S(o,"class","svelte-4am15v"),S(a,"for","speedTarget"),S(a,"class","svelte-4am15v"),S(g,"class","svelte-4am15v"),S($,"class","svelte-4am15v"),S(k,"id","minWarning"),S(k,"type","range"),S(k,"min",1),S(k,"max",15),S(k,"step",.1),S(k,"class","svelte-4am15v"),S(N,"for","minWarning"),S(N,"class","svelte-4am15v"),S(I,"id","maxWarning"),S(I,"type","range"),S(I,"min",1),S(I,"max",15),S(I,"step",.1),S(I,"class","svelte-4am15v"),S(B,"for","maxWarning"),S(B,"class","svelte-4am15v"),S(e,"class","settingsComp")},m(s,m){y(s,e,m),h(e,n),h(e,r),h(e,o),P(o,t[0].targetQPM),h(e,i),h(e,a),h(a,l),h(a,u),h(a,c),h(a,d),h(e,f),$t(p,e,null),h(e,v),h(e,g),h(e,b),h(e,$),h(e,w),h(e,k),P(k,t[0].minQPM),h(e,z),h(e,N),h(N,E),h(N,F),h(N,O),h(N,Q),h(N,W),h(e,A),$t(j,e,null),h(e,R),h(e,I),P(I,t[0].maxQPM),h(e,L),h(e,B),h(B,V),h(B,H),h(B,G),h(B,U),h(B,K),h(e,X),$t(J,e,null),et=!0,nt||(rt=[_(o,"change",t[4]),_(o,"input",t[4]),_(o,"change",t[3]("targetQPM")),_(k,"change",t[6]),_(k,"input",t[6]),_(k,"change",t[3]("minQPM")),_(I,"change",t[8]),_(I,"input",t[8]),_(I,"change",t[3]("maxQPM"))],nt=!0)},p(t,[e]){1&e&&P(o,t[0].targetQPM),(!et||1&e)&&st!==(st=t[0].targetQPM.toFixed(1)+"")&&q(l,st),(!et||1&e)&&ot!==(ot=t[2](t[0].targetQPM)+"")&&q(c,ot);const n={};!m&&2&e&&(m=!0,n.result=t[1],tt((()=>m=!1))),p.$set(n),1&e&&P(k,t[0].minQPM),(!et||1&e)&&it!==(it=t[0].minQPM.toFixed(1)+"")&&q(F,it),(!et||1&e)&&at!==(at=t[2](t[0].minQPM)+"")&&q(Q,at);const r={};!D&&2&e&&(D=!0,r.result=t[1],tt((()=>D=!1))),j.$set(r),1&e&&P(I,t[0].maxQPM),(!et||1&e)&&lt!==(lt=t[0].maxQPM.toFixed(1)+"")&&q(H,lt),(!et||1&e)&&ut!==(ut=t[2](t[0].minQPM)+"")&&q(U,ut);const s={};!Y&&2&e&&(Y=!0,s.result=t[1],tt((()=>Y=!1))),J.$set(s)},i(t){et||(ft(p.$$.fragment,t),ft(j.$$.fragment,t),ft(J.$$.fragment,t),et=!0)},o(t){pt(p.$$.fragment,t),pt(j.$$.fragment,t),pt(J.$$.fragment,t),et=!1},d(t){t&&x(e),yt(p),yt(j),yt(J),nt=!1,s(rt)}}}function Hs(t,e,n){let{values:r}=e,{result:s}=e;return V((()=>{n(1,s=Ws(r))})),t.$$set=t=>{"values"in t&&n(0,r=t.values),"result"in t&&n(1,s=t.result)},[r,s,t=>(60/t).toFixed(1),t=>()=>{n(1,s=Ws(r,t))},function(){r.targetQPM=E(this.value),n(0,r)},function(t){s=t,n(1,s)},function(){r.minQPM=E(this.value),n(0,r)},function(t){s=t,n(1,s)},function(){r.maxQPM=E(this.value),n(0,r)},function(t){s=t,n(1,s)}]}class Gs extends Ct{constructor(t){super(),wt(this,t,Hs,Vs,i,{values:0,result:1})}}function Zs(t){let e,n,r,o,i,a,l,u,c,d,f,p,m,v,g,b,$,w,k,z,N,E,F,O=t[0].rpdMin+"",Q=t[0].rpdMax+"";function W(e){t[4](e)}let A={path:"rpdMin"};function j(e){t[6](e)}void 0!==t[1]&&(A.result=t[1]),d=new Rs({props:A}),Z.push((()=>ht(d,"result",W)));let D={path:"rpdMax"};return void 0!==t[1]&&(D.result=t[1]),k=new Rs({props:D}),Z.push((()=>ht(k,"result",j))),{c(){e=C("div"),n=C("h4"),n.textContent="Target Reviews-per-day",r=M(),o=C("input"),i=M(),a=C("label"),l=T(O),u=T(" reviews min"),c=M(),bt(d.$$.fragment),p=M(),m=C("input"),v=M(),g=C("label"),b=T(Q),$=T(" reviews max"),w=M(),bt(k.$$.fragment),S(n,"class","svelte-164pmcj"),S(o,"id","rpdMin"),S(o,"type","range"),S(o,"min",10),S(o,"max",290),S(o,"step",10),S(o,"class","svelte-164pmcj"),S(a,"for","rpdTarget"),S(a,"class","svelte-164pmcj"),S(m,"id","rpdMax"),S(m,"type","range"),S(m,"min",20),S(m,"max",300),S(m,"step",10),S(m,"class","svelte-164pmcj"),S(g,"for","rpdTarget"),S(g,"class","svelte-164pmcj"),S(e,"class","settingsComp")},m(s,f){y(s,e,f),h(e,n),h(e,r),h(e,o),P(o,t[0].rpdMin),h(e,i),h(e,a),h(a,l),h(a,u),h(e,c),$t(d,e,null),h(e,p),h(e,m),P(m,t[0].rpdMax),h(e,v),h(e,g),h(g,b),h(g,$),h(e,w),$t(k,e,null),N=!0,E||(F=[_(o,"change",t[3]),_(o,"input",t[3]),_(o,"change",t[2]("rpdMin")),_(m,"change",t[5]),_(m,"input",t[5]),_(m,"change",t[2]("rpdMax"))],E=!0)},p(t,[e]){1&e&&P(o,t[0].rpdMin),(!N||1&e)&&O!==(O=t[0].rpdMin+"")&&q(l,O);const n={};!f&&2&e&&(f=!0,n.result=t[1],tt((()=>f=!1))),d.$set(n),1&e&&P(m,t[0].rpdMax),(!N||1&e)&&Q!==(Q=t[0].rpdMax+"")&&q(b,Q);const r={};!z&&2&e&&(z=!0,r.result=t[1],tt((()=>z=!1))),k.$set(r)},i(t){N||(ft(d.$$.fragment,t),ft(k.$$.fragment,t),N=!0)},o(t){pt(d.$$.fragment,t),pt(k.$$.fragment,t),N=!1},d(t){t&&x(e),yt(d),yt(k),E=!1,s(F)}}}function Us(t,e,n){let{values:r}=e,{result:s}=e;return V((()=>{n(1,s=Ws(r))})),t.$$set=t=>{"values"in t&&n(0,r=t.values),"result"in t&&n(1,s=t.result)},[r,s,t=>()=>{n(1,s=Ws(r,t))},function(){r.rpdMin=E(this.value),n(0,r)},function(t){s=t,n(1,s)},function(){r.rpdMax=E(this.value),n(0,r)},function(t){s=t,n(1,s)}]}class Ks extends Ct{constructor(t){super(),wt(this,t,Us,Zs,i,{values:0,result:1})}}function Xs(t){let e,n,r,o,i,a,l,u,c,d,f,p,m,v,g,b,$,w,k,z,E,q,F,Q,W,A,j,D,R,I,L,B,V,H,G,Z,U,K,X,J,tt,et,nt,rt,st,ot,it,at,lt,ut,ct,dt,mt,vt,gt,ht,xt,wt,Ct;return i=new fe({props:{value:.4,label:"Sample",needle:!0,lowZone:!0,hiZone:!0}}),l=new Ze({props:{values:[7,10,8],labels:["Mon","Tue","Wed"],expected:7,minTarget:2,maxTarget:9,percents:[.66,.8,.75]}}),{c(){e=C("div"),n=C("div"),r=C("div"),r.textContent="Warning Color",o=M(),bt(i.$$.fragment),a=M(),bt(l.$$.fragment),c=M(),d=C("button"),d.textContent="Light theme",f=M(),p=C("button"),p.textContent="Dark Theme",m=M(),v=C("h3"),v.textContent="Individual overrides",g=M(),b=C("div"),$=C("label"),w=T("Bgnd\n      "),k=C("input"),z=M(),E=C("label"),q=T("Track\n    "),F=C("input"),Q=M(),W=C("label"),A=T("Text\n      "),j=C("input"),D=M(),R=C("label"),I=T("hlText\n      "),L=C("input"),B=M(),V=C("div"),H=C("label"),G=T("Fill\n      "),Z=C("input"),U=M(),K=C("label"),X=T("Warn\n      "),J=C("input"),tt=M(),et=C("label"),nt=T("hlTrack\n      "),rt=C("input"),st=M(),ot=C("hr"),it=M(),at=C("div"),lt=C("label"),lt.textContent="Position",ut=M(),ct=C("select"),dt=C("option"),dt.textContent="Top",mt=C("option"),mt.textContent="Below Forecast",vt=C("option"),vt.textContent="Below SRS",gt=C("option"),gt.textContent="Below Panels",ht=C("option"),ht.textContent="Bottom",S(r,"class","warnBox svelte-17we3vo"),S(n,"class","colorSample svelte-17we3vo"),S(n,"style",u=` \n      background-color: ${t[0].bgColor};\n      --bgColor: ${t[0].bgColor}; \n      --trackColor: ${t[0].hlTrackColor}; \n      --textColor: ${t[0].textColor}; \n      --hlTextColor: ${t[0].hlTextColor}; \n      --fillColor: ${t[0].fillColor}; \n      --warnColor: ${t[0].warnColor}; \n      --hlTrackColor: ${t[0].trackColor};`),S(d,"class","light svelte-17we3vo"),S(p,"class","dark svelte-17we3vo"),S(v,"class","svelte-17we3vo"),S(k,"type","color"),S(k,"class","svelte-17we3vo"),S($,"class","svelte-17we3vo"),S(F,"type","color"),S(F,"class","svelte-17we3vo"),S(E,"class","svelte-17we3vo"),S(j,"type","color"),S(j,"class","svelte-17we3vo"),S(W,"class","svelte-17we3vo"),S(L,"type","color"),S(L,"class","svelte-17we3vo"),S(R,"class","svelte-17we3vo"),S(b,"class","colorInputs svelte-17we3vo"),S(Z,"type","color"),S(Z,"class","svelte-17we3vo"),S(H,"class","svelte-17we3vo"),S(J,"type","color"),S(J,"class","svelte-17we3vo"),S(K,"class","svelte-17we3vo"),S(rt,"type","color"),S(rt,"class","svelte-17we3vo"),S(et,"class","svelte-17we3vo"),S(V,"class","colorInputs svelte-17we3vo"),S(ot,"class","svelte-17we3vo"),S(lt,"for","position-select"),S(lt,"class","svelte-17we3vo"),dt.__value="Top",dt.value=dt.__value,mt.__value="Below Forecast",mt.value=mt.__value,vt.__value="Below SRS",vt.value=vt.__value,gt.__value="Below Panels",gt.value=gt.__value,ht.__value="Bottom",ht.value=ht.__value,S(ct,"name","positions"),S(ct,"id","position-select"),S(ct,"class","svelte-17we3vo"),void 0===t[0].position&&Y((()=>t[10].call(ct))),S(at,"class","position svelte-17we3vo"),S(e,"class","settingsComp")},m(s,u){y(s,e,u),h(e,n),h(n,r),h(n,o),$t(i,n,null),h(n,a),$t(l,n,null),h(e,c),h(e,d),h(e,f),h(e,p),h(e,m),h(e,v),h(e,g),h(e,b),h(b,$),h($,w),h($,k),P(k,t[0].bgColor),h(b,z),h(b,E),h(E,q),h(E,F),P(F,t[0].trackColor),h(b,Q),h(b,W),h(W,A),h(W,j),P(j,t[0].textColor),h(b,D),h(b,R),h(R,I),h(R,L),P(L,t[0].hlTextColor),h(e,B),h(e,V),h(V,H),h(H,G),h(H,Z),P(Z,t[0].fillColor),h(V,U),h(V,K),h(K,X),h(K,J),P(J,t[0].warnColor),h(V,tt),h(V,et),h(et,nt),h(et,rt),P(rt,t[0].hlTrackColor),h(e,st),h(e,ot),h(e,it),h(e,at),h(at,lt),h(at,ut),h(at,ct),h(ct,dt),h(ct,mt),h(ct,vt),h(ct,gt),h(ct,ht),O(ct,t[0].position),xt=!0,wt||(Ct=[_(d,"click",N(t[1])),_(p,"click",N(t[2])),_(k,"input",t[3]),_(F,"input",t[4]),_(j,"input",t[5]),_(L,"input",t[6]),_(Z,"input",t[7]),_(J,"input",t[8]),_(rt,"input",t[9]),_(ct,"change",t[10])],wt=!0)},p(t,[e]){(!xt||1&e&&u!==(u=` \n      background-color: ${t[0].bgColor};\n      --bgColor: ${t[0].bgColor}; \n      --trackColor: ${t[0].hlTrackColor}; \n      --textColor: ${t[0].textColor}; \n      --hlTextColor: ${t[0].hlTextColor}; \n      --fillColor: ${t[0].fillColor}; \n      --warnColor: ${t[0].warnColor}; \n      --hlTrackColor: ${t[0].trackColor};`))&&S(n,"style",u),1&e&&P(k,t[0].bgColor),1&e&&P(F,t[0].trackColor),1&e&&P(j,t[0].textColor),1&e&&P(L,t[0].hlTextColor),1&e&&P(Z,t[0].fillColor),1&e&&P(J,t[0].warnColor),1&e&&P(rt,t[0].hlTrackColor),1&e&&O(ct,t[0].position)},i(t){xt||(ft(i.$$.fragment,t),ft(l.$$.fragment,t),xt=!0)},o(t){pt(i.$$.fragment,t),pt(l.$$.fragment,t),xt=!1},d(t){t&&x(e),yt(i),yt(l),wt=!1,s(Ct)}}}function Js(t,e,n){let{values:r}=e;return t.$$set=t=>{"values"in t&&n(0,r=t.values)},[r,()=>{n(0,r.bgColor="#f4f4f4",r),n(0,r.hlTrackColor="#d1e8d4",r),n(0,r.trackColor="#e0e0e0",r),n(0,r.textColor="#333333",r),n(0,r.hlTextColor="#fbb623",r),n(0,r.fillColor="#59c273",r),n(0,r.warnColor="#fbb623",r)},()=>{n(0,r.bgColor="#232629",r),n(0,r.trackColor="#e0e0e0",r),n(0,r.textColor="#bcbcbc",r),n(0,r.hlTextColor="#fcbd4b",r),n(0,r.fillColor="#59c273",r),n(0,r.warnColor="#fcbd4b",r),n(0,r.hlTrackColor="#aad4b0",r)},function(){r.bgColor=this.value,n(0,r)},function(){r.trackColor=this.value,n(0,r)},function(){r.textColor=this.value,n(0,r)},function(){r.hlTextColor=this.value,n(0,r)},function(){r.fillColor=this.value,n(0,r)},function(){r.warnColor=this.value,n(0,r)},function(){r.hlTrackColor=this.value,n(0,r)},function(){r.position=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,r)}]}class Ys extends Ct{constructor(t){super(),wt(this,t,Js,Xs,i,{values:0})}}function to(e){let n,r,o,i,a,l,u,c,d,f,p,m=e[0].madCutoff+"";return{c(){n=C("div"),r=C("h4"),r.textContent="MAD cutoff",o=M(),i=C("input"),a=M(),l=C("label"),u=T(m),c=M(),d=C("hr"),S(r,"class","svelte-62sb6n"),S(i,"id","madCutoff"),S(i,"type","range"),S(i,"min","2"),S(i,"max","15"),S(i,"class","svelte-62sb6n"),S(l,"for","madCutoff"),S(l,"class","svelte-62sb6n"),S(d,"class","svelte-62sb6n"),S(n,"class","settingsComp")},m(t,s){y(t,n,s),h(n,r),h(n,o),h(n,i),P(i,e[0].madCutoff),h(n,a),h(n,l),h(l,u),h(n,c),h(n,d),f||(p=[_(i,"change",e[1]),_(i,"input",e[1])],f=!0)},p(t,[e]){1&e&&P(i,t[0].madCutoff),1&e&&m!==(m=t[0].madCutoff+"")&&q(u,m)},i:t,o:t,d(t){t&&x(n),f=!1,s(p)}}}function eo(t,e,n){let{values:r}=e;return t.$$set=t=>{"values"in t&&n(0,r=t.values)},[r,function(){r.madCutoff=E(this.value),n(0,r)}]}class no extends Ct{constructor(t){super(),wt(this,t,eo,to,i,{values:0})}}function ro(t){let e,n,r,s,o=t[0].errorCount+"",i=t[0].errorCount>1?"s":"";return{c(){e=C("div"),n=T(o),r=T(" validation error"),s=T(i),S(e,"class","validation-errors svelte-1uyqtow")},m(t,o){y(t,e,o),h(e,n),h(e,r),h(e,s)},p(t,e){1&e&&o!==(o=t[0].errorCount+"")&&q(n,o),1&e&&i!==(i=t[0].errorCount>1?"s":"")&&q(s,i)},d(t){t&&x(e)}}}function so(t){let e,n;return e=new no({props:{values:t[1]}}),{c(){bt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.values=t[1]),e.$set(r)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function oo(t){let e,n;return e=new Ys({props:{values:t[1]}}),{c(){bt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.values=t[1]),e.$set(r)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function io(t){let e,n,r;function s(e){t[10](e)}let o={values:t[1]};return void 0!==t[0]&&(o.result=t[0]),e=new Ks({props:o}),Z.push((()=>ht(e,"result",s))),{c(){bt(e.$$.fragment)},m(t,n){$t(e,t,n),r=!0},p(t,r){const s={};2&r&&(s.values=t[1]),!n&&1&r&&(n=!0,s.result=t[0],tt((()=>n=!1))),e.$set(s)},i(t){r||(ft(e.$$.fragment,t),r=!0)},o(t){pt(e.$$.fragment,t),r=!1},d(t){yt(e,t)}}}function ao(t){let e,n,r;function s(e){t[9](e)}let o={values:t[1]};return void 0!==t[0]&&(o.result=t[0]),e=new Gs({props:o}),Z.push((()=>ht(e,"result",s))),{c(){bt(e.$$.fragment)},m(t,n){$t(e,t,n),r=!0},p(t,r){const s={};2&r&&(s.values=t[1]),!n&&1&r&&(n=!0,s.result=t[0],tt((()=>n=!1))),e.$set(s)},i(t){r||(ft(e.$$.fragment,t),r=!0)},o(t){pt(e.$$.fragment,t),r=!1},d(t){yt(e,t)}}}function lo(t){let e,n,r;function s(e){t[8](e)}let o={values:t[1]};return void 0!==t[0]&&(o.result=t[0]),e=new Bs({props:o}),Z.push((()=>ht(e,"result",s))),{c(){bt(e.$$.fragment)},m(t,n){$t(e,t,n),r=!0},p(t,r){const s={};2&r&&(s.values=t[1]),!n&&1&r&&(n=!0,s.result=t[0],tt((()=>n=!1))),e.$set(s)},i(t){r||(ft(e.$$.fragment,t),r=!0)},o(t){pt(e.$$.fragment,t),r=!1},d(t){yt(e,t)}}}function uo(t){let e,n,r,o,i,a,l,u,c,d,f,p,m,v,g,b,$,w,k,z,E,q,P,F,O,W,A,j,D=t[0].hasErrors(),R=D&&ro(t);const I=[lo,ao,io,oo,so],L=[];function B(t,e){return"Ganbarometer"==t[2]?0:"Speed"===t[2]?1:"Reviews"===t[2]?2:"Appearance"===t[2]?3:"Advanced"===t[2]?4:-1}return~(F=B(t))&&(O=L[F]=I[F](t)),{c(){e=C("form"),n=C("h1"),n.textContent="Ganbarometer Settings",r=M(),o=C("div"),i=C("nav"),a=C("li"),a.textContent="Ganbarometer",l=M(),u=C("li"),u.textContent="Speed",c=M(),d=C("li"),d.textContent="Reviews",f=M(),p=C("li"),p.textContent="Appearance",m=M(),v=C("li"),v.textContent="Advanced",g=M(),R&&R.c(),b=M(),$=C("div"),w=C("button"),w.textContent="Defaults",k=M(),z=C("button"),E=T("Save"),q=M(),P=C("div"),O&&O.c(),S(n,"class","title svelte-1uyqtow"),S(a,"class","svelte-1uyqtow"),Q(a,"active","Ganbarometer"===t[2]),S(u,"class","svelte-1uyqtow"),Q(u,"active","Speed"===t[2]),S(d,"class","svelte-1uyqtow"),Q(d,"active","Reviews"===t[2]),S(p,"class","svelte-1uyqtow"),Q(p,"active","Appearance"===t[2]),S(v,"class","svelte-1uyqtow"),Q(v,"active","Advanced"===t[2]),S(i,"class","nav svelte-1uyqtow"),S(w,"class","defaultButton svelte-1uyqtow"),S(z,"type","submit"),z.disabled=t[3],S(z,"class","svelte-1uyqtow"),S($,"class","actions"),S(o,"class","menu svelte-1uyqtow"),S(P,"class","formInputs svelte-1uyqtow"),S(e,"aria-label","Settings Form"),S(e,"class","settingsForm svelte-1uyqtow")},m(s,x){y(s,e,x),h(e,n),h(e,r),h(e,o),h(o,i),h(i,a),h(i,l),h(i,u),h(i,c),h(i,d),h(i,f),h(i,p),h(i,m),h(i,v),h(o,g),R&&R.m(o,null),h(o,b),h(o,$),h($,w),h($,k),h($,z),h(z,E),h(e,q),h(e,P),~F&&L[F].m(P,null),W=!0,A||(j=[_(a,"click",t[6]("Ganbarometer")),_(u,"click",t[6]("Speed")),_(d,"click",t[6]("Reviews")),_(p,"click",t[6]("Appearance")),_(v,"click",t[6]("Advanced")),_(w,"click",N(t[5])),_(e,"submit",N(t[4]))],A=!0)},p(t,[e]){4&e&&Q(a,"active","Ganbarometer"===t[2]),4&e&&Q(u,"active","Speed"===t[2]),4&e&&Q(d,"active","Reviews"===t[2]),4&e&&Q(p,"active","Appearance"===t[2]),4&e&&Q(v,"active","Advanced"===t[2]),1&e&&(D=t[0].hasErrors()),D?R?R.p(t,e):(R=ro(t),R.c(),R.m(o,b)):R&&(R.d(1),R=null),(!W||8&e)&&(z.disabled=t[3]);let n=F;F=B(t),F===n?~F&&L[F].p(t,e):(O&&(ct(),pt(L[n],1,1,(()=>{L[n]=null})),dt()),~F?(O=L[F],O?O.p(t,e):(O=L[F]=I[F](t),O.c()),ft(O,1),O.m(P,null)):O=null)},i(t){W||(ft(O),W=!0)},o(t){pt(O),W=!1},d(t){t&&x(e),R&&R.d(),~F&&L[F].d(),A=!1,s(j)}}}function co(t,e,n){let r,s;l(t,Ne,(t=>n(11,s=t)));let{modal:o}=e,i=Object.assign({},s),a=Ws.get();let u="Ganbarometer";return function(t){B().$$.on_destroy.push(t)}((()=>{Ws.reset()})),t.$$set=t=>{"modal"in t&&n(7,o=t.modal)},t.$$.update=()=>{1&t.$$.dirty&&n(3,r=a.hasErrors())},[a,i,u,r,()=>{n(0,a=Ws(i)),a.hasErrors()||(c(Ne,s=Object.assign(Object.assign({},s),i),s),o.hide())},()=>{n(1,i=Object.assign({},_e)),Ws.reset(),n(0,a=Ws.get())},t=>()=>n(2,u=t),o,function(t){a=t,n(0,a)},function(t){a=t,n(0,a)},function(t){a=t,n(0,a)}]}class fo extends Ct{constructor(t){super(),wt(this,t,co,uo,i,{modal:7})}}function po(e){let n,r,s;return{c(){n=C("button"),n.innerHTML='<svg id="b76ee484-33fd-42f4-92f5-780eb817404e" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 344.6 297.7"><path d="M200.9,314.2l-43.7,27.5a15.4,15.4,0,0,1-21.2-4.8L31,169.9a15.4,15.4,0,0,1,4.8-21.2l57.1-35.9L144,80.7" transform="translate(-23.6 -51.3)" style="fill: none;stroke: var(--textColor);stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path d="M197.2,286.8,147.9,284a15.4,15.4,0,0,1-14.5-16.2l9.9-170.3.9-16.3.6-10.4a15.4,15.4,0,0,1,16.3-14.4l132,7.6a15.4,15.4,0,0,1,14.5,16.2l-.6,10" transform="translate(-23.6 -51.3)" style="fill: none;stroke: var(--textColor);stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path d="M200.9,314.2l.7,5.1a15.3,15.3,0,0,0,17.3,13.1L350,314.5a15.3,15.3,0,0,0,13.1-17.3L336.4,101.7a15.3,15.3,0,0,0-17.3-13.1L307,90.2,188,106.5a15.3,15.3,0,0,0-13.1,17.3l22.3,163Z" transform="translate(-23.6 -51.3)" style="fill: none;stroke: var(--textColor);stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path style="fill: var(--textColor); stroke: none;stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px" d="M306.6,155.8c7.9-1.8,12.3.4,14.1,7.8l3.8,16.2c.6,2.5-.8,4.5-4.2,5.2s-5.3-.3-5.9-2.8L311,167.9c-.7-3.1-2.1-3.5-5.1-2.7l-90.6,21.4c-2.8.6-4,1.6-3.3,4.7l3.4,14.3c.6,2.5-1.1,4.5-4.1,5.2s-5.4-.3-5.9-2.8l-3.9-16.3c-1.7-7.3,1.1-11.3,9.1-13.2l14.6-3.5a151.7,151.7,0,0,0-11.7-10.7,3.8,3.8,0,0,1-1.3-1.9c-.4-1.5.4-3.2,2.2-4.3a10,10,0,0,1,2.5-1,5.2,5.2,0,0,1,4.6.8,144.6,144.6,0,0,1,14.9,14.5l19.7-4.7a110.2,110.2,0,0,0-10.9-12.4,3.6,3.6,0,0,1-1.2-1.7c-.4-1.7.6-3.4,2.6-4.6l2.1-.9a5,5,0,0,1,5,1.6,87.1,87.1,0,0,1,12.9,15.6l14.6-3.5a80.5,80.5,0,0,0,6.4-19.3,4.7,4.7,0,0,1,3.6-3.6,8.6,8.6,0,0,1,2.8-.1c2.5.2,3.9,1.3,4.3,3a2.8,2.8,0,0,1-.1,2,71.7,71.7,0,0,1-5.8,15.4Zm-60.2,94.6c-7.4,1.8-11.6-.4-13.2-7.3l-9.1-38.5c-1.7-7.2,1.2-10.8,9.2-12.7L292,178c8-1.9,12.3.1,14,7.2l9.1,38.5c1.6,6.9-1.1,10.7-8.6,12.5l-12.7,3,4,16.7c.7,3,2.1,3.9,4.2,3.7s6.5-1,13.1-2.6,9.9-2.3,12.1-3.5a6,6,0,0,0,3.7-4.1c.5-2.2.2-6-.6-11.4-.5-2.3.7-4.2,3.6-4.9l1.1-.3c3.4-.5,5.3,1.1,6,3.7v.3c1,6.2,1.2,13.7,0,17s-4,5.9-8,7.7-7.9,2.9-16.1,4.9-15.1,3.4-18.6,3.5c-5.1,0-8.9-2.1-10.4-8.3l-4.7-19.9-17.5,4.2c.3,19.7-14,33.8-37.1,43.2a3.1,3.1,0,0,1-1.2.5,5.2,5.2,0,0,1-6.4-3.2,3.5,3.5,0,0,1-.5-1.3c-.6-2.6.7-4.7,3.2-5.7,20-7.7,30.7-17.5,31.1-31Zm51.5-56.1-1.3-5.8c-.6-2.5-2-2.9-4.5-2.3l-55.2,13c-2.5.6-3.5,1.6-3,4.1l1.4,5.8Zm3.9,16.5-2.1-8.9-62.6,14.8,2.1,8.9ZM241,233.2l1.6,6.6c.6,2.5,2,2.9,4.5,2.3l55.1-13c2.5-.6,3.6-1.6,3-4.1l-1.6-6.6Z" transform="translate(-23.6 -51.3)"></path></svg>',S(n,"class","quiz-button svelte-o42zy6")},m(t,o){y(t,n,o),r||(s=_(n,"click",e[0]),r=!0)},p:t,i:t,o:t,d(t){t&&x(n),r=!1,s()}}}function mo(t){return[function(e){H.call(this,t,e)}]}class vo extends Ct{constructor(t){super(),wt(this,t,mo,po,i,{})}}function go(e){let n,r,s;return{c(){n=C("button"),n.innerHTML='<svg id="edd52277-873a-4c78-9f5a-11032a27aff1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 297 292"><path d="M163.5,98h180m-287,0h30m226,102h31m-287,0h179m-72,102h180m-287,0h30m77-204.5A38.5,38.5,0,1,0,125,136,38.5,38.5,0,0,0,163.5,97.5ZM125,264a38.5,38.5,0,1,0,38.5,38.5A38.5,38.5,0,0,0,125,264ZM274,161a38.5,38.5,0,1,0,38.5,38.5A38.5,38.5,0,0,0,274,161Z" transform="translate(-51.5 -54)" style="fill: none;stroke: var(--textColor);stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path></svg>',S(n,"aria-label","settings"),S(n,"class","settings svelte-1jfd1ka")},m(t,o){y(t,n,o),r||(s=_(n,"click",e[0]),r=!0)},p:t,i:t,o:t,d(t){t&&x(n),r=!1,s()}}}function ho(t){return[function(e){H.call(this,t,e)}]}class bo extends Ct{constructor(t){super(),wt(this,t,ho,go,i,{})}}const $o=(t,e)=>t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear(),yo=t=>{if(0===t.length)return 0;const e=t.slice().sort(((t,e)=>t-e)),n=Math.floor(e.length/2);return e.length%2?e[n]:(e[n-1]+e[n])/2},xo=t=>{if(0===t.length)return[];const e=(t=>{const e=t.map((t=>t.duration)),n=Math.min(...e);if(Math.max(...e),n>6e5)return e.map(((t,e)=>e));{const n=yo(e),r=t.map((t=>Math.abs(t.duration-n))),s=1.4826,o=yo(r)*s,i=r.map((t=>o>0?Math.abs(t-n)/o:Math.abs(t-n)/n)),a=10,l=i[i.length-1]>a?i:[...i.slice(0,-1),999999],u=t.map(((t,e)=>e)),c=u.filter(((t,e)=>l[e]>a));return c}})(t),n=[0,...e.map((t=>t+1))].slice(0,-1),r=e.map(((e,r)=>({reviews:t.slice(n[r],e+1)})));return r.map((t=>({questions:t.reviews.reduce(((t,e)=>t+e.questions),0),reading_incorrect:t.reviews.reduce(((t,e)=>t+e.reading_incorrect),0),meaning_incorrect:t.reviews.reduce(((t,e)=>t+e.meaning_incorrect),0),startTime:t.reviews[0].started,endTime:t.reviews[t.reviews.length-1].started,reviews:t.reviews})))};let wo;const Co=async t=>{if(!wo||!wo[t]){wkof.include("ItemData"),await wkof.ready("ItemData");let t=await wkof.ItemData.get_items();wo=await wkof.ItemData.get_index(t,"subject_id")}return wo[t]},ko=t=>({subject_id:t.data.subject_id,started:new Date(t.data.created_at),duration:0,reading_incorrect:+t.data.incorrect_reading_answers,meaning_incorrect:+t.data.incorrect_meaning_answers,questions:0}),To=(t,e,n)=>{if(n[e+1]){const r=n[e+1].started.getTime(),s=t.started.getTime();if(r<s)throw"Reviews not in sequential creation order!";return Object.assign(Object.assign({},t),{duration:r-s})}return t},Mo=(t,e)=>{var n,r;return new Date(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.created_at).getTime()-new Date(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.created_at).getTime()},zo=async t=>{if(!(null==t?void 0:t.length))return[];const e=t.map(ko).map(To),n=await(async t=>{let e=t.slice();for(let t of e){const e=await Co(+t.subject_id);t.questions="radical"===e.object?1:2,t.questions+=t.meaning_incorrect+t.reading_incorrect}return e})(e);let r=n.slice(0,-1).map((t=>t.duration)),s=yo(r);return n.length&&(n[n.length-1].duration=s),n},_o=async t=>{const e=((t=0)=>{const e=new Date;let n,r=e.getTime()-3600*e.getHours()*1e3-60*e.getMinutes()*1e3-1e3*e.getSeconds()-e.getMilliseconds();return n=t>1?new Date(r-24*(t-1)*3600*1e3):new Date(r),n})(t);wkof.include("Apiv2"),await wkof.ready("Apiv2");const n=await wkof.Apiv2.fetch_endpoint("reviews",{last_update:e.toISOString()}),r=null==n?void 0:n.data.filter((t=>{var n;return new Date(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.created_at).getTime()>=e.getTime()})).sort(Mo);return zo(r)},No=/[a-zA-Z]/,So=(t,e=0)=>[...Array(t).keys()].map((t=>t+e));function Eo(t,e,n){const r=t.slice();return r[6]=e[n],r}function qo(t){let e;return{c(){e=C("div"),S(e,"class","dot svelte-14w6xk7"),F(e,"--dotSize",.25*+t[3]+t[1]),F(e,"--color",t[0]),F(e,"animation-delay",t[6]*(+t[5]/10)+t[4])},m(t,n){y(t,e,n)},p(t,n){10&n&&F(e,"--dotSize",.25*+t[3]+t[1]),1&n&&F(e,"--color",t[0])},d(t){t&&x(e)}}}function Po(e){let n,r=So(3,1),s=[];for(let t=0;t<r.length;t+=1)s[t]=qo(Eo(e,r,t));return{c(){n=C("div");for(let t=0;t<s.length;t+=1)s[t].c();S(n,"class","wrapper svelte-14w6xk7"),F(n,"--size",e[3]+e[1]),F(n,"--duration",e[2])},m(t,e){y(t,n,e);for(let t=0;t<s.length;t+=1)s[t].m(n,null)},p(t,[e]){if(59&e){let o;for(r=So(3,1),o=0;o<r.length;o+=1){const i=Eo(t,r,o);s[o]?s[o].p(i,e):(s[o]=qo(i),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=r.length}10&e&&F(n,"--size",t[3]+t[1]),4&e&&F(n,"--duration",t[2])},i:t,o:t,d(t){t&&x(n),w(s,t)}}}function Fo(t,e,n){let{color:r="#FF3E00"}=e,{unit:s="px"}=e,{duration:o="0.6s"}=e,{size:i="60"}=e,a=o.match(No)[0],l=o.replace(No,"");return t.$$set=t=>{"color"in t&&n(0,r=t.color),"unit"in t&&n(1,s=t.unit),"duration"in t&&n(2,o=t.duration),"size"in t&&n(3,i=t.size)},[r,s,o,i,a,l]}class Oo extends Ct{constructor(t){super(),wt(this,t,Fo,Po,i,{color:0,unit:1,duration:2,size:3})}}function Qo(t){let e,n,r,s;return n=new Oo({props:{color:t[0].warnColor,size:"25",unit:"px"}}),{c(){e=C("div"),bt(n.$$.fragment),S(e,"class","spinner svelte-omqo3m")},m(t,r){y(t,e,r),$t(n,e,null),s=!0},p(t,e){const r={};1&e&&(r.color=t[0].warnColor),n.$set(r)},i(t){s||(ft(n.$$.fragment,t),Y((()=>{r||(r=gt(e,pe,{},!0)),r.run(1)})),s=!0)},o(t){pt(n.$$.fragment,t),r||(r=gt(e,pe,{},!1)),r.run(0),s=!1},d(t){t&&x(e),yt(n),t&&r&&r.end()}}}function Wo(e){let n,r;return n=new vo({}),n.$on("click",e[6]),{c(){bt(n.$$.fragment)},m(t,e){$t(n,t,e),r=!0},p:t,i(t){r||(ft(n.$$.fragment,t),r=!0)},o(t){pt(n.$$.fragment,t),r=!1},d(t){yt(n,t)}}}function Ao(t){let e,n;return e=new fo({props:{modal:Do}}),{c(){bt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},p(t,n){const r={};0&n&&(r.modal=Do),e.$set(r)},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function jo(t){let e,n,r,o,i,a,l,u,c,d,f,p,m,v,g,b,$,w,k,T,z,E,q,P,F,O,W=t[2]&&Qo(t);function A(e){t[9](e)}let j={float:!0,pips:!0,suffix:t[4],min:1,max:7};void 0!==t[1]&&(j.values=t[1]),c=new se({props:j}),Z.push((()=>ht(c,"values",A)));let D=t[3]&&Wo(t);return v=new bo({}),v.$on("click",t[10]),$=new Fe({}),k=new Re({}),z=new rn({}),q=new ln({props:{$$slots:{default:[Ao]},$$scope:{ctx:t}}}),t[11](q),{c(){e=C("div"),n=C("nav"),r=C("li"),r.textContent="Graphs",o=M(),i=C("li"),i.textContent="Data",a=M(),W&&W.c(),l=M(),u=C("div"),bt(c.$$.fragment),f=M(),p=C("div"),D&&D.c(),m=M(),bt(v.$$.fragment),g=M(),b=C("div"),bt($.$$.fragment),w=M(),bt(k.$$.fragment),T=M(),bt(z.$$.fragment),E=M(),bt(q.$$.fragment),S(r,"class","svelte-omqo3m"),Q(r,"active","chart"===t[5]),S(i,"class","svelte-omqo3m"),Q(i,"active","data"===t[5]),S(n,"class","chart-data-nav svelte-omqo3m"),S(u,"class","dayRange svelte-omqo3m"),S(u,"data-testid","daySlider"),S(p,"class","action-buttons svelte-omqo3m"),S(e,"class","controls svelte-omqo3m"),S(b,"data-testid","gbwidgets"),S(b,"class","gbwidgets svelte-omqo3m")},m(s,d){y(s,e,d),h(e,n),h(n,r),h(n,o),h(n,i),h(e,a),W&&W.m(e,null),h(e,l),h(e,u),$t(c,u,null),h(e,f),h(e,p),D&&D.m(p,null),h(p,m),$t(v,p,null),y(s,g,d),y(s,b,d),$t($,b,null),h(b,w),$t(k,b,null),h(b,T),$t(z,b,null),y(s,E,d),$t(q,s,d),P=!0,F||(O=[_(r,"click",N(t[7])),_(i,"click",N(t[8]))],F=!0)},p(t,[n]){32&n&&Q(r,"active","chart"===t[5]),32&n&&Q(i,"active","data"===t[5]),t[2]?W?(W.p(t,n),4&n&&ft(W,1)):(W=Qo(t),W.c(),ft(W,1),W.m(e,l)):W&&(ct(),pt(W,1,1,(()=>{W=null})),dt());const s={};16&n&&(s.suffix=t[4]),!d&&2&n&&(d=!0,s.values=t[1],tt((()=>d=!1))),c.$set(s),t[3]?D?(D.p(t,n),8&n&&ft(D,1)):(D=Wo(t),D.c(),ft(D,1),D.m(p,m)):D&&(ct(),pt(D,1,1,(()=>{D=null})),dt());const o={};65536&n&&(o.$$scope={dirty:n,ctx:t}),q.$set(o)},i(t){P||(ft(W),ft(c.$$.fragment,t),ft(D),ft(v.$$.fragment,t),ft($.$$.fragment,t),ft(k.$$.fragment,t),ft(z.$$.fragment,t),ft(q.$$.fragment,t),P=!0)},o(t){pt(W),pt(c.$$.fragment,t),pt(D),pt(v.$$.fragment,t),pt($.$$.fragment,t),pt(k.$$.fragment,t),pt(z.$$.fragment,t),pt(q.$$.fragment,t),P=!1},d(n){n&&x(e),W&&W.d(),yt(c),D&&D.d(),yt(v),n&&x(g),n&&x(b),yt($),yt(k),yt(z),n&&x(E),t[11](null),yt(q,n),F=!1,s(O)}}}let Do,Ro;function Io(t,e,n){let r,s,o,i,a,u,d;l(t,Ne,(t=>n(0,o=t))),l(t,ye,(t=>n(1,i=t))),l(t,Te,(t=>n(13,a=t))),l(t,ze,(t=>n(14,u=t))),l(t,he,(t=>n(5,d=t)));let f=!1;const p=async t=>{let e;n(2,f=!0);try{e=await _o(t)}catch(t){console.warn(t)}c(ze,u=(t=>{const e=t.filter(((e,n)=>!(n>0&&$o(e.started,t[n-1].started)))).map((t=>t.started)).map((e=>t.filter((t=>$o(t.started,e)))));let n=[];return e.forEach(((t,e)=>{const r=t.filter((t=>0===t.reading_incorrect)).reduce(((t,e)=>t+1),0),s=t.filter((t=>0===t.meaning_incorrect)).reduce(((t,e)=>t+1),0),o=t.filter((t=>t.meaning_incorrect+t.reading_incorrect===0)).reduce(((t,e)=>t+1),0),i=t.reduce(((t,e)=>t+e.questions),0),a=t.length,l={start:t[0].started,end:t[t.length-1].started,review_count:t.length,question_count:i,accuracy:o/a,reading_accuracy:r/a,meaning_accuracy:s/a};n.push(l)})),n})(e),u),c(Te,a=(t=>{const e=xo(t);let n=[];return e.forEach((t=>{const e=t.reviews.reduce(((t,e)=>t+e.questions),0),r=t.reviews.reduce(((t,e)=>t+(e.meaning_incorrect+e.reading_incorrect)),0),s=e-r,o={start:t.startTime,end:t.endTime,reviewCount:t.reviews.length,questionCount:e,correctAnswerCount:s};n.push(o)})),n})(e),a),n(2,f=!1)};let m=!1;wkof.wait_state("ss_quiz","ready").then((()=>{"function"==typeof(null===ss_quiz||void 0===ss_quiz?void 0:ss_quiz.open)&&n(3,m=!0)}));return t.$$.update=()=>{2&t.$$.dirty&&p(i[0]),2&t.$$.dirty&&n(4,r=i[0]>1?" days":" day"),1&t.$$.dirty&&(s=o.rQuiz&&o.kQuiz&&o.vQuiz?"rad,kan,voc":o.rQuiz&&o.kQuiz&&!o.vQuiz?"rad,kan":o.rQuiz&&!o.kQuiz&&o.vQuiz?"rad,voc":!o.rQuiz||o.kQuiz||o.vQuiz?!o.rQuiz&&o.kQuiz&&o.vQuiz?"kan,voc":o.rQuiz||!o.kQuiz||o.vQuiz?o.rQuiz||o.kQuiz||!o.vQuiz?"rad,kan,voc":"voc":"kan":"rad")},[o,i,f,m,r,d,async()=>{await wkof.wait_state("ss_quiz","ready"),ss_quiz.open({ipreset:{name:`New ${s}`,content:{wk_items:{enabled:!0,filters:{srs:{enabled:!0,value:{appr1:!0,appr2:!0}},item_type:{enabled:!0,value:s}}}}}})},()=>c(he,d="chart",d),()=>c(he,d="data",d),function(t){i=t,ye.set(i)},()=>Do.show(),function(t){Z[t?"unshift":"push"]((()=>{Do=t}))}]}class Lo extends Ct{constructor(t){super(),wt(this,t,Io,jo,i,{})}}function Bo(e){let n;return{c(){n=C("div"),n.innerHTML='<h2>GanbarOmeter</h2>   \n    <p>The GanbarOmeter needs the Wankani Open Framework to be installed prior to use.</p>  \n    \n    <p>Please refer to the <a href="http://community.wanikani.com/t/instructions-installing-wanikani-open-framework/28549">WKOF\n    installation instructions.</a></p>',S(n,"class","placeholder svelte-3pkdxk")},m(t,e){y(t,n,e)},i:t,o:t,d(t){t&&x(n)}}}function Vo(t){let e,n;return e=new Lo({}),{c(){bt(e.$$.fragment)},m(t,r){$t(e,t,r),n=!0},i(t){n||(ft(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Ho(t){let e,n,r,s,o;const i=[Vo,Bo],a=[];return n=function(t,e){return t[1]?0:1}(t),r=a[n]=i[n](t),{c(){e=C("section"),r.c(),S(e,"data-testid","ganbarometer"),S(e,"class","ganbarometer svelte-3pkdxk"),S(e,"style",s=` \n    --bgColor: ${t[0].bgColor}; \n    --trackColor: ${t[0].trackColor}; \n    --textColor: ${t[0].textColor}; \n    --hlTextColor: ${t[0].hlTextColor}; \n    --fillColor: ${t[0].fillColor}; \n    --warnColor: ${t[0].warnColor}; \n    --lTrackColor: ${t[0].lTrackColor}; \n    --hTrackColor: ${t[0].hTrackColor};`)},m(t,r){y(t,e,r),a[n].m(e,null),o=!0},p(t,[n]){(!o||1&n&&s!==(s=` \n    --bgColor: ${t[0].bgColor}; \n    --trackColor: ${t[0].trackColor}; \n    --textColor: ${t[0].textColor}; \n    --hlTextColor: ${t[0].hlTextColor}; \n    --fillColor: ${t[0].fillColor}; \n    --warnColor: ${t[0].warnColor}; \n    --lTrackColor: ${t[0].lTrackColor}; \n    --hTrackColor: ${t[0].hTrackColor};`))&&S(e,"style",s)},i(t){o||(ft(r),o=!0)},o(t){pt(r),o=!1},d(t){t&&x(e),a[n].d()}}}function Go(t,e,n){let r;l(t,Ne,(t=>n(0,r=t)));let s=!!wkof;return[r,s]}Ne.subscribe((t=>Ro=t.position));const Zo=document.querySelector(".dashboard .span12");let Uo={target:Zo,anchor:null};switch(Ro){case"Top":Uo.anchor=Zo.querySelector(".progress-and-forecast");break;case"Below Forecast":Uo.anchor=Zo.querySelector(".srs-progress");break;case"Below SRS":Uo.anchor=Zo.querySelector(".row");break;case"Below Panels":Uo.anchor=Zo.querySelector(".row:last-of-type");break;default:Uo.anchor=null}const Ko=new class extends Ct{constructor(t){super(),wt(this,t,Go,Ho,i,{})}}(Uo);return Ko}();
//# sourceMappingURL=bundle.user.js.map
