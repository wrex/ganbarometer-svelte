// ==UserScript==
// @name        ganbarometer-beta
// @description The GanbarOmeter (Wanikani dashboard widgets)
// @namespace   https://github.com/wrex/
// @version     4.0.5
// @homepage    https://github.com/wrex/ganbarometer-svelte#readme
// @author      Rex Walters -- rw [at] pobox.com
// @license     MIT-0
// @resource    css https://github.com/wrex/ganbarometer-svelte/raw/v4.0/published/v4beta/bundle.css
// @include     /^https://(www|preview).wanikani.com/(dashboard)?$/
// @connect     github.com
// @run-at      document-idle
// @downloadURL https://github.com/wrex/ganbarometer-svelte/raw/v4.0/published/v4beta/bundle.user.js
// @updateURL   https://github.com/wrex/ganbarometer-svelte/raw/v4.0/published/v4beta/bundle.user.js
// @grant       GM_addStyle
// @grant       GM_getResourceText
// @grant       GM_xmlhttpRequest
// ==/UserScript==
GM_addStyle(GM_getResourceText("css"));var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function r(){return Object.create(null)}function a(e){e.forEach(n)}function s(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(e,t,n){e.$$.on_destroy.push(i(t,n))}function u(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function c(e,t,n){return e.set(n),t}const d="undefined"!=typeof window;let f=d?()=>window.performance.now():()=>Date.now(),p=d?e=>requestAnimationFrame(e):e;const v=new Set;function g(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&p(g)}function m(e){let t;return 0===v.size&&p(g),{promise:new Promise((n=>{v.add(t={c:e,f:n})})),abort(){v.delete(t)}}}function h(e,t){e.appendChild(t)}function y(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function b(e){const t=C("style");return function(e,t){h(e.head||e,t)}(y(e),t),t}function $(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function k(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function T(e){return document.createTextNode(e)}function _(){return T(" ")}function M(){return T("")}function N(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function S(e){return function(t){return t.preventDefault(),e.call(this,t)}}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function q(e){return""===e?null:+e}function F(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function z(e,t){e.value=null==t?"":t}function O(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function P(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}function W(e,t,n){e.classList[n?"add":"remove"](t)}function A(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}const j=new Set;let Q,R=0;function D(e,t,n,r,a,s,o,i=0){const l=16.666/r;let u="{\n";for(let e=0;e<=1;e+=l){const r=t+(n-t)*s(e);u+=100*e+`%{${o(r,1-r)}}\n`}const c=u+`100% {${o(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(c)}_${i}`,f=y(e);j.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=b(e).sheet),v=f.__svelte_rules||(f.__svelte_rules={});v[d]||(v[d]=!0,p.insertRule(`@keyframes ${d} ${c}`,p.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${r}ms linear ${a}ms 1 both`,R+=1,d}function I(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),a=n.length-r.length;a&&(e.style.animation=r.join(", "),R-=a,R||p((()=>{R||(j.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),j.clear())})))}function L(e){Q=e}function B(){if(!Q)throw new Error("Function called outside component initialization");return Q}function V(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const H=[],Z=[],G=[],U=[],K=Promise.resolve();let X=!1;function J(e){G.push(e)}function Y(e){U.push(e)}let ee=!1;const te=new Set;function ne(){if(!ee){ee=!0;do{for(let e=0;e<H.length;e+=1){const t=H[e];L(t),re(t.$$)}for(L(null),H.length=0;Z.length;)Z.pop()();for(let e=0;e<G.length;e+=1){const t=G[e];te.has(t)||(te.add(t),t())}G.length=0}while(H.length);for(;U.length;)U.pop()();X=!1,ee=!1,te.clear()}}function re(e){if(null!==e.fragment){e.update(),a(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}let ae;function se(){return ae||(ae=Promise.resolve(),ae.then((()=>{ae=null}))),ae}function oe(e,t,n){e.dispatchEvent(A(`${t?"intro":"outro"}${n}`))}const ie=new Set;let le;function ue(){le={r:0,c:[],p:le}}function ce(){le.r||a(le.c),le=le.p}function de(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function fe(e,t,n,r){if(e&&e.o){if(ie.has(e))return;ie.add(e),le.c.push((()=>{ie.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const pe={duration:0};function ve(n,r,a){let o,i,l=r(n,a),u=!1,c=0;function d(){o&&I(n,o)}function p(){const{delay:r=0,duration:a=300,easing:s=t,tick:p=e,css:v}=l||pe;v&&(o=D(n,0,1,a,r,s,v,c++)),p(0,1);const g=f()+r,h=g+a;i&&i.abort(),u=!0,J((()=>oe(n,!0,"start"))),i=m((e=>{if(u){if(e>=h)return p(1,0),oe(n,!0,"end"),d(),u=!1;if(e>=g){const t=s((e-g)/a);p(t,1-t)}}return u}))}let v=!1;return{start(){v||(v=!0,I(n),s(l)?(l=l(),se().then(p)):p())},invalidate(){v=!1},end(){u&&(d(),u=!1)}}}function ge(n,r,o,i){let l=r(n,o),u=i?0:1,c=null,d=null,p=null;function v(){p&&I(n,p)}function g(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function h(r){const{delay:s=0,duration:o=300,easing:i=t,tick:h=e,css:y}=l||pe,b={start:f()+s,b:r};r||(b.group=le,le.r+=1),c||d?d=b:(y&&(v(),p=D(n,u,r,o,s,i,y)),r&&h(0,1),c=g(b,o),J((()=>oe(n,r,"start"))),m((e=>{if(d&&e>d.start&&(c=g(d,o),d=null,oe(n,c.b,"start"),y&&(v(),p=D(n,u,c.b,c.duration,0,i,l.css))),c)if(e>=c.end)h(u=c.b,1-u),oe(n,c.b,"end"),d||(c.b?v():--c.group.r||a(c.group.c)),c=null;else if(e>=c.start){const t=e-c.start;u=c.a+c.d*i(t/c.duration),h(u,1-u)}return!(!c&&!d)})))}return{run(e){s(l)?se().then((()=>{l=l(),h(e)})):h(e)},end(){v(),c=d=null}}}function me(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function he(e){e&&e.c()}function ye(e,t,r,o){const{fragment:i,on_mount:l,on_destroy:u,after_update:c}=e.$$;i&&i.m(t,r),o||J((()=>{const t=l.map(n).filter(s);u?u.push(...t):a(t),e.$$.on_mount=[]})),c.forEach(J)}function be(e,t){const n=e.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $e(e,t){-1===e.$$.dirty[0]&&(H.push(e),X||(X=!0,K.then(ne)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(t,n,s,o,i,l,u,c=[-1]){const d=Q;L(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:i,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:c,skip_bound:!1,root:n.target||d.$$.root};u&&u(f.root);let p=!1;if(f.ctx=s?s(t,n.props||{},((e,n,...r)=>{const a=r.length?r[0]:n;return f.ctx&&i(f.ctx[e],f.ctx[e]=a)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](a),p&&$e(t,e)),n})):[],f.update(),p=!0,a(f.before_update),f.fragment=!!o&&o(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(x)}else f.fragment&&f.fragment.c();n.intro&&de(t.$$.fragment),ye(t,n.target,n.anchor,n.customElement),ne()}L(d)}class we{$destroy(){be(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ce=[];function ke(t,n=e){let r;const a=new Set;function s(e){if(o(t,e)&&(t=e,r)){const e=!Ce.length;for(const e of a)e[1](),Ce.push(e,t);if(e){for(let e=0;e<Ce.length;e+=2)Ce[e][0](Ce[e+1]);Ce.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(o,i=e){const l=[o,i];return a.add(l),1===a.size&&(r=n(s)||e),o(t),()=>{a.delete(l),0===a.size&&(r(),r=null)}}}}function Te(e){return"[object Date]"===Object.prototype.toString.call(e)}function _e(e,t,n,r){if("number"==typeof n||Te(n)){const a=r-n,s=(n-t)/(e.dt||1/60),o=(s+(e.opts.stiffness*a-e.opts.damping*s)*e.inv_mass)*e.dt;return Math.abs(o)<e.opts.precision&&Math.abs(a)<e.opts.precision?r:(e.settled=!1,Te(n)?new Date(n.getTime()+o):n+o)}if(Array.isArray(n))return n.map(((a,s)=>_e(e,t[s],n[s],r[s])));if("object"==typeof n){const a={};for(const s in n)a[s]=_e(e,t[s],n[s],r[s]);return a}throw new Error(`Cannot spring ${typeof n} values`)}function Me(e,t={}){const n=ke(e),{stiffness:r=.15,damping:a=.8,precision:s=.01}=t;let o,i,l,u=e,c=e,d=1,p=0,v=!1;function g(t,r={}){c=t;const a=l={};if(null==e||r.hard||h.stiffness>=1&&h.damping>=1)return v=!0,o=f(),u=t,n.set(e=c),Promise.resolve();if(r.soft){const e=!0===r.soft?.5:+r.soft;p=1/(60*e),d=0}return i||(o=f(),v=!1,i=m((t=>{if(v)return v=!1,i=null,!1;d=Math.min(d+p,1);const r={inv_mass:d,opts:h,settled:!0,dt:60*(t-o)/1e3},a=_e(r,u,e,c);return o=t,u=e,n.set(e=a),r.settled&&(i=null),!r.settled}))),new Promise((e=>{i.promise.then((()=>{a===l&&e()}))}))}const h={set:g,update:(t,n)=>g(t(c,e),n),subscribe:n.subscribe,stiffness:r,damping:a,precision:s};return h}function Ne(e,t,n){const r=e.slice();return r[27]=t[n],r[29]=n,r}function Se(e){let t,n,r,o,i=("label"===e[6]||"label"===e[7])&&Ee(e);return{c(){t=C("span"),i&&i.c(),E(t,"class","pip first"),E(t,"style",n=e[14]+": 0%;"),W(t,"selected",e[17](e[0])),W(t,"in-range",e[16](e[0]))},m(n,a){$(n,t,a),i&&i.m(t,null),r||(o=[N(t,"click",(function(){s(e[20](e[0]))&&e[20](e[0]).apply(this,arguments)})),N(t,"touchend",S((function(){s(e[20](e[0]))&&e[20](e[0]).apply(this,arguments)})))],r=!0)},p(r,a){"label"===(e=r)[6]||"label"===e[7]?i?i.p(e,a):(i=Ee(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null),16384&a&&n!==(n=e[14]+": 0%;")&&E(t,"style",n),131073&a&&W(t,"selected",e[17](e[0])),65537&a&&W(t,"in-range",e[16](e[0]))},d(e){e&&x(t),i&&i.d(),r=!1,a(o)}}}function Ee(e){let t,n,r=e[12](e[0],0,0)+"",a=e[10]&&qe(e),s=e[11]&&Fe(e);return{c(){t=C("span"),a&&a.c(),n=T(r),s&&s.c(),E(t,"class","pipVal")},m(e,r){$(e,t,r),a&&a.m(t,null),h(t,n),s&&s.m(t,null)},p(e,o){e[10]?a?a.p(e,o):(a=qe(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),4097&o&&r!==(r=e[12](e[0],0,0)+"")&&F(n,r),e[11]?s?s.p(e,o):(s=Fe(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},d(e){e&&x(t),a&&a.d(),s&&s.d()}}}function qe(e){let t,n;return{c(){t=C("span"),n=T(e[10]),E(t,"class","pipVal-prefix")},m(e,r){$(e,t,r),h(t,n)},p(e,t){1024&t&&F(n,e[10])},d(e){e&&x(t)}}}function Fe(e){let t,n;return{c(){t=C("span"),n=T(e[11]),E(t,"class","pipVal-suffix")},m(e,r){$(e,t,r),h(t,n)},p(e,t){2048&t&&F(n,e[11])},d(e){e&&x(t)}}}function ze(e){let t,n=Array(e[19]+1),r=[];for(let t=0;t<n.length;t+=1)r[t]=je(Ne(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=M()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);$(e,t,n)},p(e,a){if(2088515&a){let s;for(n=Array(e[19]+1),s=0;s<n.length;s+=1){const o=Ne(e,n,s);r[s]?r[s].p(o,a):(r[s]=je(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){w(r,e),e&&x(t)}}}function Oe(e){let t,n,r,o,i,l=("label"===e[6]||"label"===e[9])&&Pe(e);return{c(){t=C("span"),l&&l.c(),n=_(),E(t,"class","pip"),E(t,"style",r=e[14]+": "+e[15](e[18](e[29]))+"%;"),W(t,"selected",e[17](e[18](e[29]))),W(t,"in-range",e[16](e[18](e[29])))},m(r,a){$(r,t,a),l&&l.m(t,null),h(t,n),o||(i=[N(t,"click",(function(){s(e[20](e[18](e[29])))&&e[20](e[18](e[29])).apply(this,arguments)})),N(t,"touchend",S((function(){s(e[20](e[18](e[29])))&&e[20](e[18](e[29])).apply(this,arguments)})))],o=!0)},p(a,s){"label"===(e=a)[6]||"label"===e[9]?l?l.p(e,s):(l=Pe(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),311296&s&&r!==(r=e[14]+": "+e[15](e[18](e[29]))+"%;")&&E(t,"style",r),393216&s&&W(t,"selected",e[17](e[18](e[29]))),327680&s&&W(t,"in-range",e[16](e[18](e[29])))},d(e){e&&x(t),l&&l.d(),o=!1,a(i)}}}function Pe(e){let t,n,r=e[12](e[18](e[29]),e[29],e[15](e[18](e[29])))+"",a=e[10]&&We(e),s=e[11]&&Ae(e);return{c(){t=C("span"),a&&a.c(),n=T(r),s&&s.c(),E(t,"class","pipVal")},m(e,r){$(e,t,r),a&&a.m(t,null),h(t,n),s&&s.m(t,null)},p(e,o){e[10]?a?a.p(e,o):(a=We(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),299008&o&&r!==(r=e[12](e[18](e[29]),e[29],e[15](e[18](e[29])))+"")&&F(n,r),e[11]?s?s.p(e,o):(s=Ae(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},d(e){e&&x(t),a&&a.d(),s&&s.d()}}}function We(e){let t,n;return{c(){t=C("span"),n=T(e[10]),E(t,"class","pipVal-prefix")},m(e,r){$(e,t,r),h(t,n)},p(e,t){1024&t&&F(n,e[10])},d(e){e&&x(t)}}}function Ae(e){let t,n;return{c(){t=C("span"),n=T(e[11]),E(t,"class","pipVal-suffix")},m(e,r){$(e,t,r),h(t,n)},p(e,t){2048&t&&F(n,e[11])},d(e){e&&x(t)}}}function je(e){let t,n=e[18](e[29])!==e[0]&&e[18](e[29])!==e[1],r=n&&Oe(e);return{c(){r&&r.c(),t=M()},m(e,n){r&&r.m(e,n),$(e,t,n)},p(e,a){262147&a&&(n=e[18](e[29])!==e[0]&&e[18](e[29])!==e[1]),n?r?r.p(e,a):(r=Oe(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&x(t)}}}function Qe(e){let t,n,r,o,i=("label"===e[6]||"label"===e[8])&&Re(e);return{c(){t=C("span"),i&&i.c(),E(t,"class","pip last"),E(t,"style",n=e[14]+": 100%;"),W(t,"selected",e[17](e[1])),W(t,"in-range",e[16](e[1]))},m(n,a){$(n,t,a),i&&i.m(t,null),r||(o=[N(t,"click",(function(){s(e[20](e[1]))&&e[20](e[1]).apply(this,arguments)})),N(t,"touchend",S((function(){s(e[20](e[1]))&&e[20](e[1]).apply(this,arguments)})))],r=!0)},p(r,a){"label"===(e=r)[6]||"label"===e[8]?i?i.p(e,a):(i=Re(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null),16384&a&&n!==(n=e[14]+": 100%;")&&E(t,"style",n),131074&a&&W(t,"selected",e[17](e[1])),65538&a&&W(t,"in-range",e[16](e[1]))},d(e){e&&x(t),i&&i.d(),r=!1,a(o)}}}function Re(e){let t,n,r=e[12](e[1],e[19],100)+"",a=e[10]&&De(e),s=e[11]&&Ie(e);return{c(){t=C("span"),a&&a.c(),n=T(r),s&&s.c(),E(t,"class","pipVal")},m(e,r){$(e,t,r),a&&a.m(t,null),h(t,n),s&&s.m(t,null)},p(e,o){e[10]?a?a.p(e,o):(a=De(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),528386&o&&r!==(r=e[12](e[1],e[19],100)+"")&&F(n,r),e[11]?s?s.p(e,o):(s=Ie(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},d(e){e&&x(t),a&&a.d(),s&&s.d()}}}function De(e){let t,n;return{c(){t=C("span"),n=T(e[10]),E(t,"class","pipVal-prefix")},m(e,r){$(e,t,r),h(t,n)},p(e,t){1024&t&&F(n,e[10])},d(e){e&&x(t)}}}function Ie(e){let t,n;return{c(){t=C("span"),n=T(e[11]),E(t,"class","pipVal-suffix")},m(e,r){$(e,t,r),h(t,n)},p(e,t){2048&t&&F(n,e[11])},d(e){e&&x(t)}}}function Le(t){let n,r,a,s=(t[6]&&!1!==t[7]||t[7])&&Se(t),o=(t[6]&&!1!==t[9]||t[9])&&ze(t),i=(t[6]&&!1!==t[8]||t[8])&&Qe(t);return{c(){n=C("div"),s&&s.c(),r=_(),o&&o.c(),a=_(),i&&i.c(),E(n,"class","rangePips"),W(n,"disabled",t[5]),W(n,"hoverable",t[4]),W(n,"vertical",t[2]),W(n,"reversed",t[3]),W(n,"focus",t[13])},m(e,t){$(e,n,t),s&&s.m(n,null),h(n,r),o&&o.m(n,null),h(n,a),i&&i.m(n,null)},p(e,[t]){e[6]&&!1!==e[7]||e[7]?s?s.p(e,t):(s=Se(e),s.c(),s.m(n,r)):s&&(s.d(1),s=null),e[6]&&!1!==e[9]||e[9]?o?o.p(e,t):(o=ze(e),o.c(),o.m(n,a)):o&&(o.d(1),o=null),e[6]&&!1!==e[8]||e[8]?i?i.p(e,t):(i=Qe(e),i.c(),i.m(n,null)):i&&(i.d(1),i=null),32&t&&W(n,"disabled",e[5]),16&t&&W(n,"hoverable",e[4]),4&t&&W(n,"vertical",e[2]),8&t&&W(n,"reversed",e[3]),8192&t&&W(n,"focus",e[13])},i:e,o:e,d(e){e&&x(n),s&&s.d(),o&&o.d(),i&&i.d()}}}function Be(e,t,n){let r,a,s,o,i,{range:l=!1}=t,{min:u=0}=t,{max:c=100}=t,{step:d=1}=t,{values:f=[(c+u)/2]}=t,{vertical:p=!1}=t,{reversed:v=!1}=t,{hoverable:g=!0}=t,{disabled:m=!1}=t,{pipstep:h}=t,{all:y=!0}=t,{first:b}=t,{last:$}=t,{rest:x}=t,{prefix:w=""}=t,{suffix:C=""}=t,{formatter:k=((e,t)=>e)}=t,{focus:T}=t,{orientationStart:_}=t,{percentOf:M}=t,{moveHandle:N}=t;return e.$$set=e=>{"range"in e&&n(21,l=e.range),"min"in e&&n(0,u=e.min),"max"in e&&n(1,c=e.max),"step"in e&&n(22,d=e.step),"values"in e&&n(23,f=e.values),"vertical"in e&&n(2,p=e.vertical),"reversed"in e&&n(3,v=e.reversed),"hoverable"in e&&n(4,g=e.hoverable),"disabled"in e&&n(5,m=e.disabled),"pipstep"in e&&n(24,h=e.pipstep),"all"in e&&n(6,y=e.all),"first"in e&&n(7,b=e.first),"last"in e&&n(8,$=e.last),"rest"in e&&n(9,x=e.rest),"prefix"in e&&n(10,w=e.prefix),"suffix"in e&&n(11,C=e.suffix),"formatter"in e&&n(12,k=e.formatter),"focus"in e&&n(13,T=e.focus),"orientationStart"in e&&n(14,_=e.orientationStart),"percentOf"in e&&n(15,M=e.percentOf),"moveHandle"in e&&n(25,N=e.moveHandle)},e.$$.update=()=>{20971527&e.$$.dirty&&n(26,r=h||((c-u)/d>=(p?50:100)?(c-u)/(p?10:20):1)),71303171&e.$$.dirty&&n(19,a=parseInt((c-u)/(d*r),10)),71303169&e.$$.dirty&&n(18,s=function(e){return u+e*d*r}),8388608&e.$$.dirty&&n(17,o=function(e){return f.some((t=>t===e))}),10485760&e.$$.dirty&&n(16,i=function(e){return"min"===l?f[0]>e:"max"===l?f[0]<e:l?f[0]<e&&f[1]>e:void 0})},[u,c,p,v,g,m,y,b,$,x,w,C,k,T,_,M,i,o,s,a,function(e){N(void 0,e)},l,d,f,h,N,r]}class Ve extends we{constructor(e){super(),xe(this,e,Be,Le,o,{range:21,min:0,max:1,step:22,values:23,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:24,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:25})}}function He(e,t,n){const r=e.slice();return r[63]=t[n],r[65]=n,r}function Ze(e){let t,n,r=e[20](e[63],e[65],e[22](e[63]))+"",a=e[17]&&Ge(e),s=e[18]&&Ue(e);return{c(){t=C("span"),a&&a.c(),n=T(r),s&&s.c(),E(t,"class","rangeFloat")},m(e,r){$(e,t,r),a&&a.m(t,null),h(t,n),s&&s.m(t,null)},p(e,o){e[17]?a?a.p(e,o):(a=Ge(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),5242881&o[0]&&r!==(r=e[20](e[63],e[65],e[22](e[63]))+"")&&F(n,r),e[18]?s?s.p(e,o):(s=Ue(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},d(e){e&&x(t),a&&a.d(),s&&s.d()}}}function Ge(e){let t,n;return{c(){t=C("span"),n=T(e[17]),E(t,"class","rangeFloat-prefix")},m(e,r){$(e,t,r),h(t,n)},p(e,t){131072&t[0]&&F(n,e[17])},d(e){e&&x(t)}}}function Ue(e){let t,n;return{c(){t=C("span"),n=T(e[18]),E(t,"class","rangeFloat-suffix")},m(e,r){$(e,t,r),h(t,n)},p(e,t){262144&t[0]&&F(n,e[18])},d(e){e&&x(t)}}}function Ke(e){let t,n,r,s,o,i,l,u,c,d,f,p,v,g=e[6]&&Ze(e);return{c(){t=C("span"),n=C("span"),r=_(),g&&g.c(),E(n,"class","rangeNub"),E(t,"role","slider"),E(t,"class","rangeHandle"),E(t,"data-handle",s=e[65]),E(t,"style",o=e[28]+": "+e[29][e[65]]+"%; z-index: "+(e[26]===e[65]?3:2)+";"),E(t,"aria-valuemin",i=!0===e[1]&&1===e[65]?e[0][0]:e[2]),E(t,"aria-valuemax",l=!0===e[1]&&0===e[65]?e[0][1]:e[3]),E(t,"aria-valuenow",u=e[63]),E(t,"aria-valuetext",c=""+(e[17]+e[20](e[63],e[65],e[22](e[63]))+e[18])),E(t,"aria-orientation",d=e[5]?"vertical":"horizontal"),E(t,"aria-disabled",e[9]),E(t,"disabled",e[9]),E(t,"tabindex",f=e[9]?-1:0),W(t,"active",e[24]&&e[26]===e[65]),W(t,"press",e[25]&&e[26]===e[65])},m(a,s){$(a,t,s),h(t,n),h(t,r),g&&g.m(t,null),p||(v=[N(t,"blur",e[33]),N(t,"focus",e[34]),N(t,"keydown",e[35])],p=!0)},p(e,n){e[6]?g?g.p(e,n):(g=Ze(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),872415232&n[0]&&o!==(o=e[28]+": "+e[29][e[65]]+"%; z-index: "+(e[26]===e[65]?3:2)+";")&&E(t,"style",o),7&n[0]&&i!==(i=!0===e[1]&&1===e[65]?e[0][0]:e[2])&&E(t,"aria-valuemin",i),11&n[0]&&l!==(l=!0===e[1]&&0===e[65]?e[0][1]:e[3])&&E(t,"aria-valuemax",l),1&n[0]&&u!==(u=e[63])&&E(t,"aria-valuenow",u),5636097&n[0]&&c!==(c=""+(e[17]+e[20](e[63],e[65],e[22](e[63]))+e[18]))&&E(t,"aria-valuetext",c),32&n[0]&&d!==(d=e[5]?"vertical":"horizontal")&&E(t,"aria-orientation",d),512&n[0]&&E(t,"aria-disabled",e[9]),512&n[0]&&E(t,"disabled",e[9]),512&n[0]&&f!==(f=e[9]?-1:0)&&E(t,"tabindex",f),83886080&n[0]&&W(t,"active",e[24]&&e[26]===e[65]),100663296&n[0]&&W(t,"press",e[25]&&e[26]===e[65])},d(e){e&&x(t),g&&g.d(),p=!1,a(v)}}}function Xe(e){let t,n;return{c(){t=C("span"),E(t,"class","rangeBar"),E(t,"style",n=e[28]+": "+e[31](e[29])+"%; "+e[27]+": "+e[32](e[29])+"%;")},m(e,n){$(e,t,n)},p(e,r){939524096&r[0]&&n!==(n=e[28]+": "+e[31](e[29])+"%; "+e[27]+": "+e[32](e[29])+"%;")&&E(t,"style",n)},d(e){e&&x(t)}}}function Je(e){let t,n;return t=new Ve({props:{values:e[0],min:e[2],max:e[3],step:e[4],range:e[1],vertical:e[5],reversed:e[7],orientationStart:e[28],hoverable:e[8],disabled:e[9],all:e[12],first:e[13],last:e[14],rest:e[15],pipstep:e[11],prefix:e[17],suffix:e[18],formatter:e[19],focus:e[24],percentOf:e[22],moveHandle:e[30]}}),{c(){he(t.$$.fragment)},m(e,r){ye(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.values=e[0]),4&n[0]&&(r.min=e[2]),8&n[0]&&(r.max=e[3]),16&n[0]&&(r.step=e[4]),2&n[0]&&(r.range=e[1]),32&n[0]&&(r.vertical=e[5]),128&n[0]&&(r.reversed=e[7]),268435456&n[0]&&(r.orientationStart=e[28]),256&n[0]&&(r.hoverable=e[8]),512&n[0]&&(r.disabled=e[9]),4096&n[0]&&(r.all=e[12]),8192&n[0]&&(r.first=e[13]),16384&n[0]&&(r.last=e[14]),32768&n[0]&&(r.rest=e[15]),2048&n[0]&&(r.pipstep=e[11]),131072&n[0]&&(r.prefix=e[17]),262144&n[0]&&(r.suffix=e[18]),524288&n[0]&&(r.formatter=e[19]),16777216&n[0]&&(r.focus=e[24]),4194304&n[0]&&(r.percentOf=e[22]),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function Ye(e){let t,n,r,s,o,i,l=e[0],u=[];for(let t=0;t<l.length;t+=1)u[t]=Ke(He(e,l,t));let c=e[1]&&Xe(e),d=e[10]&&Je(e);return{c(){t=C("div");for(let e=0;e<u.length;e+=1)u[e].c();n=_(),c&&c.c(),r=_(),d&&d.c(),E(t,"id",e[16]),E(t,"class","rangeSlider"),W(t,"range",e[1]),W(t,"disabled",e[9]),W(t,"hoverable",e[8]),W(t,"vertical",e[5]),W(t,"reversed",e[7]),W(t,"focus",e[24]),W(t,"min","min"===e[1]),W(t,"max","max"===e[1]),W(t,"pips",e[10]),W(t,"pip-labels","label"===e[12]||"label"===e[13]||"label"===e[14]||"label"===e[15])},m(a,l){$(a,t,l);for(let e=0;e<u.length;e+=1)u[e].m(t,null);h(t,n),c&&c.m(t,null),h(t,r),d&&d.m(t,null),e[49](t),s=!0,o||(i=[N(window,"mousedown",e[38]),N(window,"touchstart",e[38]),N(window,"mousemove",e[39]),N(window,"touchmove",e[39]),N(window,"mouseup",e[40]),N(window,"touchend",e[41]),N(window,"keydown",e[42]),N(t,"mousedown",e[36]),N(t,"mouseup",e[37]),N(t,"touchstart",S(e[36])),N(t,"touchend",S(e[37]))],o=!0)},p(e,a){if(928383599&a[0]|28&a[1]){let r;for(l=e[0],r=0;r<l.length;r+=1){const s=He(e,l,r);u[r]?u[r].p(s,a):(u[r]=Ke(s),u[r].c(),u[r].m(t,n))}for(;r<u.length;r+=1)u[r].d(1);u.length=l.length}e[1]?c?c.p(e,a):(c=Xe(e),c.c(),c.m(t,r)):c&&(c.d(1),c=null),e[10]?d?(d.p(e,a),1024&a[0]&&de(d,1)):(d=Je(e),d.c(),de(d,1),d.m(t,null)):d&&(ue(),fe(d,1,1,(()=>{d=null})),ce()),(!s||65536&a[0])&&E(t,"id",e[16]),2&a[0]&&W(t,"range",e[1]),512&a[0]&&W(t,"disabled",e[9]),256&a[0]&&W(t,"hoverable",e[8]),32&a[0]&&W(t,"vertical",e[5]),128&a[0]&&W(t,"reversed",e[7]),16777216&a[0]&&W(t,"focus",e[24]),2&a[0]&&W(t,"min","min"===e[1]),2&a[0]&&W(t,"max","max"===e[1]),1024&a[0]&&W(t,"pips",e[10]),61440&a[0]&&W(t,"pip-labels","label"===e[12]||"label"===e[13]||"label"===e[14]||"label"===e[15])},i(e){s||(de(d),s=!0)},o(e){fe(d),s=!1},d(n){n&&x(t),w(u,n),c&&c.d(),d&&d.d(),e[49](null),o=!1,a(i)}}}function et(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function tt(e){return e.type.includes("touch")?e.touches[0]:e}function nt(t,n,r){let a,s,o,l,u,c,d=e;t.$$.on_destroy.push((()=>d()));let{range:f=!1}=n,{pushy:p=!1}=n,{min:v=0}=n,{max:g=100}=n,{step:m=1}=n,{values:h=[(g+v)/2]}=n,{vertical:y=!1}=n,{float:b=!1}=n,{reversed:$=!1}=n,{hoverable:x=!0}=n,{disabled:w=!1}=n,{pips:C=!1}=n,{pipstep:k}=n,{all:T}=n,{first:_}=n,{last:M}=n,{rest:N}=n,{id:S}=n,{prefix:E=""}=n,{suffix:q=""}=n,{formatter:F=((e,t,n)=>e)}=n,{handleFormatter:z=F}=n,{precision:O=2}=n,{springValues:P={stiffness:.15,damping:.4}}=n;const W=function(){const e=B();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const a=A(t,n);r.slice().forEach((t=>{t.call(e,a)}))}}}();let j,Q,R,D,I=0,L=!1,V=!1,H=!1,G=!1,U=h.length-1;function K(){return j.getBoundingClientRect()}function X(e){const t=K();let n=0,r=0,a=0;y?(n=e.clientY-t.top,r=n/t.height*100,r=$?r:100-r):(n=e.clientX-t.left,r=n/t.width*100,r=$?100-r:r),a=(g-v)/100*r+v,J(U,a)}function J(e,t){return t=o(t),void 0===e&&(e=U),f&&(0===e&&t>h[1]?p?r(0,h[1]=t,h):t=h[1]:1===e&&t<h[0]&&(p?r(0,h[0]=t,h):t=h[0])),h[e]!==t&&r(0,h[e]=t,h),R!==t&&(!w&&W("change",{activeHandle:U,startValue:Q,previousValue:void 0===R?Q:R,value:h[U],values:h.map((e=>o(e)))}),R=t),t}function Y(){!w&&W("stop",{activeHandle:U,startValue:Q,value:h[U],values:h.map((e=>o(e)))})}return t.$$set=e=>{"range"in e&&r(1,f=e.range),"pushy"in e&&r(43,p=e.pushy),"min"in e&&r(2,v=e.min),"max"in e&&r(3,g=e.max),"step"in e&&r(4,m=e.step),"values"in e&&r(0,h=e.values),"vertical"in e&&r(5,y=e.vertical),"float"in e&&r(6,b=e.float),"reversed"in e&&r(7,$=e.reversed),"hoverable"in e&&r(8,x=e.hoverable),"disabled"in e&&r(9,w=e.disabled),"pips"in e&&r(10,C=e.pips),"pipstep"in e&&r(11,k=e.pipstep),"all"in e&&r(12,T=e.all),"first"in e&&r(13,_=e.first),"last"in e&&r(14,M=e.last),"rest"in e&&r(15,N=e.rest),"id"in e&&r(16,S=e.id),"prefix"in e&&r(17,E=e.prefix),"suffix"in e&&r(18,q=e.suffix),"formatter"in e&&r(19,F=e.formatter),"handleFormatter"in e&&r(20,z=e.handleFormatter),"precision"in e&&r(44,O=e.precision),"springValues"in e&&r(45,P=e.springValues)},t.$$.update=()=>{12&t.$$.dirty[0]&&r(48,s=function(e){return e<=v?v:e>=g?g:e}),28&t.$$.dirty[0]|139264&t.$$.dirty[1]&&r(47,o=function(e){if(e<=v)return v;if(e>=g)return g;let t=(e-v)%m,n=e-t;return 2*Math.abs(t)>=m&&(n+=t>0?m:-m),n=s(n),parseFloat(n.toFixed(O))}),12&t.$$.dirty[0]|8192&t.$$.dirty[1]&&r(22,a=function(e){let t=(e-v)/(g-v)*100;return isNaN(t)||t<=0?0:t>=100?100:parseFloat(t.toFixed(O))}),6291469&t.$$.dirty[0]|114688&t.$$.dirty[1]&&(Array.isArray(h)||(r(0,h=[(g+v)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),r(0,h=function(e){return"min"===f||"max"===f?e.slice(0,1):f?e.slice(0,2):e}(h.map((e=>o(e))))),I!==h.length?(r(21,D=Me(h.map((e=>a(e))),P)),d(),d=i(D,(e=>r(29,c=e)))):D.set(h.map((e=>a(e)))),r(46,I=h.length)),160&t.$$.dirty[0]&&r(28,l=y?$?"top":"bottom":$?"right":"left"),160&t.$$.dirty[0]&&r(27,u=y?$?"bottom":"top":$?"left":"right")},[h,f,v,g,m,y,b,$,x,w,C,k,T,_,M,N,S,E,q,F,z,D,a,j,L,H,U,u,l,c,J,function(e){return"min"===f?0:e[0]},function(e){return"max"===f?0:"min"===f?100-e[0]:100-e[1]},function(e){G&&(r(24,L=!1),V=!1,r(25,H=!1))},function(e){w||(r(26,U=et(e.target)),r(24,L=!0))},function(e){if(!w){const t=et(e.target);let n=e.ctrlKey||e.metaKey||e.shiftKey?10*m:m,r=!1;switch(e.key){case"PageDown":n*=10;case"ArrowRight":case"ArrowUp":J(t,h[t]+n),r=!0;break;case"PageUp":n*=10;case"ArrowLeft":case"ArrowDown":J(t,h[t]-n),r=!0;break;case"Home":J(t,v),r=!0;break;case"End":J(t,g),r=!0}r&&(e.preventDefault(),e.stopPropagation())}},function(e){if(!w){const t=e.target,n=tt(e);r(24,L=!0),V=!0,r(25,H=!0),r(26,U=function(e){const t=K();let n,r=0,a=0,s=0;return y?(r=e.clientY-t.top,a=r/t.height*100,a=$?a:100-a):(r=e.clientX-t.left,a=r/t.width*100,a=$?100-a:a),s=(g-v)/100*a+v,!0===f&&h[0]===h[1]?s>h[1]?1:0:(n=h.indexOf([...h].sort(((e,t)=>Math.abs(s-e)-Math.abs(s-t)))[0]),n)}(n)),Q=R=o(h[U]),!w&&W("start",{activeHandle:U,value:Q,values:h.map((e=>o(e)))}),"touchstart"!==e.type||t.matches(".pipVal")||X(n)}},function(e){"touchend"===e.type&&Y(),r(25,H=!1)},function(e){G=!1,L&&e.target!==j&&!j.contains(e.target)&&r(24,L=!1)},function(e){w||V&&X(tt(e))},function(e){if(!w){const t=e.target;V&&((t===j||j.contains(t))&&(r(24,L=!0),function(e){const t=j.querySelectorAll(".handle"),n=Array.prototype.includes.call(t,e),r=Array.prototype.some.call(t,(t=>t.contains(e)));return n||r}(t)||t.matches(".pipVal")||X(tt(e))),Y())}V=!1,r(25,H=!1)},function(e){V=!1,r(25,H=!1)},function(e){w||(e.target===j||j.contains(e.target))&&(G=!0)},p,O,P,I,o,s,function(e){Z[e?"unshift":"push"]((()=>{j=e,r(23,j)}))}]}class rt extends we{constructor(e){super(),xe(this,e,nt,Ye,o,{range:1,pushy:43,min:2,max:3,step:4,values:0,vertical:5,float:6,reversed:7,hoverable:8,disabled:9,pips:10,pipstep:11,all:12,first:13,last:14,rest:15,id:16,prefix:17,suffix:18,formatter:19,handleFormatter:20,precision:44,springValues:45},null,[-1,-1,-1])}}function at(e){let t;return{c(){t=C("div"),E(t,"class","gauge__fill centerMark svelte-141x32p")},m(e,n){$(e,t,n)},d(e){e&&x(t)}}}function st(e){let t;return{c(){t=C("div"),E(t,"class","gauge__fill lowZone svelte-141x32p")},m(e,n){$(e,t,n)},d(e){e&&x(t)}}}function ot(e){let t;return{c(){t=C("div"),E(t,"class","gauge__fill hiZone svelte-141x32p")},m(e,n){$(e,t,n)},d(e){e&&x(t)}}}function it(e){let t,n,r,a=(100*e[0]).toFixed()+"";return{c(){t=C("div"),n=T(a),r=T("%"),E(t,"class","gauge__cover svelte-141x32p")},m(e,a){$(e,t,a),h(t,n),h(t,r)},p(e,t){1&t&&a!==(a=(100*e[0]).toFixed()+"")&&F(n,a)},d(e){e&&x(t)}}}function lt(e){let t,n;return{c(){t=C("div"),n=T(e[1]),E(t,"class","gauge__cover svelte-141x32p")},m(e,r){$(e,t,r),h(t,n)},p(e,t){2&t&&F(n,e[1])},d(e){e&&x(t)}}}function ut(t){let n,r,a,s,o,i,l,u=t[2]&&at(),c=t[3]&&st(),d=t[4]&&ot();function f(e,t){return null!==e[1]?lt:it}let p=f(t),v=p(t);return{c(){n=C("div"),r=C("div"),a=C("div"),s=_(),u&&u.c(),o=_(),c&&c.c(),i=_(),d&&d.c(),l=_(),v.c(),E(a,"class","gauge__fill svelte-141x32p"),E(a,"style",t[5]),W(a,"needle",t[2]),E(r,"class","gauge__body svelte-141x32p"),E(n,"class","gauge svelte-141x32p"),E(n,"data-testid","gauge")},m(e,t){$(e,n,t),h(n,r),h(r,a),h(r,s),u&&u.m(r,null),h(r,o),c&&c.m(r,null),h(r,i),d&&d.m(r,null),h(r,l),v.m(r,null)},p(e,[t]){32&t&&E(a,"style",e[5]),4&t&&W(a,"needle",e[2]),e[2]?u||(u=at(),u.c(),u.m(r,o)):u&&(u.d(1),u=null),e[3]?c||(c=st(),c.c(),c.m(r,i)):c&&(c.d(1),c=null),e[4]?d||(d=ot(),d.c(),d.m(r,l)):d&&(d.d(1),d=null),p===(p=f(e))&&v?v.p(e,t):(v.d(1),v=p(e),v&&(v.c(),v.m(r,null)))},i:e,o:e,d(e){e&&x(n),u&&u.d(),c&&c.d(),d&&d.d(),v.d()}}}function ct(e,t,n){let r,a,{value:s=.5}=t,{label:o=null}=t,{needle:i=!1}=t,{lowZone:l=!1}=t,{hiZone:u=!1}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"label"in e&&n(1,o=e.label),"needle"in e&&n(2,i=e.needle),"lowZone"in e&&n(3,l=e.lowZone),"hiZone"in e&&n(4,u=e.hiZone)},e.$$.update=()=>{1&e.$$.dirty&&n(6,r=+s<=0?.02:+s>=1?.98:+s),64&e.$$.dirty&&n(5,a=`transform: rotate(${(r/2).toFixed(4)}turn)`)},[s,o,i,l,u,a,r]}class dt extends we{constructor(e){super(),xe(this,e,ct,ut,o,{value:0,label:1,needle:2,lowZone:3,hiZone:4})}}function ft(e,{delay:n=0,duration:r=400,easing:a=t}={}){const s=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:a,css:e=>"opacity: "+e*s}}var pt;const vt="gbSettings",gt="4.0.4",mt=ke("chart"),ht={srsCounts:{expectedDaily:0,new:{radicals:0,kanji:0,vocabulary:0,total:0},apprentice:{early:0,late:0,total:0},lesson:0,guru:0,master:0,enlightened:0,burned:0},sessionSummaries:[],reviewCounts:[],gbSettings:{version:gt,daysToReview:4,position:"Top",bgColor:"#f4f4f4",trackColor:"#e0e0e0",textColor:"#333333",hlTextColor:"#fbb623",fillColor:"#59c273",warnColor:"#fbb623",hlTrackColor:"#d1e8d4",gbMinTarget:130,gbMaxTarget:170,aboveTerm:"休",belowTerm:"努力",inRangeTerm:"良",newRWeight:.6,newKWeight:3,newVWeight:1,apprWeight:1,guruWeight:.1,masterWeight:0,enlightenedWeight:0,targetQPM:8.5,minQPM:7,maxQPM:10,madCutoff:10,rpdMin:120,rpdMax:180,tzOffset:0,rQuiz:!1,kQuiz:!0,vQuiz:!1}},yt=e=>JSON.parse(e).map((e=>Object.assign(Object.assign({},e),{start:new Date(e.start),end:new Date(e.end)}))),bt=localStorage.getItem("srsCounts"),$t=ke(bt?JSON.parse(bt):ht.srsCounts);$t.subscribe((e=>{localStorage.setItem("srsCounts",JSON.stringify(e))}));const xt=localStorage.getItem("sessionSummaries"),wt=ke(xt?yt(xt):ht.sessionSummaries);wt.subscribe((e=>{localStorage.setItem("sessionSummaries",JSON.stringify(e))}));const Ct=localStorage.getItem("reviewCounts"),kt=ke(Ct?yt(Ct):ht.reviewCounts);kt.subscribe((e=>{localStorage.setItem("reviewCounts",JSON.stringify(e))}));const Tt=ht.gbSettings,_t=ke(null!==(pt=JSON.parse(localStorage.getItem(vt)))&&void 0!==pt?pt:Tt);_t.subscribe((e=>{e.version===gt?localStorage.setItem(vt,JSON.stringify(e)):(_t.set(Tt),$t.set(ht.srsCounts),wt.set(ht.sessionSummaries),kt.set(ht.reviewCounts))}));function Mt(t){let n,r,a,s,o,i,l,u,c,d,f,p,v,g,m,y,b,w,k,M,N,S,q,z,O,P,W,A,j,Q,R,D,I,L,B,V,H,Z,G,U,K,X,Y,ee,te,ne,re,ae,se,oe,ie,le,ue,ce,de,fe,pe,ge=t[3].new.radicals+"",me=t[3].new.kanji+"",he=t[3].new.vocabulary+"",ye=t[3].apprentice.total+"",be=t[3].apprentice.early+"",$e=t[3].guru+"",xe=t[3].master+"",we=t[3].enlightened+"",Ce=t[0].toFixed()+"",ke=t[2].gbMinTarget+"",Te=t[2].gbMaxTarget+"";return{c(){n=C("h1"),r=T("GanbarOmeter: "),a=T(t[5]),o=_(),i=C("div"),l=C("table"),u=C("tr"),c=C("th"),c.textContent="Early Apprentice",d=_(),f=C("td"),p=T(ge),v=C("span"),v.textContent="r",g=_(),m=T(me),y=C("span"),y.textContent="k",b=_(),w=T(he),k=C("span"),k.textContent="v",M=_(),N=C("tr"),S=C("th"),S.textContent="Apprentice",q=_(),z=C("td"),O=T(ye),P=_(),W=C("span"),A=T("items\n            ("),j=T(be),Q=T(" early-stage)"),R=_(),D=C("tr"),I=C("th"),I.textContent="Learned",L=_(),B=C("td"),V=T($e),H=C("span"),H.textContent="g",Z=_(),G=T(xe),U=C("span"),U.textContent="m",K=_(),X=T(we),Y=C("span"),Y.textContent="e",ee=_(),te=C("tr"),ne=C("th"),ne.textContent="Weighted count",re=_(),ae=C("td"),se=T(Ce),oe=_(),ie=C("span"),le=T("(target "),ue=T(ke),ce=T("–"),de=T(Te),fe=T(")"),E(n,"class","gbHeader"),E(v,"class","secondary"),E(y,"class","secondary"),E(k,"class","secondary"),E(W,"class","secondary"),E(H,"class","secondary"),E(U,"class","secondary"),E(Y,"class","secondary"),E(ie,"class","secondary"),E(l,"class","gbContent"),E(i,"data-testid","ganbarometer-table")},m(e,t){$(e,n,t),h(n,r),h(n,a),$(e,o,t),$(e,i,t),h(i,l),h(l,u),h(u,c),h(u,d),h(u,f),h(f,p),h(f,v),h(f,g),h(f,m),h(f,y),h(f,b),h(f,w),h(f,k),h(l,M),h(l,N),h(N,S),h(N,q),h(N,z),h(z,O),h(z,P),h(z,W),h(W,A),h(W,j),h(W,Q),h(l,R),h(l,D),h(D,I),h(D,L),h(D,B),h(B,V),h(B,H),h(B,Z),h(B,G),h(B,U),h(B,K),h(B,X),h(B,Y),h(l,ee),h(l,te),h(te,ne),h(te,re),h(te,ae),h(ae,se),h(ae,oe),h(ae,ie),h(ie,le),h(ie,ue),h(ie,ce),h(ie,de),h(ie,fe)},p(e,t){32&t&&F(a,e[5]),8&t&&ge!==(ge=e[3].new.radicals+"")&&F(p,ge),8&t&&me!==(me=e[3].new.kanji+"")&&F(m,me),8&t&&he!==(he=e[3].new.vocabulary+"")&&F(w,he),8&t&&ye!==(ye=e[3].apprentice.total+"")&&F(O,ye),8&t&&be!==(be=e[3].apprentice.early+"")&&F(j,be),8&t&&$e!==($e=e[3].guru+"")&&F(V,$e),8&t&&xe!==(xe=e[3].master+"")&&F(G,xe),8&t&&we!==(we=e[3].enlightened+"")&&F(X,we),1&t&&Ce!==(Ce=e[0].toFixed()+"")&&F(se,Ce),4&t&&ke!==(ke=e[2].gbMinTarget+"")&&F(ue,ke),4&t&&Te!==(Te=e[2].gbMaxTarget+"")&&F(de,Te)},i(e){s||J((()=>{s=ve(n,ft,{}),s.start()})),pe||J((()=>{pe=ve(i,ft,{}),pe.start()}))},o:e,d(e){e&&x(n),e&&x(o),e&&x(i)}}}function Nt(e){let t,n,r,a,s,o;return r=new dt({props:{value:e[1],label:e[4],needle:!0,lowZone:!0,hiZone:!0}}),{c(){t=C("h1"),t.textContent="GanbarOmeter",n=_(),he(r.$$.fragment),a=_(),s=C("div"),s.innerHTML='<span class="left-aligned svelte-1rtibr8">遅</span><span class="right-aligned svelte-1rtibr8">早</span>',E(t,"class","gbHeader"),E(s,"class","units svelte-1rtibr8")},m(e,i){$(e,t,i),$(e,n,i),ye(r,e,i),$(e,a,i),$(e,s,i),o=!0},p(e,t){const n={};2&t&&(n.value=e[1]),16&t&&(n.label=e[4]),r.$set(n)},i(e){o||(de(r.$$.fragment,e),o=!0)},o(e){fe(r.$$.fragment,e),o=!1},d(e){e&&x(t),e&&x(n),be(r,e),e&&x(a),e&&x(s)}}}function St(e){let t,n,r,a;const s=[Nt,Mt],o=[];function i(e,t){return"chart"===e[6]?0:1}return n=i(e),r=o[n]=s[n](e),{c(){t=C("div"),r.c(),E(t,"class","gbWidget"),O(t,"--trackColor",e[2].hlTrackColor),O(t,"--hlTrackColor",e[2].trackColor)},m(e,r){$(e,t,r),o[n].m(t,null),a=!0},p(e,[l]){let u=n;n=i(e),n===u?o[n].p(e,l):(ue(),fe(o[u],1,1,(()=>{o[u]=null})),ce(),r=o[n],r?r.p(e,l):(r=o[n]=s[n](e),r.c()),de(r,1),r.m(t,null)),(!a||4&l)&&O(t,"--trackColor",e[2].hlTrackColor),(!a||4&l)&&O(t,"--hlTrackColor",e[2].trackColor)},i(e){a||(de(r),a=!0)},o(e){fe(r),a=!1},d(e){e&&x(t),o[n].d()}}}function Et(e,t,n){let r,a,s,o,i,u,c,d,f,p;l(e,_t,(e=>n(2,d=e))),l(e,$t,(e=>n(3,f=e))),l(e,mt,(e=>n(6,p=e)));const v=2/3*.5;return e.$$.update=()=>{12&e.$$.dirty&&n(0,r=f.new.radicals*d.newRWeight+f.new.kanji*d.newKWeight+f.new.vocabulary*d.newVWeight+f.apprentice.late*d.apprWeight+f.guru*d.guruWeight+f.master*d.masterWeight+f.enlightened*d.enlightenedWeight),4&e.$$.dirty&&n(9,a=v/(d.gbMaxTarget-d.gbMinTarget)),517&e.$$.dirty&&n(8,s=v+(r-d.gbMinTarget)*a),256&e.$$.dirty&&n(1,o=s<0?0:s>1?1:s),2&e.$$.dirty&&n(7,i=(o-.5).toFixed(2)),130&e.$$.dirty&&n(5,u=o>.5?"+"+i:i),5&e.$$.dirty&&n(4,c=r<d.gbMinTarget?d.belowTerm:r>d.gbMaxTarget?d.aboveTerm:d.inRangeTerm)},(async()=>{wkof.include("ItemData"),await wkof.ready("ItemData");const e=await wkof.ItemData.get_items("subjects,assignments"),t=await wkof.ItemData.get_index(e,"srs_stage"),n=Object.assign({0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],"-1":[]},t),r=[...n[1],...n[2]],a=r.filter((e=>"radical"===e.object)),s=r.filter((e=>"kanji"===e.object)),o=r.filter((e=>"vocabulary"===e.object)),i=[0,.5,1,1,2,7,14,30,120,0];let l=[];return[0,1,2,3,4,5,6,7,8,9,-1].forEach((e=>{l[e]=n[e].length})),{expectedDaily:[1,2,3,4,5,6,7,8].map((e=>l[e]/i[e])).reduce(((e,t)=>e+t)),new:{radicals:a.length,kanji:s.length,vocabulary:o.length,total:r.length},apprentice:{early:l[1]+l[2],late:l[3]+l[4],total:l[1]+l[2]+l[3]+l[4]},lesson:l[0],guru:l[5]+l[6],master:l[7],enlightened:l[8],burned:l[9]}})().then((e=>$t.set(e))),[r,o,d,f,c,u,p,i,s,a]}class qt extends we{constructor(e){super(),xe(this,e,Et,St,o,{})}}function Ft(e,t,n){const r=e.slice();return r[18]=t[n],r[20]=n,r}function zt(t){let n,r,a,s,o,i,l,u,c,d,f,p,v,g,m,y,b,k,M,N=t[1].toFixed(1)+"",S=t[0].toFixed(1)+"",q=t[4].length+"",z=t[4].reverse(),O=[];for(let e=0;e<z.length;e+=1)O[e]=Pt(Ft(t,z,e));return{c(){n=C("h1"),r=T("Speed: "),a=T(N),s=T(" s/q • "),o=T(S),i=T(" q/m"),u=_(),c=C("div"),d=C("div"),f=C("h4"),p=T(q),v=T(" sessions • "),g=T(t[7]),m=T(" items • "),y=T(t[2]),b=T(" questions"),k=_();for(let e=0;e<O.length;e+=1)O[e].c();E(n,"class","gbHeader"),E(f,"class","svelte-ziwm73"),E(d,"class","gbContent scrollbox svelte-ziwm73"),E(c,"data-testid","speed-table")},m(e,t){$(e,n,t),h(n,r),h(n,a),h(n,s),h(n,o),h(n,i),$(e,u,t),$(e,c,t),h(c,d),h(d,f),h(f,p),h(f,v),h(f,g),h(f,m),h(f,y),h(f,b),h(d,k);for(let e=0;e<O.length;e+=1)O[e].m(d,null)},p(e,t){if(2&t&&N!==(N=e[1].toFixed(1)+"")&&F(a,N),1&t&&S!==(S=e[0].toFixed(1)+"")&&F(o,S),16&t&&q!==(q=e[4].length+"")&&F(p,q),128&t&&F(g,e[7]),4&t&&F(y,e[2]),32272&t){let n;for(z=e[4].reverse(),n=0;n<z.length;n+=1){const r=Ft(e,z,n);O[n]?O[n].p(r,t):(O[n]=Pt(r),O[n].c(),O[n].m(d,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=z.length}},i(e){l||J((()=>{l=ve(n,ft,{}),l.start()})),M||J((()=>{M=ve(c,ft,{}),M.start()}))},o:e,d(e){e&&x(n),e&&x(u),e&&x(c),w(O,e)}}}function Ot(e){let t,n,r,a,s,o;return r=new dt({props:{value:e[5],label:e[6],needle:!0,lowZone:!0,hiZone:!0}}),{c(){t=C("h1"),t.textContent="Speed",n=_(),he(r.$$.fragment),a=_(),s=C("div"),s.textContent="questions/min",E(t,"class","gbHeader"),E(s,"class","units")},m(e,i){$(e,t,i),$(e,n,i),ye(r,e,i),$(e,a,i),$(e,s,i),o=!0},p(e,t){const n={};32&t&&(n.value=e[5]),64&t&&(n.label=e[6]),r.$set(n)},i(e){o||(de(r.$$.fragment,e),o=!0)},o(e){fe(r.$$.fragment,e),o=!1},d(e){e&&x(t),e&&x(n),be(r,e),e&&x(a),e&&x(s)}}}function Pt(e){let t,n,r,a,s,o,i,l,u,c,d,f,p,v,g,m,y,b,w,k,M,N,S,q,z,O,P,W,A,j=e[20]+1+"",Q=e[10](e[18].start)+"",R=e[11](e[18].end)+"",D=(e[9](e[18])/60).toFixed()+"",I=e[18].reviewCount+"",L=e[18].questionCount+"",B=e[13](e[9](e[18]),e[18].questionCount)+"",V=e[14](e[9](e[18]),e[18].questionCount)+"",H=e[18].correctAnswerCount+"",Z=e[18].questionCount+"",G=e[12](e[18])+"";return{c(){t=C("article"),n=C("h5"),r=T(j),a=T(": "),s=T(Q),o=T(" – "),i=T(R),l=T("\n            ("),u=T(D),c=T("m)"),d=_(),f=C("p"),p=T(I),v=T(" items • "),g=T(L),m=T(" questions •\n            "),y=T(B),b=T(" s/q •\n            "),w=T(V),k=T(" q/m"),M=C("br"),N=_(),S=T(H),q=T("/"),z=T(Z),O=T(" =\n            "),P=T(G),W=T("% correct"),A=_(),E(n,"class","svelte-ziwm73"),E(f,"class","svelte-ziwm73"),E(t,"class","svelte-ziwm73")},m(e,x){$(e,t,x),h(t,n),h(n,r),h(n,a),h(n,s),h(n,o),h(n,i),h(n,l),h(n,u),h(n,c),h(t,d),h(t,f),h(f,p),h(f,v),h(f,g),h(f,m),h(f,y),h(f,b),h(f,w),h(f,k),h(f,M),h(f,N),h(f,S),h(f,q),h(f,z),h(f,O),h(f,P),h(f,W),h(t,A)},p(e,t){16&t&&Q!==(Q=e[10](e[18].start)+"")&&F(s,Q),16&t&&R!==(R=e[11](e[18].end)+"")&&F(i,R),16&t&&D!==(D=(e[9](e[18])/60).toFixed()+"")&&F(u,D),16&t&&I!==(I=e[18].reviewCount+"")&&F(p,I),16&t&&L!==(L=e[18].questionCount+"")&&F(g,L),16&t&&B!==(B=e[13](e[9](e[18]),e[18].questionCount)+"")&&F(y,B),16&t&&V!==(V=e[14](e[9](e[18]),e[18].questionCount)+"")&&F(w,V),16&t&&H!==(H=e[18].correctAnswerCount+"")&&F(S,H),16&t&&Z!==(Z=e[18].questionCount+"")&&F(z,Z),16&t&&G!==(G=e[12](e[18])+"")&&F(P,G)},d(e){e&&x(t)}}}function Wt(e){let t,n,r,a;const s=[Ot,zt],o=[];function i(e,t){return"chart"===e[8]?0:1}return n=i(e),r=o[n]=s[n](e),{c(){t=C("div"),r.c(),E(t,"class","gbWidget svelte-ziwm73"),E(t,"data-testid","speedWidget"),O(t,"--trackColor",e[3].hlTrackColor),O(t,"--hlTrackColor",e[3].trackColor)},m(e,r){$(e,t,r),o[n].m(t,null),a=!0},p(e,[l]){let u=n;n=i(e),n===u?o[n].p(e,l):(ue(),fe(o[u],1,1,(()=>{o[u]=null})),ce(),r=o[n],r?r.p(e,l):(r=o[n]=s[n](e),r.c()),de(r,1),r.m(t,null)),(!a||8&l)&&O(t,"--trackColor",e[3].hlTrackColor),(!a||8&l)&&O(t,"--hlTrackColor",e[3].trackColor)},i(e){a||(de(r),a=!0)},o(e){fe(r),a=!1},d(e){e&&x(t),o[n].d()}}}function At(e,t,n){let r,a,s,o,i,u,c,d,f,p;l(e,_t,(e=>n(3,d=e))),l(e,wt,(e=>n(4,f=e))),l(e,mt,(e=>n(8,p=e)));const v=e=>(e.end-e.start)/1e3;let g;const m=2/3*.5;return e.$$.update=()=>{16&e.$$.dirty&&n(7,r=f.reduce(((e,t)=>e+ +t.reviewCount),0)),16&e.$$.dirty&&n(2,a=f.reduce(((e,t)=>e+ +t.questionCount),0)),16&e.$$.dirty&&n(15,g=f.reduce(((e,t)=>e+v(t)),0)),32772&e.$$.dirty&&n(1,s=a>0?g/a:0),2&e.$$.dirty&&n(0,o=60/s),1&e.$$.dirty&&n(6,i=`${o.toFixed(1)}`),8&e.$$.dirty&&n(16,u=m/(d.maxQPM-d.minQPM)),65545&e.$$.dirty&&n(5,c=m+(o-d.minQPM)*u)},[o,s,a,d,f,c,i,r,p,v,e=>Intl.DateTimeFormat("en-US",{dateStyle:"short",timeStyle:"short"}).format(e),e=>Intl.DateTimeFormat("en-US",{timeStyle:"short"}).format(e),e=>(100*e.correctAnswerCount/e.questionCount).toFixed(1),(e,t)=>(e/t).toFixed(1),(e,t)=>(60*t/e).toFixed(1),g,u]}class jt extends we{constructor(e){super(),xe(this,e,At,Wt,o,{})}}function Qt(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Rt(e){let t;return{c(){t=C("td"),E(t,"aria-label","percents"),E(t,"class","percents svelte-qotrzq"),O(t,"height",(100*e[1][e[13]]).toFixed(1)+"%")},m(e,n){$(e,t,n)},p(e,n){2&n&&O(t,"height",(100*e[1][e[13]]).toFixed(1)+"%")},d(e){e&&x(t)}}}function Dt(e){let t,n,r,a=(100*e[1][e[13]]).toFixed()+"";return{c(){t=C("br"),n=T(a),r=T("%")},m(e,a){$(e,t,a),$(e,n,a),$(e,r,a)},p(e,t){2&t&&a!==(a=(100*e[1][e[13]]).toFixed()+"")&&F(n,a)},d(e){e&&x(t),e&&x(n),e&&x(r)}}}function It(e){let t,n,r,a,s,o,i,l,u,c=(e[2][e[13]]?e[2][e[13]]:"")+"",d=e[11]+"",f=e[1].length&&Rt(e),p=e[1].length&&Dt(e);return{c(){t=C("tr"),n=C("th"),r=T(c),a=_(),s=C("td"),o=_(),f&&f.c(),i=_(),l=C("span"),u=T(d),p&&p.c(),E(n,"scope","row"),E(n,"aria-label","label"),E(n,"class","svelte-qotrzq"),E(s,"aria-label","value"),E(s,"class","svelte-qotrzq"),E(l,"class","displayBox svelte-qotrzq"),E(l,"data-testid","displayBox"),E(t,"aria-label","values"),O(t,"height",e[10][e[13]]+"%"),E(t,"class","svelte-qotrzq")},m(e,c){$(e,t,c),h(t,n),h(n,r),h(t,a),h(t,s),h(t,o),f&&f.m(t,null),h(t,i),h(t,l),h(l,u),p&&p.m(l,null)},p(e,n){4&n&&c!==(c=(e[2][e[13]]?e[2][e[13]]:"")+"")&&F(r,c),e[1].length?f?f.p(e,n):(f=Rt(e),f.c(),f.m(t,i)):f&&(f.d(1),f=null),1&n&&d!==(d=e[11]+"")&&F(u,d),e[1].length?p?p.p(e,n):(p=Dt(e),p.c(),p.m(l,null)):p&&(p.d(1),p=null),1024&n&&O(t,"height",e[10][e[13]]+"%")},d(e){e&&x(t),f&&f.d(),p&&p.d()}}}function Lt(t){let n,r,a,s,o,i,l,u,c,d,f,p,v,g,m,y,b,k=t[0],M=[];for(let e=0;e<k.length;e+=1)M[e]=It(Qt(t,k,e));return{c(){n=C("table"),r=C("thead"),r.innerHTML='<tr class="svelte-qotrzq"><th scope="col" class="svelte-qotrzq">Item</th> \n      <th scope="col" class="svelte-qotrzq">Value</th></tr>',a=_(),s=C("tbody");for(let e=0;e<M.length;e+=1)M[e].c();o=_(),i=C("div"),u=_(),c=C("div"),f=_(),p=C("p"),v=T(t[4]),g=_(),m=T(t[5]),y=_(),b=T(t[3]),E(r,"class","svelte-qotrzq"),E(i,"class","minmax svelte-qotrzq"),i.hidden=l=t[4]+t[5]===0,O(i,"bottom",t[7]+"%"),O(i,"height",t[8]+"%"),c.hidden=d=0===t[9],E(c,"class","expected svelte-qotrzq"),O(c,"height",t[9]+"%"),E(s,"class","svelte-qotrzq"),E(n,"class","graph svelte-qotrzq"),E(n,"aria-label","bar-chart"),O(n,"--max-label",t[6].toFixed()),p.hidden=!0},m(e,t){$(e,n,t),h(n,r),h(n,a),h(n,s);for(let e=0;e<M.length;e+=1)M[e].m(s,null);h(s,o),h(s,i),h(s,u),h(s,c),$(e,f,t),$(e,p,t),h(p,v),h(p,g),h(p,m),h(p,y),h(p,b)},p(e,[t]){if(1031&t){let n;for(k=e[0],n=0;n<k.length;n+=1){const r=Qt(e,k,n);M[n]?M[n].p(r,t):(M[n]=It(r),M[n].c(),M[n].m(s,o))}for(;n<M.length;n+=1)M[n].d(1);M.length=k.length}48&t&&l!==(l=e[4]+e[5]===0)&&(i.hidden=l),128&t&&O(i,"bottom",e[7]+"%"),256&t&&O(i,"height",e[8]+"%"),512&t&&d!==(d=0===e[9])&&(c.hidden=d),512&t&&O(c,"height",e[9]+"%"),64&t&&O(n,"--max-label",e[6].toFixed()),16&t&&F(v,e[4]),32&t&&F(m,e[5]),8&t&&F(b,e[3])},i:e,o:e,d(e){e&&x(n),w(M,e),e&&x(f),e&&x(p)}}}function Bt(e,t,n){let r,a,s,o,i,{values:l}=t,{percents:u=[]}=t,{labels:c=[]}=t,{expected:d=0}=t,{minTarget:f=0}=t,{maxTarget:p=0}=t;return e.$$set=e=>{"values"in e&&n(0,l=e.values),"percents"in e&&n(1,u=e.percents),"labels"in e&&n(2,c=e.labels),"expected"in e&&n(3,d=e.expected),"minTarget"in e&&n(4,f=e.minTarget),"maxTarget"in e&&n(5,p=e.maxTarget)},e.$$.update=()=>{41&e.$$.dirty&&n(6,r=Math.max(...l,d,p)),65&e.$$.dirty&&n(10,a=l.map((e=>Math.round(e/r*100)))),72&e.$$.dirty&&n(9,s=Math.round(d/r*100)),112&e.$$.dirty&&n(8,o=Math.round((p-f)/r*100)),80&e.$$.dirty&&n(7,i=Math.round(f/r*100))},[l,u,c,d,f,p,r,i,o,s,a]}class Vt extends we{constructor(e){super(),xe(this,e,Bt,Lt,o,{values:0,percents:1,labels:2,expected:3,minTarget:4,maxTarget:5})}}function Ht(t){let n,r,a,s,o,i,l,u,c,d,f,p,v,g,m,y,b,w,k,M,N,S,q,z,O,P,W,A,j,Q,R,D,I,L,B,V,H,Z,G,U=t[4].toFixed()+"",K=t[9].expectedDaily.toFixed()+"",X=t[3].rpdMin+"",Y=t[3].rpdMax+"",ee=t[10](t[2][t[2].length-1]?.start)+"",te=t[2][t[2].length-1]?.review_count+"",ne=(100*t[0][t[0].length-1]).toFixed()+"";function re(e,t){return e[2].length>2?Ut:2===e[2].length?Gt:void 0}let ae=re(t),se=ae&&ae(t);return{c(){n=C("h1"),r=T(t[1]),a=T(" Reviews @"),s=T(U),o=T("%"),l=_(),u=C("div"),c=C("table"),d=C("tr"),f=C("th"),f.textContent="Expected Daily:",p=_(),v=C("td"),g=T(K),m=_(),y=C("span"),b=T("(avg.: "),w=T(t[6]),k=T(", target: "),M=T(X),N=T("–"),S=T(Y),q=T(")"),z=_(),O=C("tr"),P=C("th"),W=T("Latest ("),A=T(ee),j=T("):"),Q=_(),R=C("td"),D=T(te),I=_(),L=C("span"),B=T("reviews @ "),V=T(ne),H=T("%"),Z=_(),se&&se.c(),E(n,"class","gbHeader"),E(y,"class","secondary"),E(L,"class","secondary"),E(c,"class","gbContent"),E(u,"data-testid","reviews-per-day-table")},m(e,t){$(e,n,t),h(n,r),h(n,a),h(n,s),h(n,o),$(e,l,t),$(e,u,t),h(u,c),h(c,d),h(d,f),h(d,p),h(d,v),h(v,g),h(v,m),h(v,y),h(y,b),h(y,w),h(y,k),h(y,M),h(y,N),h(y,S),h(y,q),h(c,z),h(c,O),h(O,P),h(P,W),h(P,A),h(P,j),h(O,Q),h(O,R),h(R,D),h(R,I),h(R,L),h(L,B),h(L,V),h(L,H),h(c,Z),se&&se.m(c,null)},p(e,t){2&t&&F(r,e[1]),16&t&&U!==(U=e[4].toFixed()+"")&&F(s,U),512&t&&K!==(K=e[9].expectedDaily.toFixed()+"")&&F(g,K),64&t&&F(w,e[6]),8&t&&X!==(X=e[3].rpdMin+"")&&F(M,X),8&t&&Y!==(Y=e[3].rpdMax+"")&&F(S,Y),4&t&&ee!==(ee=e[10](e[2][e[2].length-1]?.start)+"")&&F(A,ee),4&t&&te!==(te=e[2][e[2].length-1]?.review_count+"")&&F(D,te),1&t&&ne!==(ne=(100*e[0][e[0].length-1]).toFixed()+"")&&F(V,ne),ae===(ae=re(e))&&se?se.p(e,t):(se&&se.d(1),se=ae&&ae(e),se&&(se.c(),se.m(c,null)))},i(e){i||J((()=>{i=ve(n,ft,{}),i.start()})),G||J((()=>{G=ve(u,ft,{}),G.start()}))},o:e,d(e){e&&x(n),e&&x(l),e&&x(u),se&&se.d()}}}function Zt(e){let t,n,r,a;return r=new Vt({props:{values:e[5],labels:e[7],expected:e[9].expectedDaily,minTarget:e[3].rpdMin,maxTarget:e[3].rpdMax,percents:e[0]}}),{c(){t=C("h1"),t.textContent="Reviews",n=_(),he(r.$$.fragment),E(t,"class","gbHeader")},m(e,s){$(e,t,s),$(e,n,s),ye(r,e,s),a=!0},p(e,t){const n={};32&t&&(n.values=e[5]),128&t&&(n.labels=e[7]),512&t&&(n.expected=e[9].expectedDaily),8&t&&(n.minTarget=e[3].rpdMin),8&t&&(n.maxTarget=e[3].rpdMax),1&t&&(n.percents=e[0]),r.$set(n)},i(e){a||(de(r.$$.fragment,e),a=!0)},o(e){fe(r.$$.fragment,e),a=!1},d(e){e&&x(t),e&&x(n),be(r,e)}}}function Gt(e){let t,n,r,a,s,o,i,l,u,c=e[10](e[2][0].start)+"",d=e[2][0].review_count+"";return{c(){t=C("tr"),n=C("th"),r=T(c),a=T(":"),s=_(),o=C("td"),i=T(d),l=_(),u=C("span"),u.textContent="reviews",E(u,"class","secondary")},m(e,c){$(e,t,c),h(t,n),h(n,r),h(n,a),h(t,s),h(t,o),h(o,i),h(o,l),h(o,u)},p(e,t){4&t&&c!==(c=e[10](e[2][0].start)+"")&&F(r,c),4&t&&d!==(d=e[2][0].review_count+"")&&F(i,d)},d(e){e&&x(t)}}}function Ut(e){let t,n,r,a,s,o,i,l,u,c,d,f,p,v,g,m,y,b,w,k=e[10](e[2][0].start)+"",M=e[10](e[2][e[2].length-2].start)+"",N=e[2].slice(0,-1).map(Xt).join(" • ")+"",S=e[0].slice(0,-1).map(Jt).join("% • ")+"";return{c(){t=C("tr"),n=C("th"),r=T(k),a=T(" – "),s=T(M),o=T(":"),i=_(),l=C("td"),u=T(N),c=_(),d=C("span"),d.textContent="reviews",f=_(),p=C("tr"),v=C("th"),g=_(),m=C("td"),y=T(S),b=T("% "),w=C("span"),w.textContent="accuracy",E(d,"class","secondary"),E(w,"class","secondary")},m(e,x){$(e,t,x),h(t,n),h(n,r),h(n,a),h(n,s),h(n,o),h(t,i),h(t,l),h(l,u),h(l,c),h(l,d),$(e,f,x),$(e,p,x),h(p,v),h(p,g),h(p,m),h(m,y),h(m,b),h(m,w)},p(e,t){4&t&&k!==(k=e[10](e[2][0].start)+"")&&F(r,k),4&t&&M!==(M=e[10](e[2][e[2].length-2].start)+"")&&F(s,M),4&t&&N!==(N=e[2].slice(0,-1).map(Xt).join(" • ")+"")&&F(u,N),1&t&&S!==(S=e[0].slice(0,-1).map(Jt).join("% • ")+"")&&F(y,S)},d(e){e&&x(t),e&&x(f),e&&x(p)}}}function Kt(e){let t,n,r,a;const s=[Zt,Ht],o=[];function i(e,t){return"chart"===e[8]?0:1}return n=i(e),r=o[n]=s[n](e),{c(){t=C("div"),r.c(),E(t,"class","gbWidget"),E(t,"data-testid","reviews-per-day-gauge")},m(e,r){$(e,t,r),o[n].m(t,null),a=!0},p(e,[a]){let l=n;n=i(e),n===l?o[n].p(e,a):(ue(),fe(o[l],1,1,(()=>{o[l]=null})),ce(),r=o[n],r?r.p(e,a):(r=o[n]=s[n](e),r.c()),de(r,1),r.m(t,null))},i(e){a||(de(r),a=!0)},o(e){fe(r),a=!1},d(e){e&&x(t),o[n].d()}}}const Xt=e=>e.review_count,Jt=e=>(100*e).toFixed();function Yt(e,t,n){let r,a,s,o,i,u,c,d,f,p;l(e,kt,(e=>n(2,c=e))),l(e,_t,(e=>n(3,d=e))),l(e,mt,(e=>n(8,f=e))),l(e,$t,(e=>n(9,p=e)));const v=e=>new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(e);return e.$$.update=()=>{4&e.$$.dirty&&n(7,r=c.map((e=>v(e.start)))),4&e.$$.dirty&&n(1,a=c.reduce(((e,t)=>e+t.review_count),0)),10&e.$$.dirty&&n(6,s=(a/d.daysToReview).toFixed()),4&e.$$.dirty&&n(5,o=c.map((e=>e.review_count))),4&e.$$.dirty&&n(0,i=c.map((e=>e.accuracy))),1&e.$$.dirty&&n(4,u=100*i.reduce(((e,t)=>e+t),0)/i.length)},[i,a,c,d,u,o,s,r,f,p,v]}class en extends we{constructor(e){super(),xe(this,e,Yt,Kt,o,{})}}function tn(e){let t,n,r,a,s,o,i,l,c,d;const f=e[4].default,p=function(e,t,n,r){if(e){const a=u(e,t,n,r);return e[0](a)}}(f,e,e[3],null);return{c(){t=C("div"),n=C("div"),r=k("svg"),a=k("circle"),s=k("line"),o=k("line"),i=_(),p&&p.c(),E(a,"cx","6"),E(a,"cy","6"),E(a,"r","6"),E(s,"x1","3"),E(s,"y1","3"),E(s,"x2","9"),E(s,"y2","9"),E(s,"class","svelte-1tenb2r"),E(o,"x1","9"),E(o,"y1","3"),E(o,"x2","3"),E(o,"y2","9"),E(o,"class","svelte-1tenb2r"),E(r,"class","closeIcon svelte-1tenb2r"),E(r,"viewBox","0 0 12 12"),E(n,"class","modal svelte-1tenb2r"),E(t,"class","modal-wrapper svelte-1tenb2r")},m(u,f){$(u,t,f),h(t,n),h(n,r),h(r,a),h(r,s),h(r,o),h(n,i),p&&p.m(n,null),l=!0,c||(d=N(r,"click",e[6]),c=!0)},p(e,t){p&&p.p&&(!l||8&t)&&function(e,t,n,r,a,s){if(a){const o=u(t,n,r,s);e.p(o,a)}}(p,f,e,e[3],l?function(e,t,n,r){if(e[2]&&r){const a=e[2](r(n));if(void 0===t.dirty)return a;if("object"==typeof a){const e=[],n=Math.max(t.dirty.length,a.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|a[r];return e}return t.dirty|a}return t.dirty}(f,e[3],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[3]),null)},i(e){l||(de(p,e),l=!0)},o(e){fe(p,e),l=!1},d(e){e&&x(t),p&&p.d(e),c=!1,d()}}}function nn(e){let t,n,r,a,s=e[1]&&tn(e);return{c(){s&&s.c(),t=M()},m(o,i){s&&s.m(o,i),$(o,t,i),n=!0,r||(a=N(window,"keydown",e[5]),r=!0)},p(e,[n]){e[1]?s?(s.p(e,n),2&n&&de(s,1)):(s=tn(e),s.c(),de(s,1),s.m(t.parentNode,t)):s&&(ue(),fe(s,1,1,(()=>{s=null})),ce())},i(e){n||(de(s),n=!0)},o(e){fe(s),n=!1},d(e){s&&s.d(e),e&&x(t),r=!1,a()}}}function rn(e,t,n){let{$$slots:r={},$$scope:a}=t,s=!1;function o(){n(1,s=!1)}return e.$$set=e=>{"$$scope"in e&&n(3,a=e.$$scope)},[o,s,function(){n(1,s=!0)},a,r,e=>{"Escape"===e.key&&o()},()=>o()]}class an extends we{constructor(e){super(),xe(this,e,rn,nn,o,{show:2,hide:0})}get show(){return this.$$.ctx[2]}get hide(){return this.$$.ctx[0]}}function sn(e){let t,n,r,s,o,i,l,u,c,d,f,p,v,g,m,y,b,w,k,M,S,O,P,W,A,j,Q,R,D,I,L,B,V,H,G,U,K,X,J,ee,te,ne,re,ae,se,oe,ie,le,ue,ce,pe,ve,ge,$e,xe,we,Ce,ke,Te,_e,Me,Ne,Se,Ee,qe,Fe,ze,Oe,Pe,We,Ae,je,Qe,Re,De,Ie,Le,Be,Ve,He,Ze,Ge,Ue,Ke,Xe,Je,Ye,et,tt,nt,at,st,ot,it,lt,ut,ct,dt,ft=e[0].gbMinTarget+"",pt=e[0].gbMaxTarget+"";function vt(t){e[2](t)}let gt={id:"gbRange",range:!0,pushy:!0,float:!0,min:1,max:300};return void 0!==e[1]&&(gt.values=e[1]),s=new rt({props:gt}),Z.push((()=>me(s,"values",vt))),{c(){t=C("div"),n=C("h4"),n.textContent="Target range",r=_(),he(s.$$.fragment),i=_(),l=C("div"),u=T(ft),c=T(" – "),d=T(pt),f=_(),p=C("hr"),v=_(),g=C("table"),m=C("tbody"),y=C("tr"),b=C("th"),b.textContent="Labels",w=_(),k=C("td"),M=C("input"),S=_(),O=C("td"),P=C("input"),W=_(),A=C("td"),j=C("input"),Q=_(),R=C("thead"),R.innerHTML='<tr class="svelte-y40aun"><td class="svelte-y40aun"></td> \n        <th class="secondary center col3 svelte-y40aun">Below</th> \n        <th class="secondary center svelte-y40aun">In range</th> \n        <th class="secondary center svelte-y40aun">Above</th></tr>',D=_(),I=C("hr"),L=_(),B=C("table"),V=C("thead"),V.innerHTML='<tr class="svelte-y40aun"><th></th> \n        <th class="col3 svelte-y40aun">Weight</th> \n        <th></th> \n        <th class="col5 svelte-y40aun">Weight</th></tr>',H=_(),G=C("tbody"),U=C("tr"),K=C("th"),K.textContent="Radical1-2",X=_(),J=C("td"),ee=C("input"),te=_(),ne=C("th"),ne.textContent="Appr3-4",re=_(),ae=C("td"),se=C("input"),oe=_(),ie=C("tr"),le=C("th"),le.textContent="Kanji1-2",ue=_(),ce=C("td"),pe=C("input"),ve=_(),ge=C("th"),ge.textContent="Guru",$e=_(),xe=C("td"),we=C("input"),Ce=_(),ke=C("tr"),Te=C("th"),Te.textContent="Vocab1-2",_e=_(),Me=C("td"),Ne=C("input"),Se=_(),Ee=C("th"),Ee.textContent="Master",qe=_(),Fe=C("td"),ze=C("input"),Oe=_(),Pe=C("tr"),We=C("td"),Ae=_(),je=C("td"),Qe=_(),Re=C("th"),Re.textContent="Enlightened",De=_(),Ie=C("td"),Le=C("input"),Be=_(),Ve=C("hr"),He=_(),Ze=C("table"),Ge=C("thead"),Ge.innerHTML='<tr class="svelte-y40aun"><td class="svelte-y40aun"></td> \n        <th class="secondary center col3 svelte-y40aun">Radical1-2</th> \n        <th class="secondary center svelte-y40aun">Kanji1-2</th> \n        <th class="secondary center svelte-y40aun">Vocab1-2</th></tr>',Ue=_(),Ke=C("tbody"),Xe=C("tr"),Je=C("th"),Je.textContent="Quiz?",Ye=_(),et=C("td"),tt=C("input"),nt=_(),at=C("td"),st=C("input"),ot=_(),it=C("td"),lt=C("input"),E(n,"class","svelte-y40aun"),E(l,"class","rangeLabel svelte-y40aun"),E(p,"class","svelte-y40aun"),E(b,"class","col2 svelte-y40aun"),E(M,"type","text"),E(M,"class","svelte-y40aun"),E(k,"class","svelte-y40aun"),E(P,"type","text"),E(P,"class","svelte-y40aun"),E(O,"class","svelte-y40aun"),E(j,"type","text"),E(j,"class","svelte-y40aun"),E(A,"class","svelte-y40aun"),E(y,"class","svelte-y40aun"),E(m,"class","svelte-y40aun"),E(R,"class","svelte-y40aun"),E(g,"class","svelte-y40aun"),E(I,"class","svelte-y40aun"),E(V,"class","svelte-y40aun"),E(K,"class","secondary right-align col2 svelte-y40aun"),E(ee,"class","col3 svelte-y40aun"),E(ee,"type","number"),E(ee,"min",0),E(ee,"max",5),E(ee,"step",.1),E(J,"class","svelte-y40aun"),E(ne,"class","secondary right-align col4 svelte-y40aun"),E(se,"class","col5 svelte-y40aun"),E(se,"type","number"),E(se,"min",0),E(se,"max",5),E(se,"step",.1),E(ae,"class","svelte-y40aun"),E(U,"class","svelte-y40aun"),E(le,"class","secondary right-align col2 svelte-y40aun"),E(pe,"class","col3 svelte-y40aun"),E(pe,"type","number"),E(pe,"min",0),E(pe,"max",5),E(pe,"step",.1),E(ce,"class","svelte-y40aun"),E(ge,"class","secondary right-align col4 svelte-y40aun"),E(we,"class","col5 svelte-y40aun"),E(we,"type","number"),E(we,"min",0),E(we,"max",5),E(we,"step",.1),E(xe,"class","svelte-y40aun"),E(ie,"class","svelte-y40aun"),E(Te,"class","secondary right-align col2 svelte-y40aun"),E(Ne,"class","col3 svelte-y40aun"),E(Ne,"type","number"),E(Ne,"min",0),E(Ne,"max",5),E(Ne,"step",.1),E(Me,"class","svelte-y40aun"),E(Ee,"class","secondary right-align col4 svelte-y40aun"),E(ze,"class","col4 svelte-y40aun"),E(ze,"type","number"),E(ze,"min",0),E(ze,"max",5),E(ze,"step",.1),E(Fe,"class","svelte-y40aun"),E(ke,"class","svelte-y40aun"),E(We,"class","svelte-y40aun"),E(je,"class","svelte-y40aun"),E(Re,"class","secondary right-align col4 svelte-y40aun"),E(Le,"class","col5 svelte-y40aun"),E(Le,"type","number"),E(Le,"min",0),E(Le,"max",5),E(Le,"step",.1),E(Ie,"class","svelte-y40aun"),E(Pe,"class","svelte-y40aun"),E(G,"class","svelte-y40aun"),E(B,"class","svelte-y40aun"),E(Ve,"class","svelte-y40aun"),E(Ge,"class","svelte-y40aun"),E(Je,"class","col2 svelte-y40aun"),E(tt,"type","checkbox"),E(tt,"name","quizTypes"),E(et,"class","svelte-y40aun"),E(st,"type","checkbox"),E(st,"name","quizTypes"),E(at,"class","svelte-y40aun"),E(lt,"type","checkbox"),E(lt,"name","quizTypes"),E(it,"class","svelte-y40aun"),E(Xe,"class","svelte-y40aun"),E(Ke,"class","svelte-y40aun"),E(Ze,"class","svelte-y40aun"),E(t,"class","gbSettingsComp")},m(a,o){$(a,t,o),h(t,n),h(t,r),ye(s,t,null),h(t,i),h(t,l),h(l,u),h(l,c),h(l,d),h(t,f),h(t,p),h(t,v),h(t,g),h(g,m),h(m,y),h(y,b),h(y,w),h(y,k),h(k,M),z(M,e[0].belowTerm),h(y,S),h(y,O),h(O,P),z(P,e[0].inRangeTerm),h(y,W),h(y,A),h(A,j),z(j,e[0].aboveTerm),h(g,Q),h(g,R),h(t,D),h(t,I),h(t,L),h(t,B),h(B,V),h(B,H),h(B,G),h(G,U),h(U,K),h(U,X),h(U,J),h(J,ee),z(ee,e[0].newRWeight),h(U,te),h(U,ne),h(U,re),h(U,ae),h(ae,se),z(se,e[0].apprWeight),h(G,oe),h(G,ie),h(ie,le),h(ie,ue),h(ie,ce),h(ce,pe),z(pe,e[0].newKWeight),h(ie,ve),h(ie,ge),h(ie,$e),h(ie,xe),h(xe,we),z(we,e[0].guruWeight),h(G,Ce),h(G,ke),h(ke,Te),h(ke,_e),h(ke,Me),h(Me,Ne),z(Ne,e[0].newVWeight),h(ke,Se),h(ke,Ee),h(ke,qe),h(ke,Fe),h(Fe,ze),z(ze,e[0].masterWeight),h(G,Oe),h(G,Pe),h(Pe,We),h(Pe,Ae),h(Pe,je),h(Pe,Qe),h(Pe,Re),h(Pe,De),h(Pe,Ie),h(Ie,Le),z(Le,e[0].enlightenedWeight),h(t,Be),h(t,Ve),h(t,He),h(t,Ze),h(Ze,Ge),h(Ze,Ue),h(Ze,Ke),h(Ke,Xe),h(Xe,Je),h(Xe,Ye),h(Xe,et),h(et,tt),tt.checked=e[0].rQuiz,h(Xe,nt),h(Xe,at),h(at,st),st.checked=e[0].kQuiz,h(Xe,ot),h(Xe,it),h(it,lt),lt.checked=e[0].vQuiz,ut=!0,ct||(dt=[N(M,"input",e[3]),N(P,"input",e[4]),N(j,"input",e[5]),N(ee,"input",e[6]),N(se,"input",e[7]),N(pe,"input",e[8]),N(we,"input",e[9]),N(Ne,"input",e[10]),N(ze,"input",e[11]),N(Le,"input",e[12]),N(tt,"change",e[13]),N(st,"change",e[14]),N(lt,"change",e[15])],ct=!0)},p(e,[t]){const n={};!o&&2&t&&(o=!0,n.values=e[1],Y((()=>o=!1))),s.$set(n),(!ut||1&t)&&ft!==(ft=e[0].gbMinTarget+"")&&F(u,ft),(!ut||1&t)&&pt!==(pt=e[0].gbMaxTarget+"")&&F(d,pt),1&t&&M.value!==e[0].belowTerm&&z(M,e[0].belowTerm),1&t&&P.value!==e[0].inRangeTerm&&z(P,e[0].inRangeTerm),1&t&&j.value!==e[0].aboveTerm&&z(j,e[0].aboveTerm),1&t&&q(ee.value)!==e[0].newRWeight&&z(ee,e[0].newRWeight),1&t&&q(se.value)!==e[0].apprWeight&&z(se,e[0].apprWeight),1&t&&q(pe.value)!==e[0].newKWeight&&z(pe,e[0].newKWeight),1&t&&q(we.value)!==e[0].guruWeight&&z(we,e[0].guruWeight),1&t&&q(Ne.value)!==e[0].newVWeight&&z(Ne,e[0].newVWeight),1&t&&q(ze.value)!==e[0].masterWeight&&z(ze,e[0].masterWeight),1&t&&q(Le.value)!==e[0].enlightenedWeight&&z(Le,e[0].enlightenedWeight),1&t&&(tt.checked=e[0].rQuiz),1&t&&(st.checked=e[0].kQuiz),1&t&&(lt.checked=e[0].vQuiz)},i(e){ut||(de(s.$$.fragment,e),ut=!0)},o(e){fe(s.$$.fragment,e),ut=!1},d(e){e&&x(t),be(s),ct=!1,a(dt)}}}function on(e,t,n){let{values:r}=t,a=[r.gbMinTarget,r.gbMaxTarget];return e.$$set=e=>{"values"in e&&n(0,r=e.values)},e.$$.update=()=>{2&e.$$.dirty&&n(0,[r.gbMinTarget,r.gbMaxTarget]=a,r)},[r,a,function(e){a=e,n(1,a)},function(){r.belowTerm=this.value,n(0,r),n(1,a)},function(){r.inRangeTerm=this.value,n(0,r),n(1,a)},function(){r.aboveTerm=this.value,n(0,r),n(1,a)},function(){r.newRWeight=q(this.value),n(0,r),n(1,a)},function(){r.apprWeight=q(this.value),n(0,r),n(1,a)},function(){r.newKWeight=q(this.value),n(0,r),n(1,a)},function(){r.guruWeight=q(this.value),n(0,r),n(1,a)},function(){r.newVWeight=q(this.value),n(0,r),n(1,a)},function(){r.masterWeight=q(this.value),n(0,r),n(1,a)},function(){r.enlightenedWeight=q(this.value),n(0,r),n(1,a)},function(){r.rQuiz=this.checked,n(0,r),n(1,a)},function(){r.kQuiz=this.checked,n(0,r),n(1,a)},function(){r.vQuiz=this.checked,n(0,r),n(1,a)}]}class ln extends we{constructor(e){super(),xe(this,e,on,sn,o,{values:0})}}function un(e){let t,n,r,a,s,o,i,l,u,c,d,f,p,v,g,m,y,b,w,k,M,N,S,q,z,O,P,W,A,j,Q,R,D,I,L,B,V,H,G=e[0].daysToReview+"",U=e[0].daysToReview>1?"s":"",K=e[0].minQPM+"",X=e[0].maxQPM+"",J=e[0].rpdMin+"",ee=e[0].rpdMax+"";function te(t){e[4](t)}let ne={id:"daysToRetrieve",float:!0,min:1,max:7};function re(t){e[5](t)}void 0!==e[3]&&(ne.values=e[3]),a=new rt({props:ne}),Z.push((()=>me(a,"values",te)));let ae={id:"speedRange",range:!0,pushy:!0,float:!0,min:1,max:30};function se(t){e[6](t)}void 0!==e[2]&&(ae.values=e[2]),y=new rt({props:ae}),Z.push((()=>me(y,"values",re)));let oe={id:"rpdRange",range:!0,pushy:!0,float:!0,min:1,max:300};return void 0!==e[1]&&(oe.values=e[1]),j=new rt({props:oe}),Z.push((()=>me(j,"values",se))),{c(){t=C("div"),n=C("h4"),n.textContent="Reviews to examine",r=_(),he(a.$$.fragment),o=_(),i=C("div"),l=T("past "),u=T(G),c=T(" day"),d=T(U),f=_(),p=C("hr"),v=_(),g=C("h4"),g.textContent="Target answer speed",m=_(),he(y.$$.fragment),w=_(),k=C("div"),M=T(K),N=T(" – "),S=T(X),q=T(" questions/minute"),z=_(),O=C("hr"),P=_(),W=C("h4"),W.textContent="Target daily load",A=_(),he(j.$$.fragment),R=_(),D=C("div"),I=T(J),L=T(" – "),B=T(ee),V=T(" reviews/day"),E(n,"class","svelte-15uqope"),E(i,"class","rangeLabel svelte-15uqope"),E(p,"class","svelte-15uqope"),E(g,"class","svelte-15uqope"),E(k,"class","rangeLabel svelte-15uqope"),E(O,"class","svelte-15uqope"),E(W,"class","svelte-15uqope"),E(D,"class","rangeLabel svelte-15uqope"),E(t,"class","gbSettingsComp")},m(e,s){$(e,t,s),h(t,n),h(t,r),ye(a,t,null),h(t,o),h(t,i),h(i,l),h(i,u),h(i,c),h(i,d),h(t,f),h(t,p),h(t,v),h(t,g),h(t,m),ye(y,t,null),h(t,w),h(t,k),h(k,M),h(k,N),h(k,S),h(k,q),h(t,z),h(t,O),h(t,P),h(t,W),h(t,A),ye(j,t,null),h(t,R),h(t,D),h(D,I),h(D,L),h(D,B),h(D,V),H=!0},p(e,[t]){const n={};!s&&8&t&&(s=!0,n.values=e[3],Y((()=>s=!1))),a.$set(n),(!H||1&t)&&G!==(G=e[0].daysToReview+"")&&F(u,G),(!H||1&t)&&U!==(U=e[0].daysToReview>1?"s":"")&&F(d,U);const r={};!b&&4&t&&(b=!0,r.values=e[2],Y((()=>b=!1))),y.$set(r),(!H||1&t)&&K!==(K=e[0].minQPM+"")&&F(M,K),(!H||1&t)&&X!==(X=e[0].maxQPM+"")&&F(S,X);const o={};!Q&&2&t&&(Q=!0,o.values=e[1],Y((()=>Q=!1))),j.$set(o),(!H||1&t)&&J!==(J=e[0].rpdMin+"")&&F(I,J),(!H||1&t)&&ee!==(ee=e[0].rpdMax+"")&&F(B,ee)},i(e){H||(de(a.$$.fragment,e),de(y.$$.fragment,e),de(j.$$.fragment,e),H=!0)},o(e){fe(a.$$.fragment,e),fe(y.$$.fragment,e),fe(j.$$.fragment,e),H=!1},d(e){e&&x(t),be(a),be(y),be(j)}}}function cn(e,t,n){let{values:r}=t,a=[r.rpdMin,r.rpdMax],s=[r.minQPM,r.maxQPM],o=[r.daysToReview];return e.$$set=e=>{"values"in e&&n(0,r=e.values)},e.$$.update=()=>{14&e.$$.dirty&&n(0,[r.daysToReview,r.rpdMin,r.rpdMax,r.minQPM,r.maxQPM]=[...o,...a,...s],r)},[r,a,s,o,function(e){o=e,n(3,o)},function(e){s=e,n(2,s)},function(e){a=e,n(1,a)}]}class dn extends we{constructor(e){super(),xe(this,e,cn,un,o,{values:0})}}function fn(e){let t,n,r,s,o,i,l,u,c,d,f,p,v,g,m,y,b,w,k,M,q,F,O,W,A,j,Q,R,D,I,L,B,V,H,Z,G,U,K,X,Y,ee,te,ne,re,ae,se,oe,ie,le,ue,ce,pe,ve,ge,me,$e,xe,we,Ce;return o=new dt({props:{value:.4,label:"Sample",needle:!0,lowZone:!0,hiZone:!0}}),l=new Vt({props:{values:[7,10,8],labels:["Mon","Tue","Wed"],expected:7,minTarget:2,maxTarget:9,percents:[.66,.8,.75]}}),{c(){t=C("div"),n=C("div"),r=C("div"),r.textContent="Warning Color",s=_(),he(o.$$.fragment),i=_(),he(l.$$.fragment),c=_(),d=C("button"),d.textContent="Light theme",f=_(),p=C("button"),p.textContent="Dark Theme",v=_(),g=C("h3"),g.textContent="Individual overrides",m=_(),y=C("div"),b=C("label"),w=T("Bgnd\n      "),k=C("input"),M=_(),q=C("label"),F=T("Track\n    "),O=C("input"),W=_(),A=C("label"),j=T("Text\n      "),Q=C("input"),R=_(),D=C("label"),I=T("hlText\n      "),L=C("input"),B=_(),V=C("div"),H=C("label"),Z=T("Fill\n      "),G=C("input"),U=_(),K=C("label"),X=T("Warn\n      "),Y=C("input"),ee=_(),te=C("label"),ne=T("hlTrack\n      "),re=C("input"),ae=_(),se=C("hr"),oe=_(),ie=C("div"),le=C("label"),le.textContent="Position",ue=_(),ce=C("select"),pe=C("option"),pe.textContent="Top",ve=C("option"),ve.textContent="Below Forecast",ge=C("option"),ge.textContent="Below SRS",me=C("option"),me.textContent="Below Panels",$e=C("option"),$e.textContent="Bottom",E(r,"class","warnBox svelte-17we3vo"),E(n,"class","colorSample svelte-17we3vo"),E(n,"style",u=` \n      background-color: ${e[0].bgColor};\n      --bgColor: ${e[0].bgColor}; \n      --trackColor: ${e[0].hlTrackColor}; \n      --textColor: ${e[0].textColor}; \n      --hlTextColor: ${e[0].hlTextColor}; \n      --fillColor: ${e[0].fillColor}; \n      --warnColor: ${e[0].warnColor}; \n      --hlTrackColor: ${e[0].trackColor};`),E(d,"class","light svelte-17we3vo"),E(p,"class","dark svelte-17we3vo"),E(g,"class","svelte-17we3vo"),E(k,"type","color"),E(k,"class","svelte-17we3vo"),E(b,"class","svelte-17we3vo"),E(O,"type","color"),E(O,"class","svelte-17we3vo"),E(q,"class","svelte-17we3vo"),E(Q,"type","color"),E(Q,"class","svelte-17we3vo"),E(A,"class","svelte-17we3vo"),E(L,"type","color"),E(L,"class","svelte-17we3vo"),E(D,"class","svelte-17we3vo"),E(y,"class","colorInputs svelte-17we3vo"),E(G,"type","color"),E(G,"class","svelte-17we3vo"),E(H,"class","svelte-17we3vo"),E(Y,"type","color"),E(Y,"class","svelte-17we3vo"),E(K,"class","svelte-17we3vo"),E(re,"type","color"),E(re,"class","svelte-17we3vo"),E(te,"class","svelte-17we3vo"),E(V,"class","colorInputs svelte-17we3vo"),E(se,"class","svelte-17we3vo"),E(le,"for","position-select"),E(le,"class","svelte-17we3vo"),pe.__value="Top",pe.value=pe.__value,ve.__value="Below Forecast",ve.value=ve.__value,ge.__value="Below SRS",ge.value=ge.__value,me.__value="Below Panels",me.value=me.__value,$e.__value="Bottom",$e.value=$e.__value,E(ce,"name","positions"),E(ce,"id","position-select"),E(ce,"class","svelte-17we3vo"),void 0===e[0].position&&J((()=>e[10].call(ce))),E(ie,"class","position svelte-17we3vo"),E(t,"class","gbSettingsComp")},m(a,u){$(a,t,u),h(t,n),h(n,r),h(n,s),ye(o,n,null),h(n,i),ye(l,n,null),h(t,c),h(t,d),h(t,f),h(t,p),h(t,v),h(t,g),h(t,m),h(t,y),h(y,b),h(b,w),h(b,k),z(k,e[0].bgColor),h(y,M),h(y,q),h(q,F),h(q,O),z(O,e[0].trackColor),h(y,W),h(y,A),h(A,j),h(A,Q),z(Q,e[0].textColor),h(y,R),h(y,D),h(D,I),h(D,L),z(L,e[0].hlTextColor),h(t,B),h(t,V),h(V,H),h(H,Z),h(H,G),z(G,e[0].fillColor),h(V,U),h(V,K),h(K,X),h(K,Y),z(Y,e[0].warnColor),h(V,ee),h(V,te),h(te,ne),h(te,re),z(re,e[0].hlTrackColor),h(t,ae),h(t,se),h(t,oe),h(t,ie),h(ie,le),h(ie,ue),h(ie,ce),h(ce,pe),h(ce,ve),h(ce,ge),h(ce,me),h(ce,$e),P(ce,e[0].position),xe=!0,we||(Ce=[N(d,"click",S(e[1])),N(p,"click",S(e[2])),N(k,"input",e[3]),N(O,"input",e[4]),N(Q,"input",e[5]),N(L,"input",e[6]),N(G,"input",e[7]),N(Y,"input",e[8]),N(re,"input",e[9]),N(ce,"change",e[10])],we=!0)},p(e,[t]){(!xe||1&t&&u!==(u=` \n      background-color: ${e[0].bgColor};\n      --bgColor: ${e[0].bgColor}; \n      --trackColor: ${e[0].hlTrackColor}; \n      --textColor: ${e[0].textColor}; \n      --hlTextColor: ${e[0].hlTextColor}; \n      --fillColor: ${e[0].fillColor}; \n      --warnColor: ${e[0].warnColor}; \n      --hlTrackColor: ${e[0].trackColor};`))&&E(n,"style",u),1&t&&z(k,e[0].bgColor),1&t&&z(O,e[0].trackColor),1&t&&z(Q,e[0].textColor),1&t&&z(L,e[0].hlTextColor),1&t&&z(G,e[0].fillColor),1&t&&z(Y,e[0].warnColor),1&t&&z(re,e[0].hlTrackColor),1&t&&P(ce,e[0].position)},i(e){xe||(de(o.$$.fragment,e),de(l.$$.fragment,e),xe=!0)},o(e){fe(o.$$.fragment,e),fe(l.$$.fragment,e),xe=!1},d(e){e&&x(t),be(o),be(l),we=!1,a(Ce)}}}function pn(e,t,n){let{values:r}=t;return e.$$set=e=>{"values"in e&&n(0,r=e.values)},[r,()=>{n(0,r.bgColor="#f4f4f4",r),n(0,r.hlTrackColor="#d1e8d4",r),n(0,r.trackColor="#e0e0e0",r),n(0,r.textColor="#333333",r),n(0,r.hlTextColor="#fbb623",r),n(0,r.fillColor="#59c273",r),n(0,r.warnColor="#fbb623",r)},()=>{n(0,r.bgColor="#232629",r),n(0,r.trackColor="#e0e0e0",r),n(0,r.textColor="#bcbcbc",r),n(0,r.hlTextColor="#fcbd4b",r),n(0,r.fillColor="#59c273",r),n(0,r.warnColor="#fcbd4b",r),n(0,r.hlTrackColor="#aad4b0",r)},function(){r.bgColor=this.value,n(0,r)},function(){r.trackColor=this.value,n(0,r)},function(){r.textColor=this.value,n(0,r)},function(){r.hlTextColor=this.value,n(0,r)},function(){r.fillColor=this.value,n(0,r)},function(){r.warnColor=this.value,n(0,r)},function(){r.hlTrackColor=this.value,n(0,r)},function(){r.position=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,r)}]}class vn extends we{constructor(e){super(),xe(this,e,pn,fn,o,{values:0})}}function gn(e){let t,n,r,a,s,o,i,l,u,c=e[0].madCutoff+"";function d(t){e[2](t)}let f={id:"madRange",float:!0,min:1,max:15};return void 0!==e[1]&&(f.values=e[1]),a=new rt({props:f}),Z.push((()=>me(a,"values",d))),{c(){t=C("div"),n=C("h4"),n.textContent="MAD cutoff",r=_(),he(a.$$.fragment),o=_(),i=C("div"),l=T(c),E(n,"class","svelte-1tt0pz6"),E(i,"class","rangeLabel svelte-1tt0pz6"),E(t,"class","gbSettingsComp")},m(e,s){$(e,t,s),h(t,n),h(t,r),ye(a,t,null),h(t,o),h(t,i),h(i,l),u=!0},p(e,[t]){const n={};!s&&2&t&&(s=!0,n.values=e[1],Y((()=>s=!1))),a.$set(n),(!u||1&t)&&c!==(c=e[0].madCutoff+"")&&F(l,c)},i(e){u||(de(a.$$.fragment,e),u=!0)},o(e){fe(a.$$.fragment,e),u=!1},d(e){e&&x(t),be(a)}}}function mn(e,t,n){let{values:r}=t,a=[r.madCutoff];return e.$$set=e=>{"values"in e&&n(0,r=e.values)},e.$$.update=()=>{2&e.$$.dirty&&n(0,[r.madCutoff]=a,r)},[r,a,function(e){a=e,n(1,a)}]}class hn extends we{constructor(e){super(),xe(this,e,mn,gn,o,{values:0})}}function yn(){return(yn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)}function bn(e,t,n){if(n||2===arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||t)}var $n=Object.assign;function xn(e){return"function"==typeof e}function wn(e,t){function n(e){r=!0,a=e}for(var r=!1,a=null,s=0;s<e.length;s++)if(t(e[s],n,s),r)return a}function Cn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return xn(e)?e.apply(void 0,t):e}function kn(e,t){var n;return null!==(n=Cn(e))&&void 0!==n?n:t}function Tn(e,t){return e={pass:e},t&&(e.message=t),e}function _n(e,t){try{return e.run(t)}catch(e){return Tn(!1)}}function Mn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(void 0,t)}}function Nn(e,t){return e.length===Number(t)}var Sn=Mn(Nn);function En(e,t){return e.length>Number(t)}function qn(e){return null===e}var Fn=Mn(qn);function zn(e){return void 0===e}var On=Mn(zn);function Pn(e){return String(e)===e}function Wn(e,t){return Pn(e)&&Pn(t)&&e.endsWith(t)}var An=Mn(Wn);function jn(e,t){return e===t}var Qn=Mn(jn);function Rn(e){var t=Number(e);return!(isNaN(parseFloat(String(e)))||isNaN(Number(e))||!isFinite(t))}var Dn=Mn(Rn);function In(e,t){return Rn(e)&&Rn(t)&&Number(e)>Number(t)}function Ln(e,t){return Rn(e)&&Rn(t)&&Number(e)>=Number(t)}function Bn(e){return!!Array.isArray(e)}var Vn=Mn(Bn);function Hn(e,t){return!!(Bn(t)||Pn(t)&&Pn(e))&&-1!==t.indexOf(e)}var Zn=Mn(Hn);function Gn(e,t){return Rn(e)&&Rn(t)&&Number(e)<=Number(t)}function Un(e,t,n){return Ln(e,t)&&Gn(e,n)}var Kn=Mn(Un);function Xn(e){return Pn(e)&&!e.trim()}var Jn=Mn(Xn);function Yn(e){return!!e===e}var er=Mn(Yn);function tr(e){return"number"==typeof e}var nr=Mn(tr);function rr(e){if(e){if(tr(e))return 0===e;if(Object.prototype.hasOwnProperty.call(e,"length"))return Nn(e,0);if("object"==typeof e)return Nn(Object.keys(e),0)}return!0}var ar=Mn(rr);function sr(e){return Number.isNaN(e)}var or=Mn(sr);function ir(e){return!!Rn(e)&&0>Number(e)}var lr=Mn(ir),ur=Mn(Pn);function cr(e){return!!e}var dr=Mn(cr);function fr(e,t){return Rn(e)&&Rn(t)&&Number(e)<Number(t)}function pr(e,t){return t instanceof RegExp?t.test(e):!!Pn(t)&&new RegExp(t).test(e)}var vr=Mn(pr);function gr(e,t){return Rn(e)&&Rn(t)&&Number(e)===Number(t)}var mr=Mn(gr);function hr(e,t){return Pn(e)&&Pn(t)&&e.startsWith(t)}var yr=Mn(hr);function br(e,t){throw Error(kn(t,e))}function $r(e){function t(t,a){var s,o,i=n();return t=$n({},i||{},null!==(s=Cn(e,t,i))&&void 0!==s?s:t),s=r.ctx=Object.freeze(t),r.ancestry.unshift(s),a=a(s),r.ancestry.shift(),r.ctx=null!==(o=r.ancestry[0])&&void 0!==o?o:null,a}function n(){return r.ctx}var r={ancestry:[]};return{bind:function(e,n){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return t(e,(function(){return n.apply(void 0,r)}))}},run:t,use:n,useX:function(e){var t;return null!==(t=r.ctx)&&void 0!==t?t:br(kn(e,"Context was used after it was closed"))}}}var xr=$r((function(e,t){var n={value:e.value,meta:e.meta||{}};return t?e.set?$n(n,{parent:function(){return t?{value:t.value,meta:t.meta,parent:t.parent}:t}}):t:$n(n,{parent:wr})}));function wr(){return null}function Cr(e,t){function n(n){var r=e[n],a=t[n];if(!(n=xr.run({value:r,set:!0,meta:{key:n}},(function(){return _n(a,r)}))).pass)return{value:n}}for(var r in t){var a=n(r);if("object"==typeof a)return a.value}return Tn(!0)}var kr=$n({condition:function(e,t){try{return t(e)}catch(e){return!1}},doesNotEndWith:An,doesNotStartWith:yr,endsWith:Wn,equals:jn,greaterThan:In,greaterThanOrEquals:Ln,gt:In,gte:Ln,inside:Hn,isArray:Bn,isBetween:Un,isBlank:Xn,isBoolean:Yn,isEmpty:rr,isEven:function(e){return!!Rn(e)&&0==e%2},isFalsy:dr,isNaN:sr,isNegative:ir,isNotArray:Vn,isNotBetween:Kn,isNotBlank:Jn,isNotBoolean:er,isNotEmpty:ar,isNotNaN:or,isNotNull:Fn,isNotNumber:nr,isNotNumeric:Dn,isNotString:ur,isNotUndefined:On,isNull:qn,isNumber:tr,isNumeric:Rn,isOdd:function(e){return!!Rn(e)&&0!=e%2},isPositive:lr,isString:Pn,isTruthy:cr,isUndefined:zn,lengthEquals:Nn,lengthNotEquals:Sn,lessThan:fr,lessThanOrEquals:Gn,longerThan:En,longerThanOrEquals:function(e,t){return e.length>=Number(t)},lt:fr,lte:Gn,matches:pr,notEquals:Qn,notInside:Zn,notMatches:vr,numberEquals:gr,numberNotEquals:mr,shorterThan:function(e,t){return e.length<Number(t)},shorterThanOrEquals:function(e,t){return e.length<=Number(t)},startsWith:hr},{allOf:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return kn(wn(t,(function(t,n){(t=_n(t,e)).pass||n(t)})),Tn(!0))},anyOf:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return kn(wn(t,(function(t,n){(t=_n(t,e)).pass&&n(t)})),Tn(!1))},noneOf:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return kn(wn(t,(function(t,n){_n(t,e).pass&&n(Tn(!1))})),Tn(!0))},oneOf:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=[];return t.some((function(t){if(En(r,1))return!1;(t=_n(t,e)).pass&&r.push(t)})),Tn(Nn(r,1))},optional:function(e,t){return zn(e)||null===e?Tn(!0):_n(t,e)}},{shape:function(e,t){var n=Cr(e,t);if(!n.pass)return n;for(var r in e)if(!Object.prototype.hasOwnProperty.call(t,r))return Tn(!1);return Tn(!0)},loose:Cr,isArrayOf:function(e,t){return kn(wn(e,(function(e,n,r){(r=xr.run({value:e,set:!0,meta:{index:r}},(function(){return _n(t,e)}))).pass||n(r)})),Tn(!0))}});function Tr(e){for(var t in kr){var n=kr[t];xn(n)&&e(t,n)}}function _r(){try{return xn(Proxy)}catch(e){return!1}}function Mr(e,t,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];return Yn(e)||e&&Yn(e.pass)||br("Incorrect return value for rule: "+JSON.stringify(e)),Yn(e)?Tn(e):Tn(e.pass,Cn.apply(void 0,bn([e.message,t,n],r)))}function Nr(e){var t,n=[];return function e(r){return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var o=kr[r];n.push((function(e){return Mr.apply(void 0,bn([o.apply(void 0,bn([e],a)),r,e],a))}));var i={run:function(e){return kn(wn(n,(function(n,r){var a,s=xr.run({value:e},(function(){return n(e)}));s.pass||r(Tn(!!s.pass,null!==(a=Cn(t,e,s.message))&&void 0!==a?a:s.message))})),Tn(!0))},test:function(e){return i.run(e).pass},message:function(e){return e&&(t=e),i}};return _r()?i=new Proxy(i,{get:function(t,n){return kr[n]?e(n):t[n]}}):(Tr((function(t){i[t]=e(t)})),i)}}(e)}var Sr,Er=(Sr=yn({context:function(){return xr.useX()},extend:function(e){$n(kr,e)}},{partial:function(e){var t,n={};for(t in e)n[t]=Er.optional(e[t]);return n}}),_r()?new Proxy($n((function(e){function t(t,n,r){return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(!(s=Mr.apply(void 0,bn([xr.run({value:e},(function(){return n.apply(void 0,bn([e],a))})),r,e],a))).pass){if(!rr(s.message))throw s.message;br("enforce/"+r+" failed with "+JSON.stringify(e))}return t}}var n={};if(!_r())return Tr((function(e,r){n[e]=t(n,r,e)})),n;var r=new Proxy(n,{get:function(e,n){if(e=kr[n])return t(r,e,n)}});return r}),Sr),{get:function(e,t){return t in e?e[t]:kr[t]?Nr(t):void 0}}):(Tr((function(e){Sr[e]=Nr(e)})),Sr)),qr=function(e){return function(){return""+e++}}(0);function Fr(e){function t(e,t,a){return r.references.push(),n(e,Cn(t,a)),function(){return[r.references[e],function(t){return n(e,Cn(t,r.references[e]))}]}}function n(t,n){var s=r.references[t];r.references[t]=n,xn(t=a[t][1])&&t(n,s),xn(e)&&e()}var r={references:[]},a=[];return{registerStateKey:function(e,n){var r=a.length;return a.push([e,n]),t(r,e)},reset:function(){var e=r.references;r.references=[],a.forEach((function(n,r){return t(r,n[0],e[r])}))}}}var zr,Or=zr||(zr={});function Pr(e,t){var n=t.suiteId;return t=t.suiteName,{optionalFields:e.registerStateKey((function(){return{}})),suiteId:e.registerStateKey(n),suiteName:e.registerStateKey(t),testCallbacks:e.registerStateKey((function(){return{fieldCallbacks:{},doneCallbacks:[]}})),testObjects:e.registerStateKey((function(e){return{prev:e?e.current:[],current:[]}}))}}function Wr(e){return(e=[].concat(e))[e.length-1]}function Ar(){function e(){t=[0]}var t=[];return e(),{addLevel:function(){t.push(0)},cursorAt:function(){return Wr(t)},getCursor:function(){return[].concat(t)},next:function(){return t[t.length-1]++,Wr(t)},removeLevel:function(){t.pop()},reset:e}}Or[Or.DEFAULT=0]="DEFAULT",Or[Or.SUITE=1]="SUITE",Or[Or.EACH=2]="EACH",Or[Or.SKIP_WHEN=3]="SKIP_WHEN",Or[Or.GROUP=4]="GROUP";var jr=$r((function(e,t){return t?null:$n({},{isolate:{type:zr.DEFAULT},testCursor:Ar(),exclusion:{tests:{},groups:{}}},e)}));function Qr(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r];Bn(a)?n.push(Qr(a,t)):(a=t(a),Fn(a)&&n.push(a))}return n}function Rr(e){return[].concat(e).reduce((function(e,t){return Bn(t)?e.concat(Rr(t)):[].concat(e).concat(t)}),[])}function Dr(e,t){var n=0;for(t=t.slice(0,-1);n<t.length;n++){var r=t[n];e[r]=kn(e[r],[]),e=e[r]}return e}function Ir(e){function t(r,a){var s=t.get(r);return s?s[1]:(a=a(),n.unshift([r.concat(),a]),En(n,e)&&(n.length=e),a)}void 0===e&&(e=1);var n=[];return t.invalidate=function(e){var t=n.findIndex((function(t){var n=t[0];return Nn(e,n.length)&&e.every((function(e,t){return e===n[t]}))}));-1<t&&n.splice(t,1)},t.get=function(e){return n[n.findIndex((function(t){var n=t[0];return Nn(e,n.length)&&e.every((function(e,t){return e===n[t]}))}))]||null},t}function Lr(){return jr.useX().stateRef}function Br(){(0,Lr().testObjects()[1])((function(e){return{prev:e.prev,current:[].concat(e.current)}}))}function Vr(e){(0,Lr().testObjects()[1])((function(t){return{prev:t.prev,current:[].concat(e(t.current))}}))}function Hr(){return Rr(Qr(Lr().testObjects()[0].current,(function(e){return e.isPending()?e:null})))}var Zr=Ir();function Gr(){var e=Lr().testObjects()[0].current;return Zr([e],(function(){return Rr(e)}))}function Ur(){return jr.useX().testCursor.getCursor()}function Kr(e,t){if(e=void 0===(e=e.type)?zr.DEFAULT:e,xn(t)){var n=Ur();return jr.run({isolate:{type:e}},(function(){jr.useX().testCursor.addLevel(),Vr((function(e){return Dr(e,n)[Wr(n)]=[],e}));var e=t();return jr.useX().testCursor.removeLevel(),jr.useX().testCursor.next(),e}))}}function Xr(e,t){return!(!t||e.fieldName!==t)}function Jr(e){var t=Hr();return!rr(t)&&(e?t.some((function(t){return Xr(t,e)})):ar(t))}function Yr(e,t){function n(e,t){s[e]++,a&&(s[t]=(s[t]||[]).concat(a))}var r=t.fieldName,a=t.message;e[r]=e[r]||{errorCount:0,warnCount:0,testCount:0};var s=e[r];return t.isSkipped()||(e[r].testCount++,t.isFailing()?n("errorCount","errors"):t.isWarning()&&n("warnCount","warnings")),s}function ea(e,t,n){var r;void 0===n&&(n={});var a=(n=n||{}).group,s=n.fieldName;return t.reduce((function(t,n){if(a&&n.groupName!==a)var r=!0;else s&&!Xr(n,s)?r=!0:(r=n.warns(),r="warnings"===e!=!!r);return r||!n.hasFailures()||(t[n.fieldName]=(t[n.fieldName]||[]).concat(n.message||[])),t}),yn({},s&&((r={})[s]=[],r)))}function ta(e){return ra("errors",e)}function na(e){return ra("warnings",e)}function ra(e,t){return e=ea(e,Gr(),{fieldName:t}),t?e[t]:e}function aa(e,t){return e=oa("errors",e,t),t?e[t]:e}function sa(e,t){return e=oa("warnings",e,t),t?e[t]:e}function oa(e,t,n){return t||br("get"+e[0].toUpperCase()+e.slice(1)+"ByGroup requires a group name. Received `"+t+"` instead."),ea(e,Gr(),{group:t,fieldName:n})}function ia(e,t,n){return(n=!e.hasFailures()||n&&!Xr(e,n))||(n="warnings"===t!=!!(e=e.warns())),!n}function la(e){return ca("errors",e)}function ua(e){return ca("warnings",e)}function ca(e,t){return Gr().some((function(n){return ia(n,e,t)}))}function da(e,t){return pa("errors",e,t)}function fa(e,t){return pa("warnings",e,t)}function pa(e,t,n){return Gr().some((function(r){return t===r.groupName&&ia(r,e,n)}))}var va=Ir(20);function ga(){var e=Gr(),t={stateRef:Lr()};return va([e],jr.bind(t,(function(){var e=Lr().suiteName()[0];return $n(function(){var e={errorCount:0,groups:{},testCount:0,tests:{},warnCount:0};return Gr().forEach((function(t){var n=t.fieldName,r=t.groupName;e.tests[n]=Yr(e.tests,t),r&&(e.groups[r]=e.groups[r]||{},e.groups[r][n]=Yr(e.groups[r],t))})),function(e){for(var t in e.tests)e.errorCount+=e.tests[t].errorCount,e.warnCount+=e.tests[t].warnCount,e.testCount+=e.tests[t].testCount;return e}(e)}(),{getErrors:jr.bind(t,ta),getErrorsByGroup:jr.bind(t,aa),getWarnings:jr.bind(t,na),getWarningsByGroup:jr.bind(t,sa),hasErrors:jr.bind(t,la),hasErrorsByGroup:jr.bind(t,da),hasWarnings:jr.bind(t,ua),hasWarningsByGroup:jr.bind(t,fa),isValid:jr.bind(t,(function(e){var t=ga(),n=Gr().reduce((function(e,t){return e[t.fieldName]||t.isOmitted()&&(e[t.fieldName]=!0),e}),{});return e=(n=!!e&&!!n[e])||!t.hasErrors(e)&&(!(rr(n=Gr())||e&&rr(t.tests[e])||function(e){var t=Lr().optionalFields()[0];return ar(Hr().filter((function(n){return!(e&&!Xr(n,e))&&!0!==t[n.fieldName]})))}(e))&&function(e){var t=Gr(),n=Lr().optionalFields()[0];return t.every((function(t){return!(!e||Xr(t,e))||!0===n[t.fieldName]||t.isTested()||t.isOmitted()}))}(e))})),suiteName:e})})))}var ma=Ir(20);function ha(){var e=Gr(),t={stateRef:Lr()};return ma([e],jr.bind(t,(function(){return $n({},ga(),{done:jr.bind(t,$a)})})))}function ya(e,t,n){return!(xn(e)&&(!t||n.tests[t]&&0!==n.tests[t].testCount))}function ba(e){return!(Jr()&&(!e||Jr(e)))}function $a(){function e(){return r(ga())}for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(t=t.reverse())[0];return t=t[1],n=ha(),ya(r,t,n)?n:ba(t)?(e(),n):(xa(e,t),n)}function xa(e,t){var n=jr.bind({},e);(0,Lr().testCallbacks()[1])((function(e){return t?e.fieldCallbacks[t]=(e.fieldCallbacks[t]||[]).concat(n):e.doneCallbacks.push(n),e}))}function wa(e){return e.forEach((function(e){return e()}))}function Ca(){var e=function(){var e={};return{emit:function(t,n){e[t]&&e[t].forEach((function(e){e(n)}))},on:function(t,n){return e[t]||(e[t]=[]),e[t].push(n),{off:function(){e[t]=e[t].filter((function(e){return e!==n}))}}}}}();return e.on(Ta.TEST_COMPLETED,(function(e){if(!e.isCanceled()){e.done(),e=e.fieldName;var t=Lr().testCallbacks()[0].fieldCallbacks;e&&!Jr(e)&&Bn(t[e])&&wa(t[e]),e=Lr().testCallbacks()[0].doneCallbacks,Jr()||wa(e)}})),e.on(Ta.SUITE_COMPLETED,(function(){!function(){var e=Lr().optionalFields()[0];if(!rr(e)){var t={};Vr((function(n){return Qr(n,(function(n){var r=n.fieldName;if(t.hasOwnProperty(r))t[n.fieldName]&&n.omit();else{var a=e[r];xn(a)&&(t[r]=a(),t[n.fieldName]&&n.omit())}return n}))}))}}()})),e.on(Ta.REMOVE_FIELD,(function(e){Gr().forEach((function(t){Xr(t,e)&&(t.cancel(),function(e){Vr((function(t){return Qr(t,(function(t){return e!==t?t:null}))}))}(t))}))})),e}function ka(){var e=jr.useX();return e.bus||br(),e.bus}var Ta,_a=Ta||(Ta={});function Ma(e){return Na(0,"tests",e)}function Na(e,t,n){var r=jr.useX("hook called outside of a running suite.");n&&[].concat(n).forEach((function(n){Pn(n)&&(r.exclusion[t][n]=0===e)}))}function Sa(e){for(var t in e)if(!0===e[t])return!0;return!1}_a.TEST_COMPLETED="test_completed",_a.REMOVE_FIELD="remove_field",_a.SUITE_COMPLETED="suite_completed",Ma.group=function(e){return Na(0,"groups",e)};var Ea,qa=Ea||(Ea={});qa.Error="error",qa.Warning="warning";var Fa=function(){function e(e,t,n){var r=void 0===n?{}:n;n=r.message,r=r.groupName,this.id=qr(),this.severity=Ea.Error,this.status=za,this.fieldName=e,this.testFn=t,r&&(this.groupName=r),n&&(this.message=n)}return e.prototype.run=function(){try{var e=this.testFn()}catch(t){e=t,zn(this.message)&&Pn(e)&&(this.message=t),e=!1}return!1===e&&this.fail(),e},e.prototype.setStatus=function(e){this.isFinalStatus()&&e!==Ra||(this.status=e)},e.prototype.warns=function(){return this.severity===Ea.Warning},e.prototype.setPending=function(){this.setStatus(ja)},e.prototype.fail=function(){this.setStatus(this.warns()?Wa:Pa)},e.prototype.done=function(){this.isFinalStatus()||this.setStatus(Aa)},e.prototype.warn=function(){this.severity=Ea.Warning},e.prototype.isFinalStatus=function(){return this.hasFailures()||this.isCanceled()||this.isPassing()},e.prototype.skip=function(){this.isPending()||this.setStatus(Oa)},e.prototype.cancel=function(){this.setStatus(Qa),Br()},e.prototype.omit=function(){this.setStatus(Ra)},e.prototype.valueOf=function(){return!this.isFailing()},e.prototype.hasFailures=function(){return this.isFailing()||this.isWarning()},e.prototype.isPending=function(){return this.status===ja},e.prototype.isTested=function(){return this.hasFailures()||this.isPassing()},e.prototype.isOmitted=function(){return this.status===Ra},e.prototype.isUntested=function(){return this.status===za},e.prototype.isFailing=function(){return this.status===Pa},e.prototype.isCanceled=function(){return this.status===Qa},e.prototype.isSkipped=function(){return this.status===Oa},e.prototype.isPassing=function(){return this.status===Aa},e.prototype.isWarning=function(){return this.status===Wa},e}(),za="UNTESTED",Oa="SKIPPED",Pa="FAILED",Wa="WARNING",Aa="PASSING",ja="PENDING",Qa="CANCELED",Ra="OMITTED";function Da(e){var t=e.asyncTest,n=e.message;if(t&&xn(t.then)){var r=ka().emit,a=Lr(),s=jr.bind({stateRef:a},(function(){Br(),r(Ta.TEST_COMPLETED,e)}));a=jr.bind({stateRef:a},(function(t){e.isCanceled()||(e.message=Pn(t)?t:n,e.fail(),s())}));try{t.then(s,a)}catch(e){a()}}}function Ia(e){var t=Ur();Vr((function(n){return Dr(n,t)[Wr(t)]=e,n}))}function La(e){var t=function(e){var t=Lr().testObjects(),n=t[1],r=t[0].prev;if(rr(r))return Ia(e),e;if(function(e,t){return ar(e)&&!(e.fieldName===t.fieldName&&e.groupName===t.groupName)}(t=function(e){var t=Ur();return Dr(e,t)[Wr(t)]}(r),e)){!function(e,t){jr.useX().isolate.type!==zr.EACH&&function(e,t){setTimeout((function(){br(e,void 0)}),0)}("Vest Critical Error: Tests called in different order than previous run.\n    expected: "+e.fieldName+"\n    received: "+t.fieldName+"\n    This happens when you conditionally call your tests using if/else.\n    This might lead to incorrect validation results.\n    Replacing if/else with skipWhen solves these issues.")}(t,e),t=Dr(r,Ur());var a=jr.useX().testCursor.cursorAt();t.splice(a),n((function(e){return{prev:r,current:e.current}})),t=null}return Ia(e=kn(t,e)),e}(e);if(function(e){var t=e.fieldName;e=e.groupName;var n=jr.useX();if(n.skipped)return!0;var r=(n=n.exclusion).tests,a=r[t];if(!1===a)return!0;if(a=!0===a,e){e:{var s=jr.useX().exclusion.groups;if(Object.prototype.hasOwnProperty.call(s,e))var o=!1===s[e];else{for(o in s)if(!0===s[o]){o=!0;break e}o=!1}}if(o)return!0;if(!0===n.groups[e])return!(a||!Sa(r)&&!1!==r[t])}return!a&&Sa(r)}(e))return e.skip(),jr.useX().testCursor.next(),t;if(e!==t&&t.fieldName===e.fieldName&&t.groupName===e.groupName&&t.isPending()&&t.cancel(),Ia(e),jr.useX().testCursor.next(),e.isUntested()){t=ka();var n=function(e){return jr.run({currentTest:e},(function(){try{var t=e.testFn()}catch(n){t=n,zn(e.message)&&Pn(t)&&(e.message=n),t=!1}return!1===t&&e.fail(),t}))}(e);try{n&&xn(n.then)?(e.asyncTest=n,e.setPending(),Da(e)):t.emit(Ta.TEST_COMPLETED,e)}catch(t){br("Your test function "+e.fieldName+' returned a value. Only "false" or Promise returns are supported.')}}else(t=e.asyncTest)&&xn(t.then)&&(e.setPending(),Da(e));return e}function Ba(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];n=t.reverse(),t=n[0],n=n[1];var r=jr.useX();return La(t=new Fa(e,t,{message:n,groupName:r.groupName}))}var Va=$n(Ba,{each:function(e){return function(t){return Bn(t)||br("test.each: Expected table to be an array."),function(n){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var s=(r=r.reverse())[0],o=r[1];return Kr({type:zr.EACH},(function(){return t.map((function(t){return t=[].concat(t),e(Cn.apply(void 0,bn([n],t)),Cn.apply(void 0,bn([o],t)),(function(){return s.apply(void 0,t)}))}))}))}}}(Ba),memo:function(e){var t=Ir(100);return function(n){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];a=jr.useX().testCursor.cursorAt();var s=(r=r.reverse())[0],o=r[1],i=r[2];return a=[Lr().suiteId()[0],n,a].concat(s),null===(r=t.get(a))?t(a,(function(){return e(n,i,o)})):r[1].isCanceled()?(t.invalidate(a),t(a,(function(){return e(n,i,o)}))):La(r[1])}}(Ba)});const Ha=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(e=e.reverse())[0];e=e[1],xn(n)||br("vest.create: Expected callback to be a function.");var r=Ca(),a=Fr();return e={stateRef:Pr(a,{suiteId:qr(),suiteName:e}),bus:r},$n(jr.bind(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.reset(),Kr({type:zr.SUITE},(function(){n.apply(void 0,e)})),r.emit(Ta.SUITE_COMPLETED),ha()})),{get:jr.bind(e,ga),reset:a.reset,remove:jr.bind(e,(function(e){r.emit(Ta.REMOVE_FIELD,e)}))})}("Settings Form",((e={},t)=>{Ma(t),Va("gbMinTarget","Min can't exceed max",(()=>{Er(e.gbMinTarget).lt(e.gbMaxTarget)})),Va("gbMaxTarget","Min can't exceed max",(()=>{Er(e.gbMinTarget).lt(e.gbMaxTarget)})),Va("targetQPM","Not between min&max",(()=>{Er(e.targetQPM).gt(e.minQPM),Er(e.targetQPM).lt(e.maxQPM)})),Va("minQPM","Min can't exceed target",(()=>{Er(e.minQPM).lt(e.targetQPM)})),Va("minQPM","Min can't exceed max",(()=>{Er(e.minQPM).lt(e.maxQPM)})),Va("maxQPM","Target can't exceed max",(()=>{Er(e.maxQPM).gt(e.targetQPM)})),Va("maxQPM","Min can't exceed max",(()=>{Er(e.maxQPM).gt(e.targetQPM)})),Va("rpdMin","Min can't exceed max",(()=>{Er(e.rpdMin).lt(e.rpdMax)})),Va("rpdMax","Min can't exceed max",(()=>{Er(e.rpdMin).lt(e.rpdMax)}))}));function Za(e){let t,n,r,a,s=e[0].errorCount+"",o=e[0].errorCount>1?"s":"";return{c(){t=C("div"),n=T(s),r=T(" validation error"),a=T(o),E(t,"class","validation-errors svelte-7mbg8s")},m(e,s){$(e,t,s),h(t,n),h(t,r),h(t,a)},p(e,t){1&t&&s!==(s=e[0].errorCount+"")&&F(n,s),1&t&&o!==(o=e[0].errorCount>1?"s":"")&&F(a,o)},d(e){e&&x(t)}}}function Ga(e){let t,n;return t=new hn({props:{values:e[1]}}),{c(){he(t.$$.fragment)},m(e,r){ye(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.values=e[1]),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function Ua(e){let t,n;return t=new vn({props:{values:e[1]}}),{c(){he(t.$$.fragment)},m(e,r){ye(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.values=e[1]),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function Ka(e){let t,n;return t=new dn({props:{values:e[1]}}),{c(){he(t.$$.fragment)},m(e,r){ye(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.values=e[1]),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function Xa(e){let t,n;return t=new ln({props:{values:e[1]}}),{c(){he(t.$$.fragment)},m(e,r){ye(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.values=e[1]),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function Ja(e){let t,n,r,s,o,i,l,u,c,d,f,p,v,g,m,y,b,w,k,M,q,F,z,O,P,A,j=e[0].hasErrors(),Q=j&&Za(e);const R=[Xa,Ka,Ua,Ga],D=[];function I(e,t){return"Ganbarometer"===e[2]?0:"Reviews"===e[2]?1:"Appearance"===e[2]?2:"Advanced"===e[2]?3:-1}return~(F=I(e))&&(z=D[F]=R[F](e)),{c(){t=C("form"),n=C("h1"),n.textContent="Ganbarometer Settings",r=_(),s=C("div"),o=C("nav"),i=C("li"),i.textContent="Ganbarometer",l=_(),u=C("li"),u.textContent="Speed/Reviews",c=_(),d=C("li"),d.textContent="Appearance",f=_(),p=C("li"),p.textContent="Advanced",v=_(),Q&&Q.c(),g=_(),m=C("div"),y=C("button"),y.textContent="Defaults",b=_(),w=C("button"),k=T("Save"),M=_(),q=C("div"),z&&z.c(),E(n,"class","title svelte-7mbg8s"),E(i,"class","svelte-7mbg8s"),W(i,"active","Ganbarometer"===e[2]),E(u,"class","svelte-7mbg8s"),W(u,"active","Reviews"===e[2]),E(d,"class","svelte-7mbg8s"),W(d,"active","Appearance"===e[2]),E(p,"class","svelte-7mbg8s"),W(p,"active","Advanced"===e[2]),E(o,"class","nav svelte-7mbg8s"),E(y,"class","defaultButton svelte-7mbg8s"),E(w,"type","submit"),w.disabled=e[3],E(w,"class","svelte-7mbg8s"),E(m,"class","actions"),E(s,"class","menu svelte-7mbg8s"),E(q,"class","formInputs svelte-7mbg8s"),E(t,"aria-label","Settings Form"),E(t,"class","settingsForm svelte-7mbg8s")},m(a,x){$(a,t,x),h(t,n),h(t,r),h(t,s),h(s,o),h(o,i),h(o,l),h(o,u),h(o,c),h(o,d),h(o,f),h(o,p),h(s,v),Q&&Q.m(s,null),h(s,g),h(s,m),h(m,y),h(m,b),h(m,w),h(w,k),h(t,M),h(t,q),~F&&D[F].m(q,null),O=!0,P||(A=[N(i,"click",e[6]("Ganbarometer")),N(u,"click",e[6]("Reviews")),N(d,"click",e[6]("Appearance")),N(p,"click",e[6]("Advanced")),N(y,"click",S(e[5])),N(t,"submit",S(e[4]))],P=!0)},p(e,[t]){4&t&&W(i,"active","Ganbarometer"===e[2]),4&t&&W(u,"active","Reviews"===e[2]),4&t&&W(d,"active","Appearance"===e[2]),4&t&&W(p,"active","Advanced"===e[2]),1&t&&(j=e[0].hasErrors()),j?Q?Q.p(e,t):(Q=Za(e),Q.c(),Q.m(s,g)):Q&&(Q.d(1),Q=null),(!O||8&t)&&(w.disabled=e[3]);let n=F;F=I(e),F===n?~F&&D[F].p(e,t):(z&&(ue(),fe(D[n],1,1,(()=>{D[n]=null})),ce()),~F?(z=D[F],z?z.p(e,t):(z=D[F]=R[F](e),z.c()),de(z,1),z.m(q,null)):z=null)},i(e){O||(de(z),O=!0)},o(e){fe(z),O=!1},d(e){e&&x(t),Q&&Q.d(),~F&&D[F].d(),P=!1,a(A)}}}function Ya(e,t,n){let r,a;l(e,_t,(e=>n(8,a=e)));let{modal:s}=t,o=Object.assign({},a),i=Ha.get();let u="Ganbarometer";return function(e){B().$$.on_destroy.push(e)}((()=>{Ha.reset()})),e.$$set=e=>{"modal"in e&&n(7,s=e.modal)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=i.hasErrors())},[i,o,u,r,()=>{n(0,i=Ha(o)),i.hasErrors()||(c(_t,a=Object.assign(Object.assign({},a),o),a),s.hide())},()=>{n(1,o=Object.assign({},Tt)),Ha.reset(),n(0,i=Ha.get())},e=>()=>n(2,u=e),s]}class es extends we{constructor(e){super(),xe(this,e,Ya,Ja,o,{modal:7})}}function ts(t){let n,r,a;return{c(){n=C("button"),n.innerHTML='<svg id="b76ee484-33fd-42f4-92f5-780eb817404e" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 344.6 297.7"><path d="M200.9,314.2l-43.7,27.5a15.4,15.4,0,0,1-21.2-4.8L31,169.9a15.4,15.4,0,0,1,4.8-21.2l57.1-35.9L144,80.7" transform="translate(-23.6 -51.3)" style="fill: none;stroke: var(--textColor);stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path d="M197.2,286.8,147.9,284a15.4,15.4,0,0,1-14.5-16.2l9.9-170.3.9-16.3.6-10.4a15.4,15.4,0,0,1,16.3-14.4l132,7.6a15.4,15.4,0,0,1,14.5,16.2l-.6,10" transform="translate(-23.6 -51.3)" style="fill: none;stroke: var(--textColor);stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path d="M200.9,314.2l.7,5.1a15.3,15.3,0,0,0,17.3,13.1L350,314.5a15.3,15.3,0,0,0,13.1-17.3L336.4,101.7a15.3,15.3,0,0,0-17.3-13.1L307,90.2,188,106.5a15.3,15.3,0,0,0-13.1,17.3l22.3,163Z" transform="translate(-23.6 -51.3)" style="fill: none;stroke: var(--textColor);stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path><path style="fill: var(--textColor); stroke: none;stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px" d="M306.6,155.8c7.9-1.8,12.3.4,14.1,7.8l3.8,16.2c.6,2.5-.8,4.5-4.2,5.2s-5.3-.3-5.9-2.8L311,167.9c-.7-3.1-2.1-3.5-5.1-2.7l-90.6,21.4c-2.8.6-4,1.6-3.3,4.7l3.4,14.3c.6,2.5-1.1,4.5-4.1,5.2s-5.4-.3-5.9-2.8l-3.9-16.3c-1.7-7.3,1.1-11.3,9.1-13.2l14.6-3.5a151.7,151.7,0,0,0-11.7-10.7,3.8,3.8,0,0,1-1.3-1.9c-.4-1.5.4-3.2,2.2-4.3a10,10,0,0,1,2.5-1,5.2,5.2,0,0,1,4.6.8,144.6,144.6,0,0,1,14.9,14.5l19.7-4.7a110.2,110.2,0,0,0-10.9-12.4,3.6,3.6,0,0,1-1.2-1.7c-.4-1.7.6-3.4,2.6-4.6l2.1-.9a5,5,0,0,1,5,1.6,87.1,87.1,0,0,1,12.9,15.6l14.6-3.5a80.5,80.5,0,0,0,6.4-19.3,4.7,4.7,0,0,1,3.6-3.6,8.6,8.6,0,0,1,2.8-.1c2.5.2,3.9,1.3,4.3,3a2.8,2.8,0,0,1-.1,2,71.7,71.7,0,0,1-5.8,15.4Zm-60.2,94.6c-7.4,1.8-11.6-.4-13.2-7.3l-9.1-38.5c-1.7-7.2,1.2-10.8,9.2-12.7L292,178c8-1.9,12.3.1,14,7.2l9.1,38.5c1.6,6.9-1.1,10.7-8.6,12.5l-12.7,3,4,16.7c.7,3,2.1,3.9,4.2,3.7s6.5-1,13.1-2.6,9.9-2.3,12.1-3.5a6,6,0,0,0,3.7-4.1c.5-2.2.2-6-.6-11.4-.5-2.3.7-4.2,3.6-4.9l1.1-.3c3.4-.5,5.3,1.1,6,3.7v.3c1,6.2,1.2,13.7,0,17s-4,5.9-8,7.7-7.9,2.9-16.1,4.9-15.1,3.4-18.6,3.5c-5.1,0-8.9-2.1-10.4-8.3l-4.7-19.9-17.5,4.2c.3,19.7-14,33.8-37.1,43.2a3.1,3.1,0,0,1-1.2.5,5.2,5.2,0,0,1-6.4-3.2,3.5,3.5,0,0,1-.5-1.3c-.6-2.6.7-4.7,3.2-5.7,20-7.7,30.7-17.5,31.1-31Zm51.5-56.1-1.3-5.8c-.6-2.5-2-2.9-4.5-2.3l-55.2,13c-2.5.6-3.5,1.6-3,4.1l1.4,5.8Zm3.9,16.5-2.1-8.9-62.6,14.8,2.1,8.9ZM241,233.2l1.6,6.6c.6,2.5,2,2.9,4.5,2.3l55.1-13c2.5-.6,3.6-1.6,3-4.1l-1.6-6.6Z" transform="translate(-23.6 -51.3)"></path></svg>',E(n,"class","quiz-button svelte-o42zy6")},m(e,s){$(e,n,s),r||(a=N(n,"click",t[0]),r=!0)},p:e,i:e,o:e,d(e){e&&x(n),r=!1,a()}}}function ns(e){return[function(t){V.call(this,e,t)}]}class rs extends we{constructor(e){super(),xe(this,e,ns,ts,o,{})}}function as(t){let n,r,a;return{c(){n=C("button"),n.innerHTML='<svg id="edd52277-873a-4c78-9f5a-11032a27aff1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 297 292"><path d="M163.5,98h180m-287,0h30m226,102h31m-287,0h179m-72,102h180m-287,0h30m77-204.5A38.5,38.5,0,1,0,125,136,38.5,38.5,0,0,0,163.5,97.5ZM125,264a38.5,38.5,0,1,0,38.5,38.5A38.5,38.5,0,0,0,125,264ZM274,161a38.5,38.5,0,1,0,38.5,38.5A38.5,38.5,0,0,0,274,161Z" transform="translate(-51.5 -54)" style="fill: none;stroke: var(--textColor);stroke-linecap: round;stroke-linejoin: round;stroke-width: 10px"></path></svg>',E(n,"aria-label","settings"),E(n,"class","settings svelte-1jfd1ka")},m(e,s){$(e,n,s),r||(a=N(n,"click",t[0]),r=!0)},p:e,i:e,o:e,d(e){e&&x(n),r=!1,a()}}}function ss(e){return[function(t){V.call(this,e,t)}]}class os extends we{constructor(e){super(),xe(this,e,ss,as,o,{})}}const is=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),ls=e=>{if(0===e.length)return 0;const t=e.slice().sort(((e,t)=>e-t)),n=Math.floor(t.length/2);return t.length%2?t[n]:(t[n-1]+t[n])/2},us=e=>{if(0===e.length)return[];const t=(e=>{const t=e.map((e=>e.duration)),n=Math.min(...t);if(Math.max(...t),n>6e5)return t.map(((e,t)=>t));{const n=ls(t),r=e.map((e=>Math.abs(e.duration-n))),a=1.4826,s=ls(r)*a,o=r.map((e=>s>0?Math.abs(e-n)/s:Math.abs(e-n)/n)),i=10,l=o[o.length-1]>i?o:[...o.slice(0,-1),999999],u=e.map(((e,t)=>t)),c=u.filter(((e,t)=>l[t]>i));return c}})(e),n=[0,...t.map((e=>e+1))].slice(0,-1),r=t.map(((t,r)=>({reviews:e.slice(n[r],t+1)})));return r.map((e=>({questions:e.reviews.reduce(((e,t)=>e+t.questions),0),reading_incorrect:e.reviews.reduce(((e,t)=>e+t.reading_incorrect),0),meaning_incorrect:e.reviews.reduce(((e,t)=>e+t.meaning_incorrect),0),startTime:e.reviews[0].started,endTime:e.reviews[e.reviews.length-1].started,reviews:e.reviews})))};let cs;const ds=async e=>{if(!cs||!cs[e]){wkof.include("ItemData"),await wkof.ready("ItemData");let e=await wkof.ItemData.get_items();cs=await wkof.ItemData.get_index(e,"subject_id")}return cs[e]},fs=e=>({subject_id:e.data.subject_id,started:new Date(e.data.created_at),duration:0,reading_incorrect:+e.data.incorrect_reading_answers,meaning_incorrect:+e.data.incorrect_meaning_answers,questions:0}),ps=(e,t,n)=>{if(n[t+1]){const r=n[t+1].started.getTime(),a=e.started.getTime();if(r<a)throw"Reviews not in sequential creation order!";return Object.assign(Object.assign({},e),{duration:r-a})}return e},vs=(e,t)=>{var n,r;return new Date(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.created_at).getTime()-new Date(null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.created_at).getTime()},gs=async e=>{if(!(null==e?void 0:e.length))return[];const t=e.map(fs).map(ps),n=await(async e=>{let t=e.slice();for(let e of t){const t=await ds(+e.subject_id);e.questions="radical"===t.object?1:2,e.questions+=e.meaning_incorrect+e.reading_incorrect}return t})(t);let r=n.slice(0,-1).map((e=>e.duration)),a=ls(r);return n.length&&(n[n.length-1].duration=a),n},ms=async e=>{const t=((e=0)=>{const t=new Date;let n,r=t.getTime()-3600*t.getHours()*1e3-60*t.getMinutes()*1e3-1e3*t.getSeconds()-t.getMilliseconds();return n=e>1?new Date(r-24*(e-1)*3600*1e3):new Date(r),n})(e);wkof.include("Apiv2"),await wkof.ready("Apiv2");const n=await wkof.Apiv2.fetch_endpoint("reviews",{last_update:t.toISOString()}),r=null==n?void 0:n.data.filter((e=>{var n;return new Date(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.created_at).getTime()>=t.getTime()})).sort(vs);return gs(r)},hs=/[a-zA-Z]/,ys=(e,t=0)=>[...Array(e).keys()].map((e=>e+t));function bs(e,t,n){const r=e.slice();return r[6]=t[n],r}function $s(e){let t;return{c(){t=C("div"),E(t,"class","dot svelte-14w6xk7"),O(t,"--dotSize",.25*+e[3]+e[1]),O(t,"--color",e[0]),O(t,"animation-delay",e[6]*(+e[5]/10)+e[4])},m(e,n){$(e,t,n)},p(e,n){10&n&&O(t,"--dotSize",.25*+e[3]+e[1]),1&n&&O(t,"--color",e[0])},d(e){e&&x(t)}}}function xs(t){let n,r=ys(3,1),a=[];for(let e=0;e<r.length;e+=1)a[e]=$s(bs(t,r,e));return{c(){n=C("div");for(let e=0;e<a.length;e+=1)a[e].c();E(n,"class","wrapper svelte-14w6xk7"),O(n,"--size",t[3]+t[1]),O(n,"--duration",t[2])},m(e,t){$(e,n,t);for(let e=0;e<a.length;e+=1)a[e].m(n,null)},p(e,[t]){if(59&t){let s;for(r=ys(3,1),s=0;s<r.length;s+=1){const o=bs(e,r,s);a[s]?a[s].p(o,t):(a[s]=$s(o),a[s].c(),a[s].m(n,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=r.length}10&t&&O(n,"--size",e[3]+e[1]),4&t&&O(n,"--duration",e[2])},i:e,o:e,d(e){e&&x(n),w(a,e)}}}function ws(e,t,n){let{color:r="#FF3E00"}=t,{unit:a="px"}=t,{duration:s="0.6s"}=t,{size:o="60"}=t,i=s.match(hs)[0],l=s.replace(hs,"");return e.$$set=e=>{"color"in e&&n(0,r=e.color),"unit"in e&&n(1,a=e.unit),"duration"in e&&n(2,s=e.duration),"size"in e&&n(3,o=e.size)},[r,a,s,o,i,l]}class Cs extends we{constructor(e){super(),xe(this,e,ws,xs,o,{color:0,unit:1,duration:2,size:3})}}function ks(e){let t,n,r,a;return n=new Cs({props:{color:e[0].warnColor,size:"25",unit:"px"}}),{c(){t=C("div"),he(n.$$.fragment),E(t,"class","spinner svelte-1k20jgw")},m(e,r){$(e,t,r),ye(n,t,null),a=!0},p(e,t){const r={};1&t&&(r.color=e[0].warnColor),n.$set(r)},i(e){a||(de(n.$$.fragment,e),J((()=>{r||(r=ge(t,ft,{},!0)),r.run(1)})),a=!0)},o(e){fe(n.$$.fragment,e),r||(r=ge(t,ft,{},!1)),r.run(0),a=!1},d(e){e&&x(t),be(n),e&&r&&r.end()}}}function Ts(t){let n,r;return n=new rs({}),n.$on("click",t[4]),{c(){he(n.$$.fragment)},m(e,t){ye(n,e,t),r=!0},p:e,i(e){r||(de(n.$$.fragment,e),r=!0)},o(e){fe(n.$$.fragment,e),r=!1},d(e){be(n,e)}}}function _s(e){let t,n;return t=new es({props:{modal:Ns}}),{c(){he(t.$$.fragment)},m(e,r){ye(t,e,r),n=!0},p(e,n){const r={};0&n&&(r.modal=Ns),t.$set(r)},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function Ms(e){let t,n,r,s,o,i,l,u,c,d,f,p,v,g,m,y,b,w,k,T,M,q,F=e[1]&&ks(e),z=e[2]&&Ts(e);return d=new os({}),d.$on("click",e[7]),v=new qt({}),m=new jt({}),b=new en({}),k=new an({props:{$$slots:{default:[_s]},$$scope:{ctx:e}}}),e[8](k),{c(){t=C("div"),n=C("nav"),r=C("li"),r.textContent="Graphs",s=_(),o=C("li"),o.textContent="Data",i=_(),F&&F.c(),l=_(),u=C("div"),z&&z.c(),c=_(),he(d.$$.fragment),f=_(),p=C("div"),he(v.$$.fragment),g=_(),he(m.$$.fragment),y=_(),he(b.$$.fragment),w=_(),he(k.$$.fragment),E(r,"class","svelte-1k20jgw"),W(r,"active","chart"===e[3]),E(o,"class","svelte-1k20jgw"),W(o,"active","data"===e[3]),E(n,"class","chart-data-nav svelte-1k20jgw"),E(u,"class","action-buttons svelte-1k20jgw"),E(t,"class","controls svelte-1k20jgw"),E(p,"data-testid","gbwidgets"),E(p,"class","gbwidgets svelte-1k20jgw")},m(a,x){$(a,t,x),h(t,n),h(n,r),h(n,s),h(n,o),h(t,i),F&&F.m(t,null),h(t,l),h(t,u),z&&z.m(u,null),h(u,c),ye(d,u,null),$(a,f,x),$(a,p,x),ye(v,p,null),h(p,g),ye(m,p,null),h(p,y),ye(b,p,null),$(a,w,x),ye(k,a,x),T=!0,M||(q=[N(r,"click",S(e[5])),N(o,"click",S(e[6]))],M=!0)},p(e,[n]){8&n&&W(r,"active","chart"===e[3]),8&n&&W(o,"active","data"===e[3]),e[1]?F?(F.p(e,n),2&n&&de(F,1)):(F=ks(e),F.c(),de(F,1),F.m(t,l)):F&&(ue(),fe(F,1,1,(()=>{F=null})),ce()),e[2]?z?(z.p(e,n),4&n&&de(z,1)):(z=Ts(e),z.c(),de(z,1),z.m(u,c)):z&&(ue(),fe(z,1,1,(()=>{z=null})),ce());const a={};8192&n&&(a.$$scope={dirty:n,ctx:e}),k.$set(a)},i(e){T||(de(F),de(z),de(d.$$.fragment,e),de(v.$$.fragment,e),de(m.$$.fragment,e),de(b.$$.fragment,e),de(k.$$.fragment,e),T=!0)},o(e){fe(F),fe(z),fe(d.$$.fragment,e),fe(v.$$.fragment,e),fe(m.$$.fragment,e),fe(b.$$.fragment,e),fe(k.$$.fragment,e),T=!1},d(n){n&&x(t),F&&F.d(),z&&z.d(),be(d),n&&x(f),n&&x(p),be(v),be(m),be(b),n&&x(w),e[8](null),be(k,n),M=!1,a(q)}}}let Ns,Ss;function Es(e,t,n){let r,a,s,o,i;l(e,_t,(e=>n(0,a=e))),l(e,wt,(e=>n(10,s=e))),l(e,kt,(e=>n(11,o=e))),l(e,mt,(e=>n(3,i=e)));let u=!1;const d=async e=>{let t;n(1,u=!0);try{t=await ms(e)}catch(e){console.warn(e)}c(kt,o=(e=>{const t=e.filter(((t,n)=>!(n>0&&is(t.started,e[n-1].started)))).map((e=>e.started)).map((t=>e.filter((e=>is(e.started,t)))));let n=[];return t.forEach(((e,t)=>{const r=e.filter((e=>0===e.reading_incorrect)).reduce(((e,t)=>e+1),0),a=e.filter((e=>0===e.meaning_incorrect)).reduce(((e,t)=>e+1),0),s=e.filter((e=>e.meaning_incorrect+e.reading_incorrect===0)).reduce(((e,t)=>e+1),0),o=e.reduce(((e,t)=>e+t.questions),0),i=e.length,l={start:e[0].started,end:e[e.length-1].started,review_count:e.length,question_count:o,accuracy:s/i,reading_accuracy:r/i,meaning_accuracy:a/i};n.push(l)})),n})(t),o),c(wt,s=(e=>{const t=us(e);let n=[];return t.forEach((e=>{const t=e.reviews.reduce(((e,t)=>e+t.questions),0),r=e.reviews.reduce(((e,t)=>e+(t.meaning_incorrect+t.reading_incorrect)),0),a=t-r,s={start:e.startTime,end:e.endTime,reviewCount:e.reviews.length,questionCount:t,correctAnswerCount:a};n.push(s)})),n})(t),s),n(1,u=!1)};let f=!1;wkof.wait_state("ss_quiz","ready").then((()=>{"function"==typeof(null===ss_quiz||void 0===ss_quiz?void 0:ss_quiz.open)&&n(2,f=!0)}));return e.$$.update=()=>{1&e.$$.dirty&&d(a.daysToReview),1&e.$$.dirty&&(r=a.rQuiz&&a.kQuiz&&a.vQuiz?"rad,kan,voc":a.rQuiz&&a.kQuiz&&!a.vQuiz?"rad,kan":a.rQuiz&&!a.kQuiz&&a.vQuiz?"rad,voc":!a.rQuiz||a.kQuiz||a.vQuiz?!a.rQuiz&&a.kQuiz&&a.vQuiz?"kan,voc":a.rQuiz||!a.kQuiz||a.vQuiz?a.rQuiz||a.kQuiz||!a.vQuiz?"rad,kan,voc":"voc":"kan":"rad")},[a,u,f,i,async()=>{await wkof.wait_state("ss_quiz","ready"),ss_quiz.open({ipreset:{name:`New ${r}`,content:{wk_items:{enabled:!0,filters:{srs:{enabled:!0,value:{appr1:!0,appr2:!0}},item_type:{enabled:!0,value:r}}}}}})},()=>c(mt,i="chart",i),()=>c(mt,i="data",i),()=>Ns.show(),function(e){Z[e?"unshift":"push"]((()=>{Ns=e}))}]}class qs extends we{constructor(e){super(),xe(this,e,Es,Ms,o,{})}}function Fs(t){let n;return{c(){n=C("div"),n.innerHTML='<h2>GanbarOmeter</h2>   \n    <p>The GanbarOmeter needs the Wankani Open Framework to be installed prior to use.</p>  \n    \n    <p>Please refer to the <a href="http://community.wanikani.com/t/instructions-installing-wanikani-open-framework/28549">WKOF\n    installation instructions.</a></p>',E(n,"class","placeholder svelte-3pkdxk")},m(e,t){$(e,n,t)},i:e,o:e,d(e){e&&x(n)}}}function zs(e){let t,n;return t=new qs({}),{c(){he(t.$$.fragment)},m(e,r){ye(t,e,r),n=!0},i(e){n||(de(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function Os(e){let t,n,r,a,s;const o=[zs,Fs],i=[];return n=function(e,t){return e[1]?0:1}(e),r=i[n]=o[n](e),{c(){t=C("section"),r.c(),E(t,"data-testid","ganbarometer"),E(t,"class","ganbarometer svelte-3pkdxk"),E(t,"style",a=` \n    --bgColor: ${e[0].bgColor}; \n    --trackColor: ${e[0].trackColor}; \n    --textColor: ${e[0].textColor}; \n    --hlTextColor: ${e[0].hlTextColor}; \n    --fillColor: ${e[0].fillColor}; \n    --warnColor: ${e[0].warnColor}; \n    --lTrackColor: ${e[0].lTrackColor}; \n    --hTrackColor: ${e[0].hTrackColor};`)},m(e,r){$(e,t,r),i[n].m(t,null),s=!0},p(e,[n]){(!s||1&n&&a!==(a=` \n    --bgColor: ${e[0].bgColor}; \n    --trackColor: ${e[0].trackColor}; \n    --textColor: ${e[0].textColor}; \n    --hlTextColor: ${e[0].hlTextColor}; \n    --fillColor: ${e[0].fillColor}; \n    --warnColor: ${e[0].warnColor}; \n    --lTrackColor: ${e[0].lTrackColor}; \n    --hTrackColor: ${e[0].hTrackColor};`))&&E(t,"style",a)},i(e){s||(de(r),s=!0)},o(e){fe(r),s=!1},d(e){e&&x(t),i[n].d()}}}function Ps(e,t,n){let r;l(e,_t,(e=>n(0,r=e)));let a=!!wkof;return[r,a]}_t.subscribe((e=>Ss=e.position));const Ws=document.querySelector(".dashboard .span12");let As={target:Ws,anchor:null};switch(Ss){case"Top":As.anchor=Ws.querySelector(".progress-and-forecast");break;case"Below Forecast":As.anchor=Ws.querySelector(".srs-progress");break;case"Below SRS":As.anchor=Ws.querySelector(".row");break;case"Below Panels":As.anchor=Ws.querySelector(".row:last-of-type");break;default:As.anchor=null}const js=new class extends we{constructor(e){super(),xe(this,e,Ps,Os,o,{})}}(As);return js}();
//# sourceMappingURL=bundle.user.js.map
